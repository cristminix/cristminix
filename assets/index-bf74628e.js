(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function uB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bf={},lB={get exports(){return Bf},set exports(e){Bf=e}},$g={},ut={},cB={get exports(){return ut},set exports(e){ut=e}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=Symbol.for("react.element"),fB=Symbol.for("react.portal"),hB=Symbol.for("react.fragment"),dB=Symbol.for("react.strict_mode"),pB=Symbol.for("react.profiler"),vB=Symbol.for("react.provider"),gB=Symbol.for("react.context"),mB=Symbol.for("react.forward_ref"),yB=Symbol.for("react.suspense"),wB=Symbol.for("react.memo"),_B=Symbol.for("react.lazy"),v9=Symbol.iterator;function EB(e){return e===null||typeof e!="object"?null:(e=v9&&e[v9]||e["@@iterator"],typeof e=="function"?e:null)}var L4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O4=Object.assign,D4={};function Fl(e,t,n){this.props=e,this.context=t,this.refs=D4,this.updater=n||L4}Fl.prototype.isReactComponent={};Fl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M4(){}M4.prototype=Fl.prototype;function ob(e,t,n){this.props=e,this.context=t,this.refs=D4,this.updater=n||L4}var sb=ob.prototype=new M4;sb.constructor=ob;O4(sb,Fl.prototype);sb.isPureReactComponent=!0;var g9=Array.isArray,F4=Object.prototype.hasOwnProperty,ab={current:null},U4={key:!0,ref:!0,__self:!0,__source:!0};function B4(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)F4.call(t,r)&&!U4.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xh,type:e,key:s,ref:a,props:i,_owner:ab.current}}function bB(e,t){return{$$typeof:xh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ub(e){return typeof e=="object"&&e!==null&&e.$$typeof===xh}function TB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var m9=/\/+/g;function V1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TB(""+e.key):t.toString(36)}function ev(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xh:case fB:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+V1(a,0):r,g9(i)?(n="",e!=null&&(n=e.replace(m9,"$&/")+"/"),ev(i,t,n,"",function(h){return h})):i!=null&&(ub(i)&&(i=bB(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(m9,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",g9(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+V1(s,l);a+=ev(s,t,n,c,i)}else if(c=EB(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+V1(s,l++),a+=ev(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function yp(e,t,n){if(e==null)return e;var r=[],i=0;return ev(e,r,"","",function(s){return t.call(n,s,i++)}),r}function SB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ln={current:null},tv={transition:null},IB={ReactCurrentDispatcher:Ln,ReactCurrentBatchConfig:tv,ReactCurrentOwner:ab};Se.Children={map:yp,forEach:function(e,t,n){yp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yp(e,function(){t++}),t},toArray:function(e){return yp(e,function(t){return t})||[]},only:function(e){if(!ub(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Fl;Se.Fragment=hB;Se.Profiler=pB;Se.PureComponent=ob;Se.StrictMode=dB;Se.Suspense=yB;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IB;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O4({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ab.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)F4.call(t,c)&&!U4.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:xh,type:e.type,key:i,ref:s,props:r,_owner:a}};Se.createContext=function(e){return e={$$typeof:gB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vB,_context:e},e.Consumer=e};Se.createElement=B4;Se.createFactory=function(e){var t=B4.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:mB,render:e}};Se.isValidElement=ub;Se.lazy=function(e){return{$$typeof:_B,_payload:{_status:-1,_result:e},_init:SB}};Se.memo=function(e,t){return{$$typeof:wB,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=tv.transition;tv.transition={};try{e()}finally{tv.transition=t}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(e,t){return Ln.current.useCallback(e,t)};Se.useContext=function(e){return Ln.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Ln.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Ln.current.useEffect(e,t)};Se.useId=function(){return Ln.current.useId()};Se.useImperativeHandle=function(e,t,n){return Ln.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Ln.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Ln.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Ln.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Ln.current.useReducer(e,t,n)};Se.useRef=function(e){return Ln.current.useRef(e)};Se.useState=function(e){return Ln.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Ln.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Ln.current.useTransition()};Se.version="18.2.0";(function(e){e.exports=Se})(cB);const Ph=uB(ut);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kB=ut,CB=Symbol.for("react.element"),NB=Symbol.for("react.fragment"),AB=Object.prototype.hasOwnProperty,RB=kB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xB={key:!0,ref:!0,__self:!0,__source:!0};function j4(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)AB.call(t,r)&&!xB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:CB,type:e,key:s,ref:a,props:i,_owner:RB.current}}$g.Fragment=NB;$g.jsx=j4;$g.jsxs=j4;(function(e){e.exports=$g})(lB);const Et=Bf.Fragment,R=Bf.jsx,Z=Bf.jsxs;var Xw={},Jw={},PB={get exports(){return Jw},set exports(e){Jw=e}},dr={},Zw={},LB={get exports(){return Zw},set exports(e){Zw=e}},V4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,se){var ae=H.length;H.push(se);e:for(;0<ae;){var Y=ae-1>>>1,Ue=H[Y];if(0<i(Ue,se))H[Y]=se,H[ae]=Ue,ae=Y;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],ae=H.pop();if(ae!==se){H[0]=ae;e:for(var Y=0,Ue=H.length,Ss=Ue>>>1;Y<Ss;){var fi=2*(Y+1)-1,oc=H[fi],Ur=fi+1,Is=H[Ur];if(0>i(oc,ae))Ur<Ue&&0>i(Is,oc)?(H[Y]=Is,H[Ur]=ae,Y=Ur):(H[Y]=oc,H[fi]=ae,Y=fi);else if(Ur<Ue&&0>i(Is,ae))H[Y]=Is,H[Ur]=ae,Y=Ur;else break e}}return se}function i(H,se){var ae=H.sortIndex-se.sortIndex;return ae!==0?ae:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,v=null,m=3,y=!1,_=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=H)r(h),se.sortIndex=se.expirationTime,t(c,se);else break;se=n(h)}}function P(H){if(S=!1,I(H),!_)if(n(c)!==null)_=!0,Fr(D);else{var se=n(h);se!==null&&ji(P,se.startTime-H)}}function D(H,se){_=!1,S&&(S=!1,b(F),F=-1),y=!0;var ae=m;try{for(I(se),v=n(c);v!==null&&(!(v.expirationTime>se)||H&&!pt());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,m=v.priorityLevel;var Ue=Y(v.expirationTime<=se);se=e.unstable_now(),typeof Ue=="function"?v.callback=Ue:v===n(c)&&r(c),I(se)}else r(c);v=n(c)}if(v!==null)var Ss=!0;else{var fi=n(h);fi!==null&&ji(P,fi.startTime-se),Ss=!1}return Ss}finally{v=null,m=ae,y=!1}}var L=!1,j=null,F=-1,le=5,x=-1;function pt(){return!(e.unstable_now()-x<le)}function Dn(){if(j!==null){var H=e.unstable_now();x=H;var se=!0;try{se=j(!0,H)}finally{se?ci():(L=!1,j=null)}}else L=!1}var ci;if(typeof T=="function")ci=function(){T(Dn)};else if(typeof MessageChannel<"u"){var Bi=new MessageChannel,Mr=Bi.port2;Bi.port1.onmessage=Dn,ci=function(){Mr.postMessage(null)}}else ci=function(){C(Dn,0)};function Fr(H){j=H,L||(L=!0,ci())}function ji(H,se){F=C(function(){H(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,Fr(D))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var se=3;break;default:se=m}var ae=m;m=se;try{return H()}finally{m=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=m;m=H;try{return se()}finally{m=ae}},e.unstable_scheduleCallback=function(H,se,ae){var Y=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Y+ae:Y):ae=Y,H){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ae+Ue,H={id:p++,callback:se,priorityLevel:H,startTime:ae,expirationTime:Ue,sortIndex:-1},ae>Y?(H.sortIndex=ae,t(h,H),n(c)===null&&H===n(h)&&(S?(b(F),F=-1):S=!0,ji(P,ae-Y))):(H.sortIndex=Ue,t(c,H),_||y||(_=!0,Fr(D))),H},e.unstable_shouldYield=pt,e.unstable_wrapCallback=function(H){var se=m;return function(){var ae=m;m=se;try{return H.apply(this,arguments)}finally{m=ae}}}})(V4);(function(e){e.exports=V4})(LB);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $4=ut,lr=Zw;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q4=new Set,jf={};function Fa(e,t){ol(e,t),ol(e+"Capture",t)}function ol(e,t){for(jf[e]=t,e=0;e<t.length;e++)q4.add(t[e])}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e_=Object.prototype.hasOwnProperty,OB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y9={},w9={};function DB(e){return e_.call(w9,e)?!0:e_.call(y9,e)?!1:OB.test(e)?w9[e]=!0:(y9[e]=!0,!1)}function MB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FB(e,t,n,r){if(t===null||typeof t>"u"||MB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var lb=/[\-:]([a-z])/g;function cb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lb,cb);tn[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lb,cb);tn[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lb,cb);tn[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function fb(e,t,n,r){var i=tn.hasOwnProperty(t)?tn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FB(t,n,i,r)&&(n=null),r||i===null?DB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vo=$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),t_=Symbol.for("react.profiler"),z4=Symbol.for("react.provider"),H4=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),r_=Symbol.for("react.suspense_list"),pb=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),W4=Symbol.for("react.offscreen"),_9=Symbol.iterator;function $c(e){return e===null||typeof e!="object"?null:(e=_9&&e[_9]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,$1;function af(e){if($1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$1=t&&t[1]||""}return`
`+$1+e}var q1=!1;function z1(e,t){if(!e||q1)return"";q1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{q1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?af(e):""}function UB(e){switch(e.tag){case 5:return af(e.type);case 16:return af("Lazy");case 13:return af("Suspense");case 19:return af("SuspenseList");case 0:case 2:case 15:return e=z1(e.type,!1),e;case 11:return e=z1(e.type.render,!1),e;case 1:return e=z1(e.type,!0),e;default:return""}}function i_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lu:return"Fragment";case Pu:return"Portal";case t_:return"Profiler";case hb:return"StrictMode";case n_:return"Suspense";case r_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H4:return(e.displayName||"Context")+".Consumer";case z4:return(e._context.displayName||"Context")+".Provider";case db:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pb:return t=e.displayName||null,t!==null?t:i_(e.type)||"Memo";case Do:t=e._payload,e=e._init;try{return i_(e(t))}catch{}}return null}function BB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i_(t);case 8:return t===hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jB(e){var t=K4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _p(e){e._valueTracker||(e._valueTracker=jB(e))}function G4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function kv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o_(e,t){var n=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function E9(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=as(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Q4(e,t){t=t.checked,t!=null&&fb(e,"checked",t,!1)}function s_(e,t){Q4(e,t);var n=as(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?a_(e,t.type,n):t.hasOwnProperty("defaultValue")&&a_(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function b9(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function a_(e,t,n){(t!=="number"||kv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uf=Array.isArray;function Ku(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+as(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function u_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function T9(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(uf(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:as(n)}}function Y4(e,t){var n=as(t.value),r=as(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function S9(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ep,J4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ep=Ep||document.createElement("div"),Ep.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ep.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VB=["Webkit","ms","Moz","O"];Object.keys(pf).forEach(function(e){VB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pf[t]=pf[e]})});function Z4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pf.hasOwnProperty(e)&&pf[e]?(""+t).trim():t+"px"}function ex(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Z4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $B=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c_(e,t){if(t){if($B[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function f_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h_=null;function vb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var d_=null,Gu=null,Qu=null;function I9(e){if(e=Dh(e)){if(typeof d_!="function")throw Error($(280));var t=e.stateNode;t&&(t=Kg(t),d_(e.stateNode,e.type,t))}}function tx(e){Gu?Qu?Qu.push(e):Qu=[e]:Gu=e}function nx(){if(Gu){var e=Gu,t=Qu;if(Qu=Gu=null,I9(e),t)for(e=0;e<t.length;e++)I9(t[e])}}function rx(e,t){return e(t)}function ix(){}var H1=!1;function ox(e,t,n){if(H1)return e(t,n);H1=!0;try{return rx(e,t,n)}finally{H1=!1,(Gu!==null||Qu!==null)&&(ix(),nx())}}function $f(e,t){var n=e.stateNode;if(n===null)return null;var r=Kg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var p_=!1;if(so)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){p_=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{p_=!1}function qB(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var vf=!1,Cv=null,Nv=!1,v_=null,zB={onError:function(e){vf=!0,Cv=e}};function HB(e,t,n,r,i,s,a,l,c){vf=!1,Cv=null,qB.apply(zB,arguments)}function WB(e,t,n,r,i,s,a,l,c){if(HB.apply(this,arguments),vf){if(vf){var h=Cv;vf=!1,Cv=null}else throw Error($(198));Nv||(Nv=!0,v_=h)}}function Ua(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function k9(e){if(Ua(e)!==e)throw Error($(188))}function KB(e){var t=e.alternate;if(!t){if(t=Ua(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return k9(i),e;if(s===r)return k9(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function ax(e){return e=KB(e),e!==null?ux(e):null}function ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ux(e);if(t!==null)return t;e=e.sibling}return null}var lx=lr.unstable_scheduleCallback,C9=lr.unstable_cancelCallback,GB=lr.unstable_shouldYield,QB=lr.unstable_requestPaint,ht=lr.unstable_now,YB=lr.unstable_getCurrentPriorityLevel,gb=lr.unstable_ImmediatePriority,cx=lr.unstable_UserBlockingPriority,Av=lr.unstable_NormalPriority,XB=lr.unstable_LowPriority,fx=lr.unstable_IdlePriority,qg=null,Ii=null;function JB(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(qg,e,void 0,(e.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:tj,ZB=Math.log,ej=Math.LN2;function tj(e){return e>>>=0,e===0?32:31-(ZB(e)/ej|0)|0}var bp=64,Tp=4194304;function lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=lf(l):(s&=a,s!==0&&(r=lf(s)))}else a=n&~i,a!==0?r=lf(a):s!==0&&(r=lf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ri(t),i=1<<n,r|=e[n],t&=~i;return r}function nj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ri(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=nj(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function g_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hx(){var e=bp;return bp<<=1,!(bp&4194240)&&(bp=64),e}function W1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ri(t),e[t]=n}function ij(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ri(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function mb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ri(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fe=0;function dx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var px,yb,vx,gx,mx,m_=!1,Sp=[],Go=null,Qo=null,Yo=null,qf=new Map,zf=new Map,Uo=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N9(e,t){switch(e){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":qf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(t.pointerId)}}function zc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Dh(t),t!==null&&yb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sj(e,t,n,r,i){switch(t){case"focusin":return Go=zc(Go,e,t,n,r,i),!0;case"dragenter":return Qo=zc(Qo,e,t,n,r,i),!0;case"mouseover":return Yo=zc(Yo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qf.set(s,zc(qf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zf.set(s,zc(zf.get(s)||null,e,t,n,r,i)),!0}return!1}function yx(e){var t=ta(e.target);if(t!==null){var n=Ua(t);if(n!==null){if(t=n.tag,t===13){if(t=sx(n),t!==null){e.blockedOn=t,mx(e.priority,function(){vx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=y_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);h_=r,n.target.dispatchEvent(r),h_=null}else return t=Dh(n),t!==null&&yb(t),e.blockedOn=n,!1;t.shift()}return!0}function A9(e,t,n){nv(e)&&n.delete(t)}function aj(){m_=!1,Go!==null&&nv(Go)&&(Go=null),Qo!==null&&nv(Qo)&&(Qo=null),Yo!==null&&nv(Yo)&&(Yo=null),qf.forEach(A9),zf.forEach(A9)}function Hc(e,t){e.blockedOn===t&&(e.blockedOn=null,m_||(m_=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,aj)))}function Hf(e){function t(i){return Hc(i,e)}if(0<Sp.length){Hc(Sp[0],e);for(var n=1;n<Sp.length;n++){var r=Sp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Go!==null&&Hc(Go,e),Qo!==null&&Hc(Qo,e),Yo!==null&&Hc(Yo,e),qf.forEach(t),zf.forEach(t),n=0;n<Uo.length;n++)r=Uo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Uo.length&&(n=Uo[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&Uo.shift()}var Yu=vo.ReactCurrentBatchConfig,xv=!0;function uj(e,t,n,r){var i=Fe,s=Yu.transition;Yu.transition=null;try{Fe=1,wb(e,t,n,r)}finally{Fe=i,Yu.transition=s}}function lj(e,t,n,r){var i=Fe,s=Yu.transition;Yu.transition=null;try{Fe=4,wb(e,t,n,r)}finally{Fe=i,Yu.transition=s}}function wb(e,t,n,r){if(xv){var i=y_(e,t,n,r);if(i===null)nw(e,t,r,Pv,n),N9(e,r);else if(sj(i,e,t,n,r))r.stopPropagation();else if(N9(e,r),t&4&&-1<oj.indexOf(e)){for(;i!==null;){var s=Dh(i);if(s!==null&&px(s),s=y_(e,t,n,r),s===null&&nw(e,t,r,Pv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nw(e,t,r,null,n)}}var Pv=null;function y_(e,t,n,r){if(Pv=null,e=vb(r),e=ta(e),e!==null)if(t=Ua(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pv=e,null}function wx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YB()){case gb:return 1;case cx:return 4;case Av:case XB:return 16;case fx:return 536870912;default:return 16}default:return 16}}var zo=null,_b=null,rv=null;function _x(){if(rv)return rv;var e,t=_b,n=t.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return rv=i.slice(e,1<r?1-r:void 0)}function iv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ip(){return!0}function R9(){return!1}function pr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ip:R9,this.isPropagationStopped=R9,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ip)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ip)},persist:function(){},isPersistent:Ip}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eb=pr(Ul),Oh=it({},Ul,{view:0,detail:0}),cj=pr(Oh),K1,G1,Wc,zg=it({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wc&&(Wc&&e.type==="mousemove"?(K1=e.screenX-Wc.screenX,G1=e.screenY-Wc.screenY):G1=K1=0,Wc=e),K1)},movementY:function(e){return"movementY"in e?e.movementY:G1}}),x9=pr(zg),fj=it({},zg,{dataTransfer:0}),hj=pr(fj),dj=it({},Oh,{relatedTarget:0}),Q1=pr(dj),pj=it({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),vj=pr(pj),gj=it({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mj=pr(gj),yj=it({},Ul,{data:0}),P9=pr(yj),wj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ej={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ej[e])?!!t[e]:!1}function bb(){return bj}var Tj=it({},Oh,{key:function(e){if(e.key){var t=wj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_j[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bb,charCode:function(e){return e.type==="keypress"?iv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sj=pr(Tj),Ij=it({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L9=pr(Ij),kj=it({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bb}),Cj=pr(kj),Nj=it({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aj=pr(Nj),Rj=it({},zg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xj=pr(Rj),Pj=[9,13,27,32],Tb=so&&"CompositionEvent"in window,gf=null;so&&"documentMode"in document&&(gf=document.documentMode);var Lj=so&&"TextEvent"in window&&!gf,Ex=so&&(!Tb||gf&&8<gf&&11>=gf),O9=String.fromCharCode(32),D9=!1;function bx(e,t){switch(e){case"keyup":return Pj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ou=!1;function Oj(e,t){switch(e){case"compositionend":return Tx(t);case"keypress":return t.which!==32?null:(D9=!0,O9);case"textInput":return e=t.data,e===O9&&D9?null:e;default:return null}}function Dj(e,t){if(Ou)return e==="compositionend"||!Tb&&bx(e,t)?(e=_x(),rv=_b=zo=null,Ou=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ex&&t.locale!=="ko"?null:t.data;default:return null}}var Mj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M9(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mj[e.type]:t==="textarea"}function Sx(e,t,n,r){tx(r),t=Lv(t,"onChange"),0<t.length&&(n=new Eb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mf=null,Wf=null;function Fj(e){Dx(e,0)}function Hg(e){var t=Fu(e);if(G4(t))return e}function Uj(e,t){if(e==="change")return t}var Ix=!1;if(so){var Y1;if(so){var X1="oninput"in document;if(!X1){var F9=document.createElement("div");F9.setAttribute("oninput","return;"),X1=typeof F9.oninput=="function"}Y1=X1}else Y1=!1;Ix=Y1&&(!document.documentMode||9<document.documentMode)}function U9(){mf&&(mf.detachEvent("onpropertychange",kx),Wf=mf=null)}function kx(e){if(e.propertyName==="value"&&Hg(Wf)){var t=[];Sx(t,Wf,e,vb(e)),ox(Fj,t)}}function Bj(e,t,n){e==="focusin"?(U9(),mf=t,Wf=n,mf.attachEvent("onpropertychange",kx)):e==="focusout"&&U9()}function jj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hg(Wf)}function Vj(e,t){if(e==="click")return Hg(t)}function $j(e,t){if(e==="input"||e==="change")return Hg(t)}function qj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ai=typeof Object.is=="function"?Object.is:qj;function Kf(e,t){if(ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!e_.call(t,i)||!ai(e[i],t[i]))return!1}return!0}function B9(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j9(e,t){var n=B9(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B9(n)}}function Cx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nx(){for(var e=window,t=kv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=kv(e.document)}return t}function Sb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zj(e){var t=Nx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cx(n.ownerDocument.documentElement,n)){if(r!==null&&Sb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=j9(n,s);var a=j9(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hj=so&&"documentMode"in document&&11>=document.documentMode,Du=null,w_=null,yf=null,__=!1;function V9(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;__||Du==null||Du!==kv(r)||(r=Du,"selectionStart"in r&&Sb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yf&&Kf(yf,r)||(yf=r,r=Lv(w_,"onSelect"),0<r.length&&(t=new Eb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Du)))}function kp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mu={animationend:kp("Animation","AnimationEnd"),animationiteration:kp("Animation","AnimationIteration"),animationstart:kp("Animation","AnimationStart"),transitionend:kp("Transition","TransitionEnd")},J1={},Ax={};so&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function Wg(e){if(J1[e])return J1[e];if(!Mu[e])return e;var t=Mu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ax)return J1[e]=t[n];return e}var Rx=Wg("animationend"),xx=Wg("animationiteration"),Px=Wg("animationstart"),Lx=Wg("transitionend"),Ox=new Map,$9="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){Ox.set(e,t),Fa(t,[e])}for(var Z1=0;Z1<$9.length;Z1++){var ew=$9[Z1],Wj=ew.toLowerCase(),Kj=ew[0].toUpperCase()+ew.slice(1);vs(Wj,"on"+Kj)}vs(Rx,"onAnimationEnd");vs(xx,"onAnimationIteration");vs(Px,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(Lx,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gj=new Set("cancel close invalid load scroll toggle".split(" ").concat(cf));function q9(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,WB(r,t,void 0,e),e.currentTarget=null}function Dx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;q9(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;q9(i,l,h),s=c}}}if(Nv)throw e=v_,Nv=!1,v_=null,e}function ze(e,t){var n=t[I_];n===void 0&&(n=t[I_]=new Set);var r=e+"__bubble";n.has(r)||(Mx(t,e,2,!1),n.add(r))}function tw(e,t,n){var r=0;t&&(r|=4),Mx(n,e,r,t)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[Cp]){e[Cp]=!0,q4.forEach(function(n){n!=="selectionchange"&&(Gj.has(n)||tw(n,!1,e),tw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cp]||(t[Cp]=!0,tw("selectionchange",!1,t))}}function Mx(e,t,n,r){switch(wx(t)){case 1:var i=uj;break;case 4:i=lj;break;default:i=wb}n=i.bind(null,t,n,e),i=void 0,!p_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nw(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ta(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}ox(function(){var h=s,p=vb(n),v=[];e:{var m=Ox.get(e);if(m!==void 0){var y=Eb,_=e;switch(e){case"keypress":if(iv(n)===0)break e;case"keydown":case"keyup":y=Sj;break;case"focusin":_="focus",y=Q1;break;case"focusout":_="blur",y=Q1;break;case"beforeblur":case"afterblur":y=Q1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=x9;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=hj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Cj;break;case Rx:case xx:case Px:y=vj;break;case Lx:y=Aj;break;case"scroll":y=cj;break;case"wheel":y=xj;break;case"copy":case"cut":case"paste":y=mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=L9}var S=(t&4)!==0,C=!S&&e==="scroll",b=S?m!==null?m+"Capture":null:m;S=[];for(var T=h,I;T!==null;){I=T;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,b!==null&&(P=$f(T,b),P!=null&&S.push(Qf(T,P,I)))),C)break;T=T.return}0<S.length&&(m=new y(m,_,null,n,p),v.push({event:m,listeners:S}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==h_&&(_=n.relatedTarget||n.fromElement)&&(ta(_)||_[ao]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=h,_=_?ta(_):null,_!==null&&(C=Ua(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(S=x9,P="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(S=L9,P="onPointerLeave",b="onPointerEnter",T="pointer"),C=y==null?m:Fu(y),I=_==null?m:Fu(_),m=new S(P,T+"leave",y,n,p),m.target=C,m.relatedTarget=I,P=null,ta(p)===h&&(S=new S(b,T+"enter",_,n,p),S.target=I,S.relatedTarget=C,P=S),C=P,y&&_)t:{for(S=y,b=_,T=0,I=S;I;I=Tu(I))T++;for(I=0,P=b;P;P=Tu(P))I++;for(;0<T-I;)S=Tu(S),T--;for(;0<I-T;)b=Tu(b),I--;for(;T--;){if(S===b||b!==null&&S===b.alternate)break t;S=Tu(S),b=Tu(b)}S=null}else S=null;y!==null&&z9(v,m,y,S,!1),_!==null&&C!==null&&z9(v,C,_,S,!0)}}e:{if(m=h?Fu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=Uj;else if(M9(m))if(Ix)D=$j;else{D=jj;var L=Bj}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Vj);if(D&&(D=D(e,h))){Sx(v,D,n,p);break e}L&&L(e,m,h),e==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&a_(m,"number",m.value)}switch(L=h?Fu(h):window,e){case"focusin":(M9(L)||L.contentEditable==="true")&&(Du=L,w_=h,yf=null);break;case"focusout":yf=w_=Du=null;break;case"mousedown":__=!0;break;case"contextmenu":case"mouseup":case"dragend":__=!1,V9(v,n,p);break;case"selectionchange":if(Hj)break;case"keydown":case"keyup":V9(v,n,p)}var j;if(Tb)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ou?bx(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Ex&&n.locale!=="ko"&&(Ou||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ou&&(j=_x()):(zo=p,_b="value"in zo?zo.value:zo.textContent,Ou=!0)),L=Lv(h,F),0<L.length&&(F=new P9(F,e,null,n,p),v.push({event:F,listeners:L}),j?F.data=j:(j=Tx(n),j!==null&&(F.data=j)))),(j=Lj?Oj(e,n):Dj(e,n))&&(h=Lv(h,"onBeforeInput"),0<h.length&&(p=new P9("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=j))}Dx(v,t)})}function Qf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$f(e,n),s!=null&&r.unshift(Qf(e,s,i)),s=$f(e,t),s!=null&&r.push(Qf(e,s,i))),e=e.return}return r}function Tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z9(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=$f(n,s),c!=null&&a.unshift(Qf(n,c,l))):i||(c=$f(n,s),c!=null&&a.push(Qf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Qj=/\r\n?/g,Yj=/\u0000|\uFFFD/g;function H9(e){return(typeof e=="string"?e:""+e).replace(Qj,`
`).replace(Yj,"")}function Np(e,t,n){if(t=H9(t),H9(e)!==t&&n)throw Error($(425))}function Ov(){}var E_=null,b_=null;function T_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var S_=typeof setTimeout=="function"?setTimeout:void 0,Xj=typeof clearTimeout=="function"?clearTimeout:void 0,W9=typeof Promise=="function"?Promise:void 0,Jj=typeof queueMicrotask=="function"?queueMicrotask:typeof W9<"u"?function(e){return W9.resolve(null).then(e).catch(Zj)}:S_;function Zj(e){setTimeout(function(){throw e})}function rw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hf(t)}function Xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function K9(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Bl,Yf="__reactProps$"+Bl,ao="__reactContainer$"+Bl,I_="__reactEvents$"+Bl,eV="__reactListeners$"+Bl,tV="__reactHandles$"+Bl;function ta(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ao]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=K9(e);e!==null;){if(n=e[Ti])return n;e=K9(e)}return t}e=n,n=e.parentNode}return null}function Dh(e){return e=e[Ti]||e[ao],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Kg(e){return e[Yf]||null}var k_=[],Uu=-1;function gs(e){return{current:e}}function We(e){0>Uu||(e.current=k_[Uu],k_[Uu]=null,Uu--)}function $e(e,t){Uu++,k_[Uu]=e.current,e.current=t}var us={},vn=gs(us),zn=gs(!1),wa=us;function sl(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hn(e){return e=e.childContextTypes,e!=null}function Dv(){We(zn),We(vn)}function G9(e,t,n){if(vn.current!==us)throw Error($(168));$e(vn,t),$e(zn,n)}function Fx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,BB(e)||"Unknown",i));return it({},n,r)}function Mv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,wa=vn.current,$e(vn,e),$e(zn,zn.current),!0}function Q9(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Fx(e,t,wa),r.__reactInternalMemoizedMergedChildContext=e,We(zn),We(vn),$e(vn,e)):We(zn),$e(zn,n)}var Yi=null,Gg=!1,iw=!1;function Ux(e){Yi===null?Yi=[e]:Yi.push(e)}function nV(e){Gg=!0,Ux(e)}function ms(){if(!iw&&Yi!==null){iw=!0;var e=0,t=Fe;try{var n=Yi;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yi=null,Gg=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(e+1)),lx(gb,ms),i}finally{Fe=t,iw=!1}}return null}var Bu=[],ju=0,Fv=null,Uv=0,wr=[],_r=0,_a=null,Xi=1,Ji="";function Gs(e,t){Bu[ju++]=Uv,Bu[ju++]=Fv,Fv=e,Uv=t}function Bx(e,t,n){wr[_r++]=Xi,wr[_r++]=Ji,wr[_r++]=_a,_a=e;var r=Xi;e=Ji;var i=32-ri(r)-1;r&=~(1<<i),n+=1;var s=32-ri(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-ri(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function Ib(e){e.return!==null&&(Gs(e,1),Bx(e,1,0))}function kb(e){for(;e===Fv;)Fv=Bu[--ju],Bu[ju]=null,Uv=Bu[--ju],Bu[ju]=null;for(;e===_a;)_a=wr[--_r],wr[_r]=null,Ji=wr[--_r],wr[_r]=null,Xi=wr[--_r],wr[_r]=null}var ur=null,ir=null,Qe=!1,ti=null;function jx(e,t){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Y9(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,ir=Xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_a!==null?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ur=e,ir=null,!0):!1;default:return!1}}function C_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N_(e){if(Qe){var t=ir;if(t){var n=t;if(!Y9(e,t)){if(C_(e))throw Error($(418));t=Xo(n.nextSibling);var r=ur;t&&Y9(e,t)?jx(r,n):(e.flags=e.flags&-4097|2,Qe=!1,ur=e)}}else{if(C_(e))throw Error($(418));e.flags=e.flags&-4097|2,Qe=!1,ur=e}}}function X9(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Ap(e){if(e!==ur)return!1;if(!Qe)return X9(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!T_(e.type,e.memoizedProps)),t&&(t=ir)){if(C_(e))throw Vx(),Error($(418));for(;t;)jx(e,t),t=Xo(t.nextSibling)}if(X9(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ir=Xo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=ur?Xo(e.stateNode.nextSibling):null;return!0}function Vx(){for(var e=ir;e;)e=Xo(e.nextSibling)}function al(){ir=ur=null,Qe=!1}function Cb(e){ti===null?ti=[e]:ti.push(e)}var rV=vo.ReactCurrentBatchConfig;function Xr(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Bv=gs(null),jv=null,Vu=null,Nb=null;function Ab(){Nb=Vu=jv=null}function Rb(e){var t=Bv.current;We(Bv),e._currentValue=t}function A_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xu(e,t){jv=e,Nb=Vu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(Nb!==e)if(e={context:e,memoizedValue:t,next:null},Vu===null){if(jv===null)throw Error($(308));Vu=e,jv.dependencies={lanes:0,firstContext:e}}else Vu=Vu.next=e;return t}var na=null;function xb(e){na===null?na=[e]:na.push(e)}function $x(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,xb(t)):(n.next=i.next,i.next=n),t.interleaved=n,uo(e,r)}function uo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mo=!1;function Pb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,uo(e,n)}return i=r.interleaved,i===null?(t.next=t,xb(r)):(t.next=i.next,i.next=t),r.interleaved=t,uo(e,n)}function ov(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mb(e,n)}}function J9(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vv(e,t,n,r){var i=e.updateQueue;Mo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,p=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,S=l;switch(m=t,y=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){v=_.call(y,v,m);break e}v=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,m=typeof _=="function"?_.call(y,v,m):_,m==null)break e;v=it({},v,m);break e;case 2:Mo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=v):p=p.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ba|=a,e.lanes=a,e.memoizedState=v}}function Z9(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var zx=new $4.Component().refs;function R_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:it({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qg={isMounted:function(e){return(e=e._reactInternals)?Ua(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rn(),i=es(e),s=no(r,i);s.payload=t,n!=null&&(s.callback=n),t=Jo(e,s,i),t!==null&&(ii(t,e,i,r),ov(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rn(),i=es(e),s=no(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Jo(e,s,i),t!==null&&(ii(t,e,i,r),ov(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rn(),r=es(e),i=no(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jo(e,i,r),t!==null&&(ii(t,e,r,n),ov(t,e,r))}};function eN(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kf(n,r)||!Kf(i,s):!0}function Hx(e,t,n){var r=!1,i=us,s=t.contextType;return typeof s=="object"&&s!==null?s=xr(s):(i=Hn(t)?wa:vn.current,r=t.contextTypes,s=(r=r!=null)?sl(e,i):us),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function tN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qg.enqueueReplaceState(t,t.state,null)}function x_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zx,Pb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xr(s):(s=Hn(t)?wa:vn.current,i.context=sl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(R_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qg.enqueueReplaceState(i,i.state,null),Vv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===zx&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Rp(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nN(e){var t=e._init;return t(e._payload)}function Wx(e){function t(b,T){if(e){var I=b.deletions;I===null?(b.deletions=[T],b.flags|=16):I.push(T)}}function n(b,T){if(!e)return null;for(;T!==null;)t(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(b,T){return b=ts(b,T),b.index=0,b.sibling=null,b}function s(b,T,I){return b.index=I,e?(I=b.alternate,I!==null?(I=I.index,I<T?(b.flags|=2,T):I):(b.flags|=2,T)):(b.flags|=1048576,T)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,T,I,P){return T===null||T.tag!==6?(T=fw(I,b.mode,P),T.return=b,T):(T=i(T,I),T.return=b,T)}function c(b,T,I,P){var D=I.type;return D===Lu?p(b,T,I.props.children,P,I.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Do&&nN(D)===T.type)?(P=i(T,I.props),P.ref=Kc(b,T,I),P.return=b,P):(P=fv(I.type,I.key,I.props,null,b.mode,P),P.ref=Kc(b,T,I),P.return=b,P)}function h(b,T,I,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=hw(I,b.mode,P),T.return=b,T):(T=i(T,I.children||[]),T.return=b,T)}function p(b,T,I,P,D){return T===null||T.tag!==7?(T=ha(I,b.mode,P,D),T.return=b,T):(T=i(T,I),T.return=b,T)}function v(b,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=fw(""+T,b.mode,I),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wp:return I=fv(T.type,T.key,T.props,null,b.mode,I),I.ref=Kc(b,null,T),I.return=b,I;case Pu:return T=hw(T,b.mode,I),T.return=b,T;case Do:var P=T._init;return v(b,P(T._payload),I)}if(uf(T)||$c(T))return T=ha(T,b.mode,I,null),T.return=b,T;Rp(b,T)}return null}function m(b,T,I,P){var D=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:l(b,T,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wp:return I.key===D?c(b,T,I,P):null;case Pu:return I.key===D?h(b,T,I,P):null;case Do:return D=I._init,m(b,T,D(I._payload),P)}if(uf(I)||$c(I))return D!==null?null:p(b,T,I,P,null);Rp(b,I)}return null}function y(b,T,I,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(I)||null,l(T,b,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case wp:return b=b.get(P.key===null?I:P.key)||null,c(T,b,P,D);case Pu:return b=b.get(P.key===null?I:P.key)||null,h(T,b,P,D);case Do:var L=P._init;return y(b,T,I,L(P._payload),D)}if(uf(P)||$c(P))return b=b.get(I)||null,p(T,b,P,D,null);Rp(T,P)}return null}function _(b,T,I,P){for(var D=null,L=null,j=T,F=T=0,le=null;j!==null&&F<I.length;F++){j.index>F?(le=j,j=null):le=j.sibling;var x=m(b,j,I[F],P);if(x===null){j===null&&(j=le);break}e&&j&&x.alternate===null&&t(b,j),T=s(x,T,F),L===null?D=x:L.sibling=x,L=x,j=le}if(F===I.length)return n(b,j),Qe&&Gs(b,F),D;if(j===null){for(;F<I.length;F++)j=v(b,I[F],P),j!==null&&(T=s(j,T,F),L===null?D=j:L.sibling=j,L=j);return Qe&&Gs(b,F),D}for(j=r(b,j);F<I.length;F++)le=y(j,b,F,I[F],P),le!==null&&(e&&le.alternate!==null&&j.delete(le.key===null?F:le.key),T=s(le,T,F),L===null?D=le:L.sibling=le,L=le);return e&&j.forEach(function(pt){return t(b,pt)}),Qe&&Gs(b,F),D}function S(b,T,I,P){var D=$c(I);if(typeof D!="function")throw Error($(150));if(I=D.call(I),I==null)throw Error($(151));for(var L=D=null,j=T,F=T=0,le=null,x=I.next();j!==null&&!x.done;F++,x=I.next()){j.index>F?(le=j,j=null):le=j.sibling;var pt=m(b,j,x.value,P);if(pt===null){j===null&&(j=le);break}e&&j&&pt.alternate===null&&t(b,j),T=s(pt,T,F),L===null?D=pt:L.sibling=pt,L=pt,j=le}if(x.done)return n(b,j),Qe&&Gs(b,F),D;if(j===null){for(;!x.done;F++,x=I.next())x=v(b,x.value,P),x!==null&&(T=s(x,T,F),L===null?D=x:L.sibling=x,L=x);return Qe&&Gs(b,F),D}for(j=r(b,j);!x.done;F++,x=I.next())x=y(j,b,F,x.value,P),x!==null&&(e&&x.alternate!==null&&j.delete(x.key===null?F:x.key),T=s(x,T,F),L===null?D=x:L.sibling=x,L=x);return e&&j.forEach(function(Dn){return t(b,Dn)}),Qe&&Gs(b,F),D}function C(b,T,I,P){if(typeof I=="object"&&I!==null&&I.type===Lu&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case wp:e:{for(var D=I.key,L=T;L!==null;){if(L.key===D){if(D=I.type,D===Lu){if(L.tag===7){n(b,L.sibling),T=i(L,I.props.children),T.return=b,b=T;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Do&&nN(D)===L.type){n(b,L.sibling),T=i(L,I.props),T.ref=Kc(b,L,I),T.return=b,b=T;break e}n(b,L);break}else t(b,L);L=L.sibling}I.type===Lu?(T=ha(I.props.children,b.mode,P,I.key),T.return=b,b=T):(P=fv(I.type,I.key,I.props,null,b.mode,P),P.ref=Kc(b,T,I),P.return=b,b=P)}return a(b);case Pu:e:{for(L=I.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(b,T.sibling),T=i(T,I.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else t(b,T);T=T.sibling}T=hw(I,b.mode,P),T.return=b,b=T}return a(b);case Do:return L=I._init,C(b,T,L(I._payload),P)}if(uf(I))return _(b,T,I,P);if($c(I))return S(b,T,I,P);Rp(b,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(b,T.sibling),T=i(T,I),T.return=b,b=T):(n(b,T),T=fw(I,b.mode,P),T.return=b,b=T),a(b)):n(b,T)}return C}var ul=Wx(!0),Kx=Wx(!1),Mh={},ki=gs(Mh),Xf=gs(Mh),Jf=gs(Mh);function ra(e){if(e===Mh)throw Error($(174));return e}function Lb(e,t){switch($e(Jf,t),$e(Xf,e),$e(ki,Mh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:l_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=l_(t,e)}We(ki),$e(ki,t)}function ll(){We(ki),We(Xf),We(Jf)}function Gx(e){ra(Jf.current);var t=ra(ki.current),n=l_(t,e.type);t!==n&&($e(Xf,e),$e(ki,n))}function Ob(e){Xf.current===e&&(We(ki),We(Xf))}var et=gs(0);function $v(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ow=[];function Db(){for(var e=0;e<ow.length;e++)ow[e]._workInProgressVersionPrimary=null;ow.length=0}var sv=vo.ReactCurrentDispatcher,sw=vo.ReactCurrentBatchConfig,Ea=0,rt=null,Ct=null,Dt=null,qv=!1,wf=!1,Zf=0,iV=0;function on(){throw Error($(321))}function Mb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function Fb(e,t,n,r,i,s){if(Ea=s,rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sv.current=e===null||e.memoizedState===null?uV:lV,e=n(r,i),wf){s=0;do{if(wf=!1,Zf=0,25<=s)throw Error($(301));s+=1,Dt=Ct=null,t.updateQueue=null,sv.current=cV,e=n(r,i)}while(wf)}if(sv.current=zv,t=Ct!==null&&Ct.next!==null,Ea=0,Dt=Ct=rt=null,qv=!1,t)throw Error($(300));return e}function Ub(){var e=Zf!==0;return Zf=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?rt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Pr(){if(Ct===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Dt===null?rt.memoizedState:Dt.next;if(t!==null)Dt=t,Ct=e;else{if(e===null)throw Error($(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?rt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function eh(e,t){return typeof t=="function"?t(e):t}function aw(e){var t=Pr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((Ea&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,rt.lanes|=p,ba|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,ai(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,rt.lanes|=s,ba|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function uw(e){var t=Pr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ai(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Qx(){}function Yx(e,t){var n=rt,r=Pr(),i=t(),s=!ai(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,Bb(Zx.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,th(9,Jx.bind(null,n,r,i,t),void 0,null),Vt===null)throw Error($(349));Ea&30||Xx(n,t,i)}return i}function Xx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jx(e,t,n,r){t.value=n,t.getSnapshot=r,eP(t)&&tP(e)}function Zx(e,t,n){return n(function(){eP(t)&&tP(e)})}function eP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch{return!0}}function tP(e){var t=uo(e,1);t!==null&&ii(t,e,1,-1)}function rN(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:e},t.queue=e,e=e.dispatch=aV.bind(null,rt,e),[t.memoizedState,e]}function th(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=rt.updateQueue,t===null?(t={lastEffect:null,stores:null},rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nP(){return Pr().memoizedState}function av(e,t,n,r){var i=Ei();rt.flags|=e,i.memoizedState=th(1|t,n,void 0,r===void 0?null:r)}function Yg(e,t,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var a=Ct.memoizedState;if(s=a.destroy,r!==null&&Mb(r,a.deps)){i.memoizedState=th(t,n,s,r);return}}rt.flags|=e,i.memoizedState=th(1|t,n,s,r)}function iN(e,t){return av(8390656,8,e,t)}function Bb(e,t){return Yg(2048,8,e,t)}function rP(e,t){return Yg(4,2,e,t)}function iP(e,t){return Yg(4,4,e,t)}function oP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sP(e,t,n){return n=n!=null?n.concat([e]):null,Yg(4,4,oP.bind(null,t,e),n)}function jb(){}function aP(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uP(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lP(e,t,n){return Ea&21?(ai(n,t)||(n=hx(),rt.lanes|=n,ba|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function oV(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=sw.transition;sw.transition={};try{e(!1),t()}finally{Fe=n,sw.transition=r}}function cP(){return Pr().memoizedState}function sV(e,t,n){var r=es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fP(e))hP(t,n);else if(n=$x(e,t,n,r),n!==null){var i=Rn();ii(n,e,r,i),dP(n,t,r)}}function aV(e,t,n){var r=es(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fP(e))hP(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,ai(l,a)){var c=t.interleaved;c===null?(i.next=i,xb(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=$x(e,t,i,r),n!==null&&(i=Rn(),ii(n,e,r,i),dP(n,t,r))}}function fP(e){var t=e.alternate;return e===rt||t!==null&&t===rt}function hP(e,t){wf=qv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mb(e,n)}}var zv={readContext:xr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},uV={readContext:xr,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:iN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,av(4194308,4,oP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return av(4194308,4,e,t)},useInsertionEffect:function(e,t){return av(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sV.bind(null,rt,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:rN,useDebugValue:jb,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=rN(!1),t=e[0];return e=oV.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=rt,i=Ei();if(Qe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Vt===null)throw Error($(349));Ea&30||Xx(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,iN(Zx.bind(null,r,s,e),[e]),r.flags|=2048,th(9,Jx.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ei(),t=Vt.identifierPrefix;if(Qe){var n=Ji,r=Xi;n=(r&~(1<<32-ri(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=iV++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lV={readContext:xr,useCallback:aP,useContext:xr,useEffect:Bb,useImperativeHandle:sP,useInsertionEffect:rP,useLayoutEffect:iP,useMemo:uP,useReducer:aw,useRef:nP,useState:function(){return aw(eh)},useDebugValue:jb,useDeferredValue:function(e){var t=Pr();return lP(t,Ct.memoizedState,e)},useTransition:function(){var e=aw(eh)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:Qx,useSyncExternalStore:Yx,useId:cP,unstable_isNewReconciler:!1},cV={readContext:xr,useCallback:aP,useContext:xr,useEffect:Bb,useImperativeHandle:sP,useInsertionEffect:rP,useLayoutEffect:iP,useMemo:uP,useReducer:uw,useRef:nP,useState:function(){return uw(eh)},useDebugValue:jb,useDeferredValue:function(e){var t=Pr();return Ct===null?t.memoizedState=e:lP(t,Ct.memoizedState,e)},useTransition:function(){var e=uw(eh)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:Qx,useSyncExternalStore:Yx,useId:cP,unstable_isNewReconciler:!1};function cl(e,t){try{var n="",r=t;do n+=UB(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function lw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function P_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fV=typeof WeakMap=="function"?WeakMap:Map;function pP(e,t,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wv||(Wv=!0,$_=r),P_(e,t)},n}function vP(e,t,n){n=no(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){P_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){P_(e,t),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function oN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fV;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=IV.bind(null,e,t,n),t.then(e,e))}function sN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aN(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=no(-1,1),t.tag=2,Jo(n,t,1))),n.lanes|=1),e)}var hV=vo.ReactCurrentOwner,$n=!1;function Tn(e,t,n,r){t.child=e===null?Kx(t,null,n,r):ul(t,e.child,n,r)}function uN(e,t,n,r,i){n=n.render;var s=t.ref;return Xu(t,i),r=Fb(e,t,n,r,s,i),n=Ub(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lo(e,t,i)):(Qe&&n&&Ib(t),t.flags|=1,Tn(e,t,r,i),t.child)}function lN(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Gb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gP(e,t,s,r,i)):(e=fv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kf,n(a,r)&&e.ref===t.ref)return lo(e,t,i)}return t.flags|=1,e=ts(s,r),e.ref=t.ref,e.return=t,t.child=e}function gP(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Kf(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,lo(e,t,i)}return L_(e,t,n,r,i)}function mP(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(qu,er),er|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(qu,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(qu,er),er|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$e(qu,er),er|=r;return Tn(e,t,i,n),t.child}function yP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function L_(e,t,n,r,i){var s=Hn(n)?wa:vn.current;return s=sl(t,s),Xu(t,i),n=Fb(e,t,n,r,s,i),r=Ub(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lo(e,t,i)):(Qe&&r&&Ib(t),t.flags|=1,Tn(e,t,n,i),t.child)}function cN(e,t,n,r,i){if(Hn(n)){var s=!0;Mv(t)}else s=!1;if(Xu(t,i),t.stateNode===null)uv(e,t),Hx(t,n,r),x_(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=xr(h):(h=Hn(n)?wa:vn.current,h=sl(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&tN(t,a,r,h),Mo=!1;var m=t.memoizedState;a.state=m,Vv(t,r,a,i),c=t.memoizedState,l!==r||m!==c||zn.current||Mo?(typeof p=="function"&&(R_(t,n,p,r),c=t.memoizedState),(l=Mo||eN(t,n,l,r,m,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qx(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Xr(t.type,l),a.props=h,v=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Hn(n)?wa:vn.current,c=sl(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||m!==c)&&tN(t,a,r,c),Mo=!1,m=t.memoizedState,a.state=m,Vv(t,r,a,i);var _=t.memoizedState;l!==v||m!==_||zn.current||Mo?(typeof y=="function"&&(R_(t,n,y,r),_=t.memoizedState),(h=Mo||eN(t,n,h,r,m,_,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),a.props=r,a.state=_,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return O_(e,t,n,r,s,i)}function O_(e,t,n,r,i,s){yP(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Q9(t,n,!1),lo(e,t,s);r=t.stateNode,hV.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ul(t,e.child,null,s),t.child=ul(t,null,l,s)):Tn(e,t,l,s),t.memoizedState=r.state,i&&Q9(t,n,!0),t.child}function wP(e){var t=e.stateNode;t.pendingContext?G9(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G9(e,t.context,!1),Lb(e,t.containerInfo)}function fN(e,t,n,r,i){return al(),Cb(i),t.flags|=256,Tn(e,t,n,r),t.child}var D_={dehydrated:null,treeContext:null,retryLane:0};function M_(e){return{baseLanes:e,cachePool:null,transitions:null}}function _P(e,t,n){var r=t.pendingProps,i=et.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(et,i&1),e===null)return N_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Zg(a,r,0,null),e=ha(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=M_(n),t.memoizedState=D_,e):Vb(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return dV(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ts(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ts(l,s):(s=ha(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?M_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=D_,r}return s=e.child,e=s.sibling,r=ts(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vb(e,t){return t=Zg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xp(e,t,n,r){return r!==null&&Cb(r),ul(t,e.child,null,n),e=Vb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dV(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=lw(Error($(422))),xp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Zg({mode:"visible",children:r.children},i,0,null),s=ha(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ul(t,e.child,null,a),t.child.memoizedState=M_(a),t.memoizedState=D_,s);if(!(t.mode&1))return xp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=lw(s,r,void 0),xp(e,t,a,r)}if(l=(a&e.childLanes)!==0,$n||l){if(r=Vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,uo(e,i),ii(r,e,i,-1))}return Kb(),r=lw(Error($(421))),xp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kV.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ir=Xo(i.nextSibling),ur=t,Qe=!0,ti=null,e!==null&&(wr[_r++]=Xi,wr[_r++]=Ji,wr[_r++]=_a,Xi=e.id,Ji=e.overflow,_a=t),t=Vb(t,r.children),t.flags|=4096,t)}function hN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),A_(e.return,t,n)}function cw(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function EP(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Tn(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hN(e,n,t);else if(e.tag===19)hN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(et,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$v(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cw(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$v(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cw(t,!0,n,null,s);break;case"together":cw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pV(e,t,n){switch(t.tag){case 3:wP(t),al();break;case 5:Gx(t);break;case 1:Hn(t.type)&&Mv(t);break;case 4:Lb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$e(Bv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?_P(e,t,n):($e(et,et.current&1),e=lo(e,t,n),e!==null?e.sibling:null);$e(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return EP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,mP(e,t,n)}return lo(e,t,n)}var bP,F_,TP,SP;bP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F_=function(){};TP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ki.current);var s=null;switch(n){case"input":i=o_(e,i),r=o_(e,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=u_(e,i),r=u_(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ov)}c_(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(jf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(jf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};SP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gc(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vV(e,t,n){var r=t.pendingProps;switch(kb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Hn(t.type)&&Dv(),sn(t),null;case 3:return r=t.stateNode,ll(),We(zn),We(vn),Db(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ti!==null&&(H_(ti),ti=null))),F_(e,t),sn(t),null;case 5:Ob(t);var i=ra(Jf.current);if(n=t.type,e!==null&&t.stateNode!=null)TP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return sn(t),null}if(e=ra(ki.current),Ap(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ti]=t,r[Yf]=s,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<cf.length;i++)ze(cf[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":E9(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":T9(r,s),ze("invalid",r)}c_(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Np(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Np(r.textContent,l,e),i=["children",""+l]):jf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":_p(r),b9(r,s,!0);break;case"textarea":_p(r),S9(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ov)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ti]=t,e[Yf]=r,bP(e,t,!1,!1),t.stateNode=e;e:{switch(a=f_(n,r),n){case"dialog":ze("cancel",e),ze("close",e),i=r;break;case"iframe":case"object":case"embed":ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<cf.length;i++)ze(cf[i],e);i=r;break;case"source":ze("error",e),i=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=r;break;case"details":ze("toggle",e),i=r;break;case"input":E9(e,r),i=o_(e,r),ze("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),ze("invalid",e);break;case"textarea":T9(e,r),i=u_(e,r),ze("invalid",e);break;default:i=r}c_(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?ex(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&J4(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vf(e,c):typeof c=="number"&&Vf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&fb(e,s,c,a))}switch(n){case"input":_p(e),b9(e,r,!1);break;case"textarea":_p(e),S9(e);break;case"option":r.value!=null&&e.setAttribute("value",""+as(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ku(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ku(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ov)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)SP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=ra(Jf.current),ra(ki.current),Ap(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ti]=t,(s=r.nodeValue!==n)&&(e=ur,e!==null))switch(e.tag){case 3:Np(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Np(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=t,t.stateNode=r}return sn(t),null;case 13:if(We(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&ir!==null&&t.mode&1&&!(t.flags&128))Vx(),al(),t.flags|=98560,s=!1;else if(s=Ap(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Ti]=t}else al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),s=!1}else ti!==null&&(H_(ti),ti=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?At===0&&(At=3):Kb())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return ll(),F_(e,t),e===null&&Gf(t.stateNode.containerInfo),sn(t),null;case 10:return Rb(t.type._context),sn(t),null;case 17:return Hn(t.type)&&Dv(),sn(t),null;case 19:if(We(et),s=t.memoizedState,s===null)return sn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Gc(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$v(e),a!==null){for(t.flags|=128,Gc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(et,et.current&1|2),t.child}e=e.sibling}s.tail!==null&&ht()>fl&&(t.flags|=128,r=!0,Gc(s,!1),t.lanes=4194304)}else{if(!r)if(e=$v(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qe)return sn(t),null}else 2*ht()-s.renderingStartTime>fl&&n!==1073741824&&(t.flags|=128,r=!0,Gc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ht(),t.sibling=null,n=et.current,$e(et,r?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return Wb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?er&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function gV(e,t){switch(kb(t),t.tag){case 1:return Hn(t.type)&&Dv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(),We(zn),We(vn),Db(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ob(t),null;case 13:if(We(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(et),null;case 4:return ll(),null;case 10:return Rb(t.type._context),null;case 22:case 23:return Wb(),null;case 24:return null;default:return null}}var Pp=!1,ln=!1,mV=typeof WeakSet=="function"?WeakSet:Set,G=null;function $u(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(e,t,r)}else n.current=null}function U_(e,t,n){try{n()}catch(r){st(e,t,r)}}var dN=!1;function yV(e,t){if(E_=xv,e=Nx(),Sb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++p===r&&(c=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(b_={focusedElem:e,selectionRange:n},xv=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,C=_.memoizedState,b=t.stateNode,T=b.getSnapshotBeforeUpdate(t.elementType===t.type?S:Xr(t.type,S),C);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){st(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return _=dN,dN=!1,_}function _f(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&U_(t,n,s)}i=i.next}while(i!==r)}}function Xg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function B_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function IP(e){var t=e.alternate;t!==null&&(e.alternate=null,IP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Yf],delete t[I_],delete t[eV],delete t[tV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kP(e){return e.tag===5||e.tag===3||e.tag===4}function pN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function j_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ov));else if(r!==4&&(e=e.child,e!==null))for(j_(e,t,n),e=e.sibling;e!==null;)j_(e,t,n),e=e.sibling}function V_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(V_(e,t,n),e=e.sibling;e!==null;)V_(e,t,n),e=e.sibling}var Wt=null,Zr=!1;function Ao(e,t,n){for(n=n.child;n!==null;)CP(e,t,n),n=n.sibling}function CP(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(qg,n)}catch{}switch(n.tag){case 5:ln||$u(n,t);case 6:var r=Wt,i=Zr;Wt=null,Ao(e,t,n),Wt=r,Zr=i,Wt!==null&&(Zr?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Zr?(e=Wt,n=n.stateNode,e.nodeType===8?rw(e.parentNode,n):e.nodeType===1&&rw(e,n),Hf(e)):rw(Wt,n.stateNode));break;case 4:r=Wt,i=Zr,Wt=n.stateNode.containerInfo,Zr=!0,Ao(e,t,n),Wt=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&U_(n,t,a),i=i.next}while(i!==r)}Ao(e,t,n);break;case 1:if(!ln&&($u(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){st(n,t,l)}Ao(e,t,n);break;case 21:Ao(e,t,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Ao(e,t,n),ln=r):Ao(e,t,n);break;default:Ao(e,t,n)}}function vN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mV),t.forEach(function(r){var i=CV.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Wt=l.stateNode,Zr=!1;break e;case 3:Wt=l.stateNode.containerInfo,Zr=!0;break e;case 4:Wt=l.stateNode.containerInfo,Zr=!0;break e}l=l.return}if(Wt===null)throw Error($(160));CP(s,a,i),Wt=null,Zr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){st(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NP(t,e),t=t.sibling}function NP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wr(t,e),_i(e),r&4){try{_f(3,e,e.return),Xg(3,e)}catch(S){st(e,e.return,S)}try{_f(5,e,e.return)}catch(S){st(e,e.return,S)}}break;case 1:Wr(t,e),_i(e),r&512&&n!==null&&$u(n,n.return);break;case 5:if(Wr(t,e),_i(e),r&512&&n!==null&&$u(n,n.return),e.flags&32){var i=e.stateNode;try{Vf(i,"")}catch(S){st(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Q4(i,s),f_(l,a);var h=f_(l,s);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?ex(i,v):p==="dangerouslySetInnerHTML"?J4(i,v):p==="children"?Vf(i,v):fb(i,p,v,h)}switch(l){case"input":s_(i,s);break;case"textarea":Y4(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ku(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ku(i,!!s.multiple,s.defaultValue,!0):Ku(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yf]=s}catch(S){st(e,e.return,S)}}break;case 6:if(Wr(t,e),_i(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){st(e,e.return,S)}}break;case 3:if(Wr(t,e),_i(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hf(t.containerInfo)}catch(S){st(e,e.return,S)}break;case 4:Wr(t,e),_i(e);break;case 13:Wr(t,e),_i(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zb=ht())),r&4&&vN(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(ln=(h=ln)||p,Wr(t,e),ln=h):Wr(t,e),_i(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(v=G=p;G!==null;){switch(m=G,y=m.child,m.tag){case 0:case 11:case 14:case 15:_f(4,m,m.return);break;case 1:$u(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(S){st(r,n,S)}}break;case 5:$u(m,m.return);break;case 22:if(m.memoizedState!==null){mN(v);continue}}y!==null?(y.return=m,G=y):mN(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Z4("display",a))}catch(S){st(e,e.return,S)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(S){st(e,e.return,S)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Wr(t,e),_i(e),r&4&&vN(e);break;case 21:break;default:Wr(t,e),_i(e)}}function _i(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kP(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vf(i,""),r.flags&=-33);var s=pN(e);V_(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=pN(e);j_(e,l,a);break;default:throw Error($(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wV(e,t,n){G=e,AP(e)}function AP(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Pp;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ln;l=Pp;var h=ln;if(Pp=a,(ln=c)&&!h)for(G=i;G!==null;)a=G,c=a.child,a.tag===22&&a.memoizedState!==null?yN(i):c!==null?(c.return=a,G=c):yN(i);for(;s!==null;)G=s,AP(s),s=s.sibling;G=i,Pp=l,ln=h}gN(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):gN(e)}}function gN(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||Xg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Z9(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Z9(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Hf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ln||t.flags&512&&B_(t)}catch(m){st(t,t.return,m)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function mN(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function yN(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xg(4,t)}catch(c){st(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){st(t,i,c)}}var s=t.return;try{B_(t)}catch(c){st(t,s,c)}break;case 5:var a=t.return;try{B_(t)}catch(c){st(t,a,c)}}}catch(c){st(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var _V=Math.ceil,Hv=vo.ReactCurrentDispatcher,$b=vo.ReactCurrentOwner,Nr=vo.ReactCurrentBatchConfig,Ne=0,Vt=null,yt=null,Xt=0,er=0,qu=gs(0),At=0,nh=null,ba=0,Jg=0,qb=0,Ef=null,Vn=null,zb=0,fl=1/0,Gi=null,Wv=!1,$_=null,Zo=null,Lp=!1,Ho=null,Kv=0,bf=0,q_=null,lv=-1,cv=0;function Rn(){return Ne&6?ht():lv!==-1?lv:lv=ht()}function es(e){return e.mode&1?Ne&2&&Xt!==0?Xt&-Xt:rV.transition!==null?(cv===0&&(cv=hx()),cv):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:wx(e.type)),e):1}function ii(e,t,n,r){if(50<bf)throw bf=0,q_=null,Error($(185));Lh(e,n,r),(!(Ne&2)||e!==Vt)&&(e===Vt&&(!(Ne&2)&&(Jg|=n),At===4&&Bo(e,Xt)),Wn(e,r),n===1&&Ne===0&&!(t.mode&1)&&(fl=ht()+500,Gg&&ms()))}function Wn(e,t){var n=e.callbackNode;rj(e,t);var r=Rv(e,e===Vt?Xt:0);if(r===0)n!==null&&C9(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&C9(n),t===1)e.tag===0?nV(wN.bind(null,e)):Ux(wN.bind(null,e)),Jj(function(){!(Ne&6)&&ms()}),n=null;else{switch(dx(r)){case 1:n=gb;break;case 4:n=cx;break;case 16:n=Av;break;case 536870912:n=fx;break;default:n=Av}n=FP(n,RP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RP(e,t){if(lv=-1,cv=0,Ne&6)throw Error($(327));var n=e.callbackNode;if(Ju()&&e.callbackNode!==n)return null;var r=Rv(e,e===Vt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gv(e,r);else{t=r;var i=Ne;Ne|=2;var s=PP();(Vt!==e||Xt!==t)&&(Gi=null,fl=ht()+500,fa(e,t));do try{TV();break}catch(l){xP(e,l)}while(1);Ab(),Hv.current=s,Ne=i,yt!==null?t=0:(Vt=null,Xt=0,t=At)}if(t!==0){if(t===2&&(i=g_(e),i!==0&&(r=i,t=z_(e,i))),t===1)throw n=nh,fa(e,0),Bo(e,r),Wn(e,ht()),n;if(t===6)Bo(e,r);else{if(i=e.current.alternate,!(r&30)&&!EV(i)&&(t=Gv(e,r),t===2&&(s=g_(e),s!==0&&(r=s,t=z_(e,s))),t===1))throw n=nh,fa(e,0),Bo(e,r),Wn(e,ht()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Qs(e,Vn,Gi);break;case 3:if(Bo(e,r),(r&130023424)===r&&(t=zb+500-ht(),10<t)){if(Rv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=S_(Qs.bind(null,e,Vn,Gi),t);break}Qs(e,Vn,Gi);break;case 4:if(Bo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ri(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_V(r/1960))-r,10<r){e.timeoutHandle=S_(Qs.bind(null,e,Vn,Gi),r);break}Qs(e,Vn,Gi);break;case 5:Qs(e,Vn,Gi);break;default:throw Error($(329))}}}return Wn(e,ht()),e.callbackNode===n?RP.bind(null,e):null}function z_(e,t){var n=Ef;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=Gv(e,t),e!==2&&(t=Vn,Vn=n,t!==null&&H_(t)),e}function H_(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function EV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ai(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bo(e,t){for(t&=~qb,t&=~Jg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ri(t),r=1<<n;e[n]=-1,t&=~r}}function wN(e){if(Ne&6)throw Error($(327));Ju();var t=Rv(e,0);if(!(t&1))return Wn(e,ht()),null;var n=Gv(e,t);if(e.tag!==0&&n===2){var r=g_(e);r!==0&&(t=r,n=z_(e,r))}if(n===1)throw n=nh,fa(e,0),Bo(e,t),Wn(e,ht()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,Vn,Gi),Wn(e,ht()),null}function Hb(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(fl=ht()+500,Gg&&ms())}}function Ta(e){Ho!==null&&Ho.tag===0&&!(Ne&6)&&Ju();var t=Ne;Ne|=1;var n=Nr.transition,r=Fe;try{if(Nr.transition=null,Fe=1,e)return e()}finally{Fe=r,Nr.transition=n,Ne=t,!(Ne&6)&&ms()}}function Wb(){er=qu.current,We(qu)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xj(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(kb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dv();break;case 3:ll(),We(zn),We(vn),Db();break;case 5:Ob(r);break;case 4:ll();break;case 13:We(et);break;case 19:We(et);break;case 10:Rb(r.type._context);break;case 22:case 23:Wb()}n=n.return}if(Vt=e,yt=e=ts(e.current,null),Xt=er=t,At=0,nh=null,qb=Jg=ba=0,Vn=Ef=null,na!==null){for(t=0;t<na.length;t++)if(n=na[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}na=null}return e}function xP(e,t){do{var n=yt;try{if(Ab(),sv.current=zv,qv){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qv=!1}if(Ea=0,Dt=Ct=rt=null,wf=!1,Zf=0,$b.current=null,n===null||n.return===null){At=1,nh=t,yt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=sN(a);if(y!==null){y.flags&=-257,aN(y,a,l,s,t),y.mode&1&&oN(s,h,t),t=y,c=h;var _=t.updateQueue;if(_===null){var S=new Set;S.add(c),t.updateQueue=S}else _.add(c);break e}else{if(!(t&1)){oN(s,h,t),Kb();break e}c=Error($(426))}}else if(Qe&&l.mode&1){var C=sN(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),aN(C,a,l,s,t),Cb(cl(c,l));break e}}s=c=cl(c,l),At!==4&&(At=2),Ef===null?Ef=[s]:Ef.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=pP(s,c,t);J9(s,b);break e;case 1:l=c;var T=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Zo===null||!Zo.has(I)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=vP(s,l,t);J9(s,P);break e}}s=s.return}while(s!==null)}OP(n)}catch(D){t=D,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function PP(){var e=Hv.current;return Hv.current=zv,e===null?zv:e}function Kb(){(At===0||At===3||At===2)&&(At=4),Vt===null||!(ba&268435455)&&!(Jg&268435455)||Bo(Vt,Xt)}function Gv(e,t){var n=Ne;Ne|=2;var r=PP();(Vt!==e||Xt!==t)&&(Gi=null,fa(e,t));do try{bV();break}catch(i){xP(e,i)}while(1);if(Ab(),Ne=n,Hv.current=r,yt!==null)throw Error($(261));return Vt=null,Xt=0,At}function bV(){for(;yt!==null;)LP(yt)}function TV(){for(;yt!==null&&!GB();)LP(yt)}function LP(e){var t=MP(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?OP(e):yt=t,$b.current=null}function OP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gV(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,yt=null;return}}else if(n=vV(n,t,er),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);At===0&&(At=5)}function Qs(e,t,n){var r=Fe,i=Nr.transition;try{Nr.transition=null,Fe=1,SV(e,t,n,r)}finally{Nr.transition=i,Fe=r}return null}function SV(e,t,n,r){do Ju();while(Ho!==null);if(Ne&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ij(e,s),e===Vt&&(yt=Vt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lp||(Lp=!0,FP(Av,function(){return Ju(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nr.transition,Nr.transition=null;var a=Fe;Fe=1;var l=Ne;Ne|=4,$b.current=null,yV(e,n),NP(n,e),zj(b_),xv=!!E_,b_=E_=null,e.current=n,wV(n),QB(),Ne=l,Fe=a,Nr.transition=s}else e.current=n;if(Lp&&(Lp=!1,Ho=e,Kv=i),s=e.pendingLanes,s===0&&(Zo=null),JB(n.stateNode),Wn(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wv)throw Wv=!1,e=$_,$_=null,e;return Kv&1&&e.tag!==0&&Ju(),s=e.pendingLanes,s&1?e===q_?bf++:(bf=0,q_=e):bf=0,ms(),null}function Ju(){if(Ho!==null){var e=dx(Kv),t=Nr.transition,n=Fe;try{if(Nr.transition=null,Fe=16>e?16:e,Ho===null)var r=!1;else{if(e=Ho,Ho=null,Kv=0,Ne&6)throw Error($(331));var i=Ne;for(Ne|=4,G=e.current;G!==null;){var s=G,a=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(G=h;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:_f(8,p,s)}var v=p.child;if(v!==null)v.return=p,G=v;else for(;G!==null;){p=G;var m=p.sibling,y=p.return;if(IP(p),p===h){G=null;break}if(m!==null){m.return=y,G=m;break}G=y}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}G=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,G=a;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_f(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,G=b;break e}G=s.return}}var T=e.current;for(G=T;G!==null;){a=G;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,G=I;else e:for(a=T;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xg(9,l)}}catch(D){st(l,l.return,D)}if(l===a){G=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,G=P;break e}G=l.return}}if(Ne=i,ms(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(qg,e)}catch{}r=!0}return r}finally{Fe=n,Nr.transition=t}}return!1}function _N(e,t,n){t=cl(n,t),t=pP(e,t,1),e=Jo(e,t,1),t=Rn(),e!==null&&(Lh(e,1,t),Wn(e,t))}function st(e,t,n){if(e.tag===3)_N(e,e,n);else for(;t!==null;){if(t.tag===3){_N(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){e=cl(n,e),e=vP(t,e,1),t=Jo(t,e,1),e=Rn(),t!==null&&(Lh(t,1,e),Wn(t,e));break}}t=t.return}}function IV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&n,Vt===e&&(Xt&n)===n&&(At===4||At===3&&(Xt&130023424)===Xt&&500>ht()-zb?fa(e,0):qb|=n),Wn(e,t)}function DP(e,t){t===0&&(e.mode&1?(t=Tp,Tp<<=1,!(Tp&130023424)&&(Tp=4194304)):t=1);var n=Rn();e=uo(e,t),e!==null&&(Lh(e,t,n),Wn(e,n))}function kV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DP(e,n)}function CV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),DP(e,n)}var MP;MP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,pV(e,t,n);$n=!!(e.flags&131072)}else $n=!1,Qe&&t.flags&1048576&&Bx(t,Uv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;uv(e,t),e=t.pendingProps;var i=sl(t,vn.current);Xu(t,n),i=Fb(null,t,r,e,i,n);var s=Ub();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(r)?(s=!0,Mv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pb(t),i.updater=Qg,t.stateNode=i,i._reactInternals=t,x_(t,r,e,n),t=O_(null,t,r,!0,s,n)):(t.tag=0,Qe&&s&&Ib(t),Tn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(uv(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=AV(r),e=Xr(r,e),i){case 0:t=L_(null,t,r,e,n);break e;case 1:t=cN(null,t,r,e,n);break e;case 11:t=uN(null,t,r,e,n);break e;case 14:t=lN(null,t,r,Xr(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),L_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),cN(e,t,r,i,n);case 3:e:{if(wP(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,i=s.element,qx(e,t),Vv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cl(Error($(423)),t),t=fN(e,t,r,n,i);break e}else if(r!==i){i=cl(Error($(424)),t),t=fN(e,t,r,n,i);break e}else for(ir=Xo(t.stateNode.containerInfo.firstChild),ur=t,Qe=!0,ti=null,n=Kx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===i){t=lo(e,t,n);break e}Tn(e,t,r,n)}t=t.child}return t;case 5:return Gx(t),e===null&&N_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,T_(r,i)?a=null:s!==null&&T_(r,s)&&(t.flags|=32),yP(e,t),Tn(e,t,a,n),t.child;case 6:return e===null&&N_(t),null;case 13:return _P(e,t,n);case 4:return Lb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ul(t,null,r,n):Tn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),uN(e,t,r,i,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,$e(Bv,r._currentValue),r._currentValue=a,s!==null)if(ai(s.value,a)){if(s.children===i.children&&!zn.current){t=lo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=no(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),A_(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),A_(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xu(t,n),i=xr(i),r=r(i),t.flags|=1,Tn(e,t,r,n),t.child;case 14:return r=t.type,i=Xr(r,t.pendingProps),i=Xr(r.type,i),lN(e,t,r,i,n);case 15:return gP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xr(r,i),uv(e,t),t.tag=1,Hn(r)?(e=!0,Mv(t)):e=!1,Xu(t,n),Hx(t,r,i),x_(t,r,i,n),O_(null,t,r,!0,e,n);case 19:return EP(e,t,n);case 22:return mP(e,t,n)}throw Error($(156,t.tag))};function FP(e,t){return lx(e,t)}function NV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,n,r){return new NV(e,t,n,r)}function Gb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AV(e){if(typeof e=="function")return Gb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===db)return 11;if(e===pb)return 14}return 2}function ts(e,t){var n=e.alternate;return n===null?(n=br(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fv(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Gb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Lu:return ha(n.children,i,s,t);case hb:a=8,i|=8;break;case t_:return e=br(12,n,t,i|2),e.elementType=t_,e.lanes=s,e;case n_:return e=br(13,n,t,i),e.elementType=n_,e.lanes=s,e;case r_:return e=br(19,n,t,i),e.elementType=r_,e.lanes=s,e;case W4:return Zg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z4:a=10;break e;case H4:a=9;break e;case db:a=11;break e;case pb:a=14;break e;case Do:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=br(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ha(e,t,n,r){return e=br(7,e,r,t),e.lanes=n,e}function Zg(e,t,n,r){return e=br(22,e,r,t),e.elementType=W4,e.lanes=n,e.stateNode={isHidden:!1},e}function fw(e,t,n){return e=br(6,e,null,t),e.lanes=n,e}function hw(e,t,n){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RV(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W1(0),this.expirationTimes=W1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qb(e,t,n,r,i,s,a,l,c){return e=new RV(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=br(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pb(s),e}function xV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function UP(e){if(!e)return us;e=e._reactInternals;e:{if(Ua(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Hn(n))return Fx(e,n,t)}return t}function BP(e,t,n,r,i,s,a,l,c){return e=Qb(n,r,!0,e,i,s,a,l,c),e.context=UP(null),n=e.current,r=Rn(),i=es(n),s=no(r,i),s.callback=t??null,Jo(n,s,i),e.current.lanes=i,Lh(e,i,r),Wn(e,r),e}function em(e,t,n,r){var i=t.current,s=Rn(),a=es(i);return n=UP(n),t.context===null?t.context=n:t.pendingContext=n,t=no(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jo(i,t,a),e!==null&&(ii(e,i,a,s),ov(e,i,a)),a}function Qv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function EN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yb(e,t){EN(e,t),(e=e.alternate)&&EN(e,t)}function PV(){return null}var jP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xb(e){this._internalRoot=e}tm.prototype.render=Xb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));em(e,t,null,null)};tm.prototype.unmount=Xb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ta(function(){em(null,e,null,null)}),t[ao]=null}};function tm(e){this._internalRoot=e}tm.prototype.unstable_scheduleHydration=function(e){if(e){var t=gx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Uo.length&&t!==0&&t<Uo[n].priority;n++);Uo.splice(n,0,e),n===0&&yx(e)}};function Jb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bN(){}function LV(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Qv(a);s.call(h)}}var a=BP(t,r,e,0,null,!1,!1,"",bN);return e._reactRootContainer=a,e[ao]=a.current,Gf(e.nodeType===8?e.parentNode:e),Ta(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Qv(c);l.call(h)}}var c=Qb(e,0,!1,null,null,!1,!1,"",bN);return e._reactRootContainer=c,e[ao]=c.current,Gf(e.nodeType===8?e.parentNode:e),Ta(function(){em(t,c,n,r)}),c}function rm(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Qv(a);l.call(c)}}em(t,a,e,i)}else a=LV(n,t,e,i,r);return Qv(a)}px=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lf(t.pendingLanes);n!==0&&(mb(t,n|1),Wn(t,ht()),!(Ne&6)&&(fl=ht()+500,ms()))}break;case 13:Ta(function(){var r=uo(e,1);if(r!==null){var i=Rn();ii(r,e,1,i)}}),Yb(e,1)}};yb=function(e){if(e.tag===13){var t=uo(e,134217728);if(t!==null){var n=Rn();ii(t,e,134217728,n)}Yb(e,134217728)}};vx=function(e){if(e.tag===13){var t=es(e),n=uo(e,t);if(n!==null){var r=Rn();ii(n,e,t,r)}Yb(e,t)}};gx=function(){return Fe};mx=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}};d_=function(e,t,n){switch(t){case"input":if(s_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kg(r);if(!i)throw Error($(90));G4(r),s_(r,i)}}}break;case"textarea":Y4(e,n);break;case"select":t=n.value,t!=null&&Ku(e,!!n.multiple,t,!1)}};rx=Hb;ix=Ta;var OV={usingClientEntryPoint:!1,Events:[Dh,Fu,Kg,tx,nx,Hb]},Qc={findFiberByHostInstance:ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DV={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ax(e),e===null?null:e.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||PV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{qg=Op.inject(DV),Ii=Op}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OV;dr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jb(t))throw Error($(200));return xV(e,t,null,n)};dr.createRoot=function(e,t){if(!Jb(e))throw Error($(299));var n=!1,r="",i=jP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qb(e,1,!1,null,null,n,!1,r,i),e[ao]=t.current,Gf(e.nodeType===8?e.parentNode:e),new Xb(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=ax(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return Ta(e)};dr.hydrate=function(e,t,n){if(!nm(t))throw Error($(200));return rm(null,e,t,!0,n)};dr.hydrateRoot=function(e,t,n){if(!Jb(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=jP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=BP(t,null,e,1,n??null,i,!1,s,a),e[ao]=t.current,Gf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tm(t)};dr.render=function(e,t,n){if(!nm(t))throw Error($(200));return rm(null,e,t,!1,n)};dr.unmountComponentAtNode=function(e){if(!nm(e))throw Error($(40));return e._reactRootContainer?(Ta(function(){rm(null,null,e,!1,function(){e._reactRootContainer=null,e[ao]=null})}),!0):!1};dr.unstable_batchedUpdates=Hb;dr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nm(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return rm(e,t,n,!1,r)};dr.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=dr})(PB);var TN=Jw;Xw.createRoot=TN.createRoot,Xw.hydrateRoot=TN.hydrateRoot;const MV=ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dw=MV.ReactCurrentDispatcher,FV=()=>ut.useReducer(()=>({}))[1],UV=e=>()=>{const t=`Hook "${e}" no possible to using inside useBetween scope.`;throw console.error(t),new Error(t)},W_=(e,t)=>Object.is(e,t),Yc=(e,t)=>!e||!t||e.length!==t.length||e.some((n,r)=>!W_(n,t[r])),BV=()=>typeof window>"u",SN=new Map;let Tf=[],hv=0,zu=[],Wo=[],Sf=()=>{},pw=BV(),jV;const Ro=()=>{const e=hv++;return Tf[e]=Tf[e]||{}},VP={useState(e){const t=Ro(),n=Sf;return t.initialized||(t.state=typeof e=="function"?e():e,t.set=r=>{if(typeof r=="function")return t.set(r(t.state));W_(r,t.state)||(t.state=r,n())},t.initialized=!0),[t.state,t.set]},useReducer(e,t,n){const r=Ro(),i=Sf;return r.initialized||(r.state=n?n(t):t,r.dispatch=s=>{const a=e(r.state,s);W_(a,r.state)||(r.state=a,i())},r.initialized=!0),[r.state,r.dispatch]},useEffect(e,t){if(pw)return;const n=Ro();n.initialized?Yc(n.deps,t)&&(n.deps=t,zu.push([n,t,e])):(n.deps=t,n.initialized=!0,zu.push([n,t,e]))},useLayoutEffect(e,t){if(pw)return;const n=Ro();n.initialized?Yc(n.deps,t)&&(n.deps=t,Wo.push([n,t,e])):(n.deps=t,n.initialized=!0,Wo.push([n,t,e]))},useCallback(e,t){const n=Ro();return n.initialized?Yc(n.deps,t)&&(n.deps=t,n.fn=e):(n.fn=e,n.deps=t,n.initialized=!0),n.fn},useMemo(e,t){const n=Ro();return n.initialized?Yc(n.deps,t)&&(n.deps=t,n.state=e()):(n.deps=t,n.state=e(),n.initialized=!0),n.state},useRef(e){const t=Ro();return t.initialized||(t.state={current:e},t.initialized=!0),t.state},useImperativeHandle(e,t,n){if(pw)return;const r=Ro();r.initialized?Yc(r.deps,n)&&(r.deps=n,Wo.push([r,n,()=>{typeof e=="function"?e(t()):e.current=t()}])):(r.deps=n,r.initialized=!0,Wo.push([r,n,()=>{typeof e=="function"?e(t()):e.current=t()}]))}};["readContext","useContext","useDebugValue","useResponder","useDeferredValue","useTransition"].forEach(e=>VP[e]=UV(e));const VV=(e,t)=>{const n=[];let r=[],i,s=[],a=!1;t&&t.mock&&(i=t.mock,a=!0);const l=()=>{r.slice().forEach(y=>y())},c=()=>{if(a)return;const y=dw.current,_=[hv,zu,Wo,Tf,Sf];let S=!1,C=!0;if(hv=0,zu=[],Wo=[],Tf=n,Sf=()=>{C?S=!0:c()},dw.current=VP,i=e(jV),[Wo,zu].forEach(b=>b.forEach(([T,I,P])=>{if(T.deps=I,T.unsub){const L=T.unsub;s=s.filter(j=>j!==L),L()}const D=P();typeof D=="function"?(s.push(D),T.unsub=D):T.unsub=null})),[hv,zu,Wo,Tf,Sf]=_,dw.current=y,C=!1,!S){l();return}c()};return{init:()=>c(),get:()=>i,sub:y=>{r.indexOf(y)===-1&&r.push(y)},unsub:y=>{r=r.filter(_=>_!==y)},unsubs:()=>s,mock:y=>{a=!0,i=y,l()},unmock:()=>{a=!1,c()}}},$V=e=>{let t=SN.get(e);return t||(t=VV(e),SN.set(e,t),t.init()),t},Ba=e=>{const t=FV();let n=$V(e);return n.sub(t),ut.useEffect(()=>(n.sub(t),()=>n.unsub(t)),[n,t]),n.get()},Zb=()=>{const[e,t]=ut.useState("");return{isLogedIn:e,setIsLogedIn:t}},Yv=e=>Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:120,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("rect",{"data-fl-background":"",x:"0",y:"0",fill:"transparent"}),R("path",{text:"cristminix.github.io","text-anchor":"middle","font-size":"100","letter-spacing":"0",side:"left",offset:"0.5",dx:"0",dy:"0",space:"preserve",href:"","font-family":"Teko","font-scale":"contain",transform:"matrix(0.7802141129395235, 0, 0, 0.7802141129395235, 265.44568280034326, 484.07925482740586)",x:"0",y:"0",fill:"#ffffff","data-fl-textpath":"",id:"_AF6PbZTLnBLtQghbhLXCB",d:"M-250.5-39.9L-250.5-33.4L-259.4-33.4L-259.4-38.6Q-259.4-40.4 -260-40.95Q-260.6-41.5 -262.4-41.5L-262.4-41.5L-266.7-41.5Q-268.5-41.5 -269.1-40.95Q-269.7-40.4 -269.7-38.6L-269.7-38.6L-269.7-10.2Q-269.7-8.4 -269.1-7.85Q-268.5-7.3 -266.7-7.3L-266.7-7.3L-262.4-7.3Q-260.6-7.3 -260-7.85Q-259.4-8.4 -259.4-10.2L-259.4-10.2L-259.4-15.4L-250.5-15.4L-250.5-8.8Q-250.5 0 -259.9 0L-259.9 0L-269.4 0Q-278.7 0 -278.7-8.8L-278.7-8.8L-278.7-39.9Q-278.7-48.8 -269.4-48.8L-269.4-48.8L-259.9-48.8Q-250.5-48.8 -250.5-39.9L-250.5-39.9ZM-226.1-48.9L-226.1-48.9L-224.1-48.9L-224.1-41.1L-227.70000000000002-41.1Q-234-41.1 -234-33.7L-234-33.7L-234 0L-243 0L-243-48.8L-234-48.8L-234-42.8Q-233.20000000000002-45.4 -231.15-47.15Q-229.1-48.9 -226.1-48.9ZM-210-58.1L-219.4-58.1L-219.4-67L-210-67L-210-58.1ZM-210.2-48.8L-210.2 0L-219.2 0L-219.2-48.8L-210.2-48.8ZM-185.1-9.8L-185.1-9.8L-185.1-17.9Q-185.1-19.7 -185.7-20.25Q-186.29999999999998-20.8 -188.1-20.8L-188.1-20.8L-193.2-20.8Q-202.49999999999997-20.8 -202.49999999999997-29.6L-202.49999999999997-29.6L-202.49999999999997-39.9Q-202.49999999999997-48.8 -193.2-48.8L-193.2-48.8L-185.89999999999998-48.8Q-176.49999999999997-48.8 -176.49999999999997-39.9L-176.49999999999997-39.9L-176.49999999999997-35.2L-185.29999999999998-35.2L-185.29999999999998-39Q-185.29999999999998-40.8 -185.89999999999998-41.35Q-186.49999999999997-41.9 -188.29999999999998-41.9L-188.29999999999998-41.9L-190.7-41.9Q-192.49999999999997-41.9 -193.1-41.35Q-193.7-40.8 -193.7-39L-193.7-39L-193.7-30.6Q-193.7-28.8 -193.1-28.25Q-192.49999999999997-27.7 -190.7-27.7L-190.7-27.7L-185.49999999999997-27.7Q-176.29999999999998-27.7 -176.29999999999998-18.8L-176.29999999999998-18.8L-176.29999999999998-8.8Q-176.29999999999998 0 -185.6 0L-185.6 0L-192.99999999999997 0Q-202.29999999999998 0 -202.29999999999998-8.8L-202.29999999999998-8.8L-202.29999999999998-13.6L-193.49999999999997-13.6L-193.49999999999997-9.8Q-193.49999999999997-8 -192.89999999999998-7.45Q-192.29999999999998-6.9 -190.49999999999997-6.9L-190.49999999999997-6.9L-188.1-6.9Q-186.29999999999998-6.9 -185.7-7.45Q-185.1-8 -185.1-9.8ZM-152.09999999999997-48.8L-152.09999999999997-41.5L-158.79999999999998-41.5L-158.79999999999998-10.6Q-158.79999999999998-8.8 -158.24999999999997-8.25Q-157.69999999999996-7.7 -155.89999999999998-7.7L-155.89999999999998-7.7L-152.09999999999997-7.7L-152.09999999999997 0L-158.49999999999997 0Q-167.89999999999998 0 -167.89999999999998-8.8L-167.89999999999998-8.8L-167.89999999999998-41.5L-172.49999999999997-41.5L-172.49999999999997-48.8L-167.89999999999998-48.8L-167.89999999999998-57.1L-158.79999999999998-57.1L-158.79999999999998-48.8L-152.09999999999997-48.8ZM-112.69999999999996-48.8L-112.69999999999996-48.8L-109.19999999999996-48.8Q-100.19999999999996-48.8 -100.19999999999996-39.9L-100.19999999999996-39.9L-100.19999999999996 0L-109.19999999999996 0L-109.19999999999996-38.6Q-109.19999999999996-40.4 -109.74999999999997-40.95Q-110.29999999999997-41.5 -112.09999999999997-41.5L-112.09999999999997-41.5L-115.69999999999996-41.5Q-118.89999999999996-41.5 -118.89999999999996-38L-118.89999999999996-38L-118.89999999999996 0L-127.89999999999996 0L-127.89999999999996-38.6Q-127.89999999999996-40.4 -128.49999999999997-40.95Q-129.09999999999997-41.5 -130.89999999999998-41.5L-130.89999999999998-41.5L-134.39999999999998-41.5Q-136.19999999999996-41.5 -136.94999999999996-40.7Q-137.69999999999996-39.9 -137.69999999999996-38L-137.69999999999996-38L-137.69999999999996 0L-146.69999999999996 0L-146.69999999999996-48.8L-137.69999999999996-48.8L-137.69999999999996-44.9Q-136.39999999999998-48.8 -131.49999999999997-48.8L-131.49999999999997-48.8L-127.99999999999997-48.8Q-121.59999999999997-48.8 -119.69999999999996-44.3L-119.69999999999996-44.3Q-118.49999999999997-48.8 -112.69999999999996-48.8ZM-82.69999999999996-58.1L-92.09999999999995-58.1L-92.09999999999995-67L-82.69999999999996-67L-82.69999999999996-58.1ZM-82.89999999999995-48.8L-82.89999999999995 0L-91.89999999999995 0L-91.89999999999995-48.8L-82.89999999999995-48.8ZM-58.899999999999956-48.8L-58.899999999999956-48.8L-55.399999999999956-48.8Q-46.299999999999955-48.8 -46.299999999999955-39.9L-46.299999999999955-39.9L-46.299999999999955 0L-55.299999999999955 0L-55.299999999999955-38.6Q-55.299999999999955-40.4 -55.899999999999956-40.95Q-56.49999999999996-41.5 -58.299999999999955-41.5L-58.299999999999955-41.5L-61.799999999999955-41.5Q-63.59999999999996-41.5 -64.34999999999995-40.7Q-65.09999999999995-39.9 -65.09999999999995-38L-65.09999999999995-38L-65.09999999999995 0L-74.09999999999995 0L-74.09999999999995-48.8L-65.09999999999995-48.8L-65.09999999999995-44.9Q-63.799999999999955-48.8 -58.899999999999956-48.8ZM-28.399999999999956-58.1L-37.799999999999955-58.1L-37.799999999999955-67L-28.399999999999956-67L-28.399999999999956-58.1ZM-28.59999999999996-48.8L-28.59999999999996 0L-37.59999999999996 0L-37.59999999999996-48.8L-28.59999999999996-48.8ZM 8.500000000000046-48.8L-2.5999999999999552-25L 9.60000000000004 0L 0.10000000000004405 0L-7.199999999999957-16.9L-14.299999999999956 0L-23.699999999999957 0L-11.699999999999957-24.9L-22.999999999999957-48.8L-13.399999999999956-48.8L-7.099999999999955-32.8L-0.899999999999956-48.8L 8.500000000000046-48.8ZM 23.300000000000047 0L 13.200000000000045 0L 13.200000000000045-12.3L 23.300000000000047-12.3L 23.300000000000047 0ZM 49.100000000000044-44.9L 49.100000000000044-48.8L 58.100000000000044-48.8L 58.100000000000044 5Q 58.100000000000044 13.8  48.700000000000045 13.8L 48.700000000000045 13.8L 32.00000000000004 13.8L 32.00000000000004 6.7L 46.100000000000044 6.7Q 47.90000000000004 6.7  48.50000000000004 6.1Q 49.100000000000044 5.5  49.100000000000044 3.8L 49.100000000000044 3.8L 49.100000000000044-4.5Q 47.80000000000004-0.6  42.90000000000004-0.6L 42.90000000000004-0.6L 39.30000000000004-0.6Q 30.300000000000043-0.6  30.300000000000043-9.5L 30.300000000000043-9.5L 30.300000000000043-39.9Q 30.300000000000043-48.8  39.30000000000004-48.8L 39.30000000000004-48.8L 42.90000000000004-48.8Q 47.80000000000004-48.8  49.100000000000044-44.9L 49.100000000000044-44.9ZM 42.30000000000004-7.9L 42.30000000000004-7.9L 45.80000000000004-7.9Q 47.600000000000044-7.9  48.350000000000044-8.7Q 49.100000000000044-9.5  49.100000000000044-11.4L 49.100000000000044-11.4L 49.100000000000044-38Q 49.100000000000044-39.9  48.350000000000044-40.7Q 47.600000000000044-41.5  45.80000000000004-41.5L 45.80000000000004-41.5L 42.30000000000004-41.5Q 40.50000000000004-41.5  39.90000000000004-40.95Q 39.30000000000004-40.4  39.30000000000004-38.6L 39.30000000000004-38.6L 39.30000000000004-10.8Q 39.30000000000004-9.1  39.90000000000004-8.5Q 40.50000000000004-7.9  42.30000000000004-7.9ZM 76.10000000000005-58.1L 66.70000000000005-58.1L 66.70000000000005-67L 76.10000000000005-67L 76.10000000000005-58.1ZM 75.90000000000005-48.8L 75.90000000000005 0L 66.90000000000005 0L 66.90000000000005-48.8L 75.90000000000005-48.8ZM 101.20000000000005-48.8L 101.20000000000005-41.5L 94.50000000000004-41.5L 94.50000000000004-10.6Q 94.50000000000004-8.8  95.05000000000004-8.25Q 95.60000000000004-7.7  97.40000000000003-7.7L 97.40000000000003-7.7L 101.20000000000005-7.7L 101.20000000000005 0L 94.80000000000004 0Q 85.40000000000003 0  85.40000000000003-8.8L 85.40000000000003-8.8L 85.40000000000003-41.5L 80.80000000000004-41.5L 80.80000000000004-48.8L 85.40000000000003-48.8L 85.40000000000003-57.1L 94.50000000000004-57.1L 94.50000000000004-48.8L 101.20000000000005-48.8ZM 121.80000000000004-48.8L 121.80000000000004-48.8L 125.30000000000004-48.8Q 134.40000000000003-48.8  134.40000000000003-39.9L 134.40000000000003-39.9L 134.40000000000003 0L 125.40000000000005 0L 125.40000000000005-38.6Q 125.40000000000005-40.4  124.80000000000004-40.95Q 124.20000000000005-41.5  122.40000000000005-41.5L 122.40000000000005-41.5L 118.90000000000005-41.5Q 117.10000000000005-41.5  116.35000000000005-40.7Q 115.60000000000005-39.9  115.60000000000005-38L 115.60000000000005-38L 115.60000000000005 0L 106.60000000000005 0L 106.60000000000005-66.9L 115.60000000000005-66.9L 115.60000000000005-44.9Q 116.90000000000005-48.8  121.80000000000004-48.8ZM 161.80000000000004-10.8L 161.80000000000004-48.8L 170.80000000000004-48.8L 170.80000000000004 0L 161.80000000000004 0L 161.80000000000004-3.9Q 160.50000000000006 0  155.60000000000005 0L 155.60000000000005 0L 152.00000000000006 0Q 143.00000000000006 0  143.00000000000006-8.8L 143.00000000000006-8.8L 143.00000000000006-48.8L 152.00000000000006-48.8L 152.00000000000006-10.2Q 152.00000000000006-8.4  152.60000000000005-7.85Q 153.20000000000005-7.3  155.00000000000006-7.3L 155.00000000000006-7.3L 158.50000000000006-7.3Q 160.30000000000004-7.3  161.05000000000004-8.1Q 161.80000000000004-8.9  161.80000000000004-10.8L 161.80000000000004-10.8ZM 194.80000000000004-48.9L 194.80000000000004-48.9L 198.30000000000004-48.9Q 207.40000000000003-48.9  207.40000000000003-40L 207.40000000000003-40L 207.40000000000003-8.8Q 207.40000000000003 0  198.30000000000004 0L 198.30000000000004 0L 194.80000000000004 0Q 189.90000000000003 0  188.60000000000005-3.9L 188.60000000000005-3.9L 188.60000000000005 0L 179.60000000000005 0L 179.60000000000005-66.9L 188.60000000000005-66.9L 188.60000000000005-45Q 189.90000000000003-48.9  194.80000000000004-48.9ZM 198.40000000000003-10.2L 198.40000000000003-10.2L 198.40000000000003-38.7Q 198.40000000000003-40.4  197.80000000000004-41Q 197.20000000000005-41.6  195.40000000000003-41.6L 195.40000000000003-41.6L 191.90000000000003-41.6Q 190.10000000000005-41.6  189.35000000000005-40.8Q 188.60000000000005-40  188.60000000000005-38.1L 188.60000000000005-38.1L 188.60000000000005-10.8Q 188.60000000000005-8.9  189.35000000000005-8.1Q 190.10000000000005-7.3  191.90000000000003-7.3L 191.90000000000003-7.3L 195.40000000000003-7.3Q 197.20000000000005-7.3  197.80000000000004-7.85Q 198.40000000000003-8.4  198.40000000000003-10.2ZM 224.50000000000006 0L 214.40000000000003 0L 214.40000000000003-12.3L 224.50000000000006-12.3L 224.50000000000006 0ZM 241.30000000000004-58.1L 231.90000000000003-58.1L 231.90000000000003-67L 241.30000000000004-67L 241.30000000000004-58.1ZM 241.10000000000005-48.8L 241.10000000000005 0L 232.10000000000005 0L 232.10000000000005-48.8L 241.10000000000005-48.8ZM 258.6000000000001-48.8L 258.6000000000001-48.8L 269.30000000000007-48.8Q 278.6000000000001-48.8  278.6000000000001-39.9L 278.6000000000001-39.9L 278.6000000000001-8.8Q 278.6000000000001 0  269.30000000000007 0L 269.30000000000007 0L 258.6000000000001 0Q 249.40000000000006 0  249.40000000000006-8.8L 249.40000000000006-8.8L 249.40000000000006-39.9Q 249.40000000000006-48.8  258.6000000000001-48.8ZM 269.70000000000005-10.1L 269.70000000000005-10.1L 269.70000000000005-38.7Q 269.70000000000005-40.5  269.1000000000001-41.1Q 268.50000000000006-41.7  266.70000000000005-41.7L 266.70000000000005-41.7L 261.20000000000005-41.7Q 259.40000000000003-41.7  258.8500000000001-41.1Q 258.30000000000007-40.5  258.30000000000007-38.7L 258.30000000000007-38.7L 258.30000000000007-10.1Q 258.30000000000007-8.3  258.8500000000001-7.7Q 259.40000000000003-7.1  261.20000000000005-7.1L 261.20000000000005-7.1L 266.70000000000005-7.1Q 268.50000000000006-7.1  269.1000000000001-7.7Q 269.70000000000005-8.3  269.70000000000005-10.1Z"}),R("path",{id:"_6EYT5Oo67s_Hy4hJI01np",d:"M70.093 79.234l4.483-2.135l-9.573-20.102c0.836-0.643 1.646-1.32 2.4-2.074c2.236-2.235 3.991-4.838 5.216-7.736  l-4.605-1.947c-0.973 2.302-2.367 4.37-4.146 6.147c-0.344 0.344-0.707 0.66-1.072 0.975l-3.716-7.802  c1.466-1.898 2.349-4.27 2.349-6.849c0-4.923-3.188-9.107-7.603-10.622v-9.337c0-2.071-1.679-3.75-3.75-3.75s-3.75 1.679-3.75 3.75  v9.423c-4.292 1.581-7.368 5.701-7.368 10.536c0 2.438 0.789 4.69 2.113 6.534l-3.749 7.872c-0.27-0.241-0.546-0.473-0.804-0.73  c-1.778-1.778-3.173-3.847-4.146-6.148l-4.605 1.949c1.227 2.896 2.98 5.498 5.216 7.734c0.669 0.67 1.383 1.281 2.116 1.863  L25.424 77.1l4.552 2.167l-2.3 4.954c-0.291 0.626-0.019 1.369 0.607 1.66c0.171 0.079 0.35 0.116 0.525 0.116  c0.472 0 0.923-0.268 1.135-0.724l3.303-7.115c0.013-0.026 0.009-0.055 0.02-0.081L41.638 60.5c2.729 1.026 5.602 1.551 8.556 1.551  c2.835 0 5.597-0.481 8.229-1.429l9.383 19.702l0.03-0.015l2.38 4.977c0.215 0.449 0.662 0.711 1.129 0.711  c0.181 0 0.364-0.039 0.538-0.122c0.623-0.298 0.887-1.044 0.589-1.667L70.093 79.234z M56.253 56.066  c-1.597 0.524-3.254 0.826-4.927 0.923v-3.803c0-0.69-0.56-1.25-1.25-1.25s-1.25 0.56-1.25 1.25v3.791  c-1.71-0.119-3.397-0.464-5.021-1.03l3.518-7.385c0.001 0 0.002 0.001 0.003 0.001v-5.297h0.047  c-2.023-1.032-3.415-3.132-3.415-5.555c0-3.438 2.797-6.236 6.235-6.236s6.235 2.798 6.235 6.236c0 2.497-1.479 4.649-3.603 5.646  v5.515L56.253 56.066z",fill:"#ffffff",transform:"matrix(2.9748412512335833, 0, 0, 2.9748412512335833, 116.66465545320632, 72.91397793605479)"}),R("path",{d:"M355.5 66.057l105.081 182.008L355.5 430.072H145.335L40.252 248.064L145.335 66.057H355.5 M375.16 32  H125.673L0.928 248.064l124.744 216.064H375.16l124.745-216.064L375.16 32L375.16 32z",fill:"#ff780a",transform:"matrix(-0.38253504022556256, 0.6673157639026467, -0.6673157639026467, -0.38253504022556256, 526.7367801320731, 167.6887504823019)"})]});class qV extends Ph.Component{render(){return R(Et,{children:R("div",{className:"aside-logo flex-column-auto px-9 mb-9 mb-lg-17 mx-auto",id:"kt_aside_logo",children:Z("a",{href:"/",className:"-mt-8 p-0 h-120px block overflow-hidden",children:[R(Yv,{className:"h-120px logo theme-light-show",viewBox:"0 0 600 512"}),R(Yv,{className:"h-120px logo theme-dark-show",viewBox:"0 0 512 512"})]})})})}}const zV=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"M20 7H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h17c.6 0 1 .4 1 1v3c0 .6-.4 1-1 1ZM7 9H3c-.6 0-1 .4-1 1v10c0 .6.4 1 1 1h4c.6 0 1-.4 1-1V10c0-.6-.4-1-1-1Z",fill:"currentColor"}),R("path",{opacity:.3,d:"M20 21h-9c-.6 0-1-.4-1-1V10c0-.6.4-1 1-1h9c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1Z",fill:"currentColor"})]}),HV=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"M18 21.6c-1.4-1.2-8.9-1.3-11.7-.4-.6.2-1.2 0-1.6-.4L2 18c2.2-2.2 8.8-2.9 13.8-2.2.4 2.5 1.2 4.7 2.2 5.8Zm.8-18.8c-.4-.4-1-.6-1.6-.4-2.8.9-10.3.8-11.7-.4 1.3 1.3 1.9 3.5 2.2 5.7 1.3.2 2.6.3 4 .3 4.1 0 8.1-.8 9.8-2.5l-2.7-2.7Z",fill:"currentColor"}),R("path",{opacity:.3,d:"M21.2 17.3c.2.6 0 1.2-.4 1.6L18 21.6c-2.2-2.2-2.9-8.8-2.2-13.8 2.5-.4 4.6-1.1 5.7-2.2-1.1 1.4-1.3 8.9-.3 11.7ZM8 11.7C8 9 7.7 4.2 5.5 2L2.8 4.8c-.4.4-.6 1-.4 1.6.3 1 .6 2.8.7 5.3 0 3.8-.7 5.9-1 6.3 1.1-1.1 3.2-1.8 5.7-2.2.2-1.6.2-3.1.2-4.1Z",fill:"currentColor"})]}),WV=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"M22 7H2v4h20V7Z",fill:"currentColor"}),R("path",{opacity:.3,d:"M21 19H3c-.6 0-1-.4-1-1V6c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1Zm-7-5c0-.6-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1Zm2 1.5c0 .8.7 1.5 1.5 1.5h1c.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5h-1c-.8 0-1.5.7-1.5 1.5Z",fill:"currentColor"})]}),KV=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"M11.293 2.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0L8.707 6.707a1 1 0 0 1 0-1.414l2.586-2.586ZM11.293 14.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586Z",fill:"currentColor"}),R("path",{opacity:.3,d:"M5.293 8.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586ZM17.293 8.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586Z",fill:"currentColor"})]}),GV=e=>Z("svg",{width:24,height:25,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{opacity:.3,d:"m8.9 21-1.7 1.7c-.4.4-1 .4-1.4 0L4.1 21h4.8ZM4 16.1l-1.7 1.7c-.4.4-.4 1 0 1.4L4 20.9v-4.8Zm15.3-6.9-3.5-3.5c-.4-.4-1-.4-1.4 0L9 11.1V21l10.3-10.3c.4-.4.4-1.1 0-1.5Z",fill:"currentColor"}),R("path",{d:"M21 15v5c0 .6-.4 1-1 1h-8.2l7-7H20c.6 0 1 .4 1 1Zm-11 6V4c0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1v17c0 .6.4 1 1 1h5c.6 0 1-.4 1-1Zm-2.5-2.5c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1Z",fill:"currentColor"})]}),QV=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"m11.7 8-4.2 7.3-2.9 5c-1.1-1.9-1.5-2.6-2.3-4-.4-.6-.4-1.4 0-2L8.8 3l2.9 5Z",fill:"currentColor"}),R("path",{opacity:.3,d:"M11.7 8 8.8 3h4.6c.7 0 1.4.4 1.8 1l5.4 9.3h-5.8L11.7 8Zm-4.2 7.2-2.9 5h13c.7 0 1.4-.4 1.8-1 .8-1.5 1.2-2.2 2.3-4H7.5Z",fill:"currentColor"})]}),IN={dashboard:zV,browsePlan:HV,history:WV,subscription:KV,token:GV,tunnel:QV};function YV(e){const t=e.link,n=e.icon,r=e.caption,i=typeof IN[n]<"u",s=e.bullet||!1,a=e.hasChild||!1,l="";let c="",h,p="";return s&&(p=R("span",{className:"menu-bullet",children:R("span",{className:"bullet bullet-dot"})})),i&&(h=IN[n],c=R("span",{className:"menu-icon",children:R("span",{className:"svg-icon svg-icon-2",children:R(h,{viewBox:"0 0 24 24"})})})),a?R(Et,{children:Z("span",{className:"menu-link",children:[p,c,R("span",{className:"menu-title",children:r}),R("span",{className:"menu-arrow"})]})}):Z(Et,{children:[R("div",{className:"menu-item",children:Z("a",{className:"menu-link",href:t,children:[p,c,R("span",{className:"menu-title",children:r})]})}),l]})}class XV extends Ph.Component{render(){return R(Et,{children:R("div",{className:"aside-menu flex-column-fluid ps-3 ps-lg-5 pe-1 mb-9",id:"kt_aside_menu",children:R("div",{className:"w-100 hover-scroll-overlay-y pe-2 me-2",id:"kt_aside_menu_wrapper","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-height":"auto","data-kt-scroll-dependencies":"#kt_aside_logo, #kt_aside_user, #kt_aside_footer","data-kt-scroll-wrappers":"#kt_aside, #kt_aside_menu, #kt_aside_menu_wrapper","data-kt-scroll-offset":"0",children:R("div",{className:"menu menu-column menu-rounded menu-sub-indention menu-active-bg fw-semibold",id:"#kt_aside_menu","data-kt-menu":"true",children:R(YV,{link:"#dashboard",caption:"Dashboard",icon:"dashboard"})})})})})}}const JV=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("rect",{opacity:.3,width:12,height:2,rx:1,transform:"matrix(-1 0 0 1 15.5 11)",fill:"currentColor"}),R("path",{d:"m13.631 11.693-1.755-1.463a1.04 1.04 0 1 1 1.358-1.578l2.925 2.6a1 1 0 0 1 0 1.495l-2.925 2.6a1.04 1.04 0 1 1-1.358-1.577l1.755-1.463a.4.4 0 0 0 0-.614Z",fill:"currentColor"}),R("path",{d:"M8 5v1a1 1 0 0 0 2 0 1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1 1 1 0 1 0-2 0v1a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2Z",fill:"currentColor"})]}),ZV=()=>Ba(Zb);function e7(){const{isLogedIn:e,setIsLogedIn:t}=ZV();function n(r){localStorage.isLogedIn="false",t("false")}return R(Et,{children:R("div",{className:"aside-footer flex-column-auto px-6 px-lg-9",id:"kt_aside_footer",children:R("div",{className:"d-flex flex-stack ms-7",children:Z("a",{onClick:n,className:"btn btn-sm btn-icon btn-active-color-primary btn-icon-gray-600 btn-text-gray-600",href:"#logout",children:[R("span",{className:"svg-icon svg-icon-1 me-2",children:R(JV,{})}),R("span",{className:"d-flex flex-shrink-0 fw-bold",children:"Keluar"})]})})})})}class t7 extends Ph.Component{render(){return R(Et,{children:Z("div",{id:"kt_aside",className:"aside pt-7 pb-4 pb-lg-7 pt-lg-17","data-kt-drawer":"true","data-kt-drawer-name":"aside","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"start","data-kt-drawer-toggle":"#kt_aside_toggle",children:[R(qV,{}),R(XV,{}),R(e7,{})]})})}}function n7(){return R(Et,{children:R("div",{className:"col-xl-4 col-md-6 mt-2",children:R("div",{className:"card card-h-100",children:Z("div",{className:"card-body",children:[R("div",{className:"row",children:R("span",{className:"text-muted mb-3 d-block text-truncate",children:"Langganan"})}),R("div",{className:"row",children:R("h4",{children:R("span",{children:"Gratis"})})})]})})})})}function r7(){return R(Et,{children:R("div",{className:"footer py-4 d-flex flex-lg-column",id:"kt_footer",children:Z("div",{className:"container-fluid d-flex flex-column flex-md-row flex-stack",children:[Z("div",{className:"text-dark order-2 order-md-1",children:[R("span",{className:"text-gray-400 fw-semibold me-1",children:"Dibuat Oleh"}),R("a",{href:"#",target:"_blank",className:"text-muted text-hover-primary fw-semibold me-2 fs-6",children:"cristminix <cristminix@gmail.com>"})]}),Z("ul",{className:"menu menu-gray-600 menu-hover-primary fw-semibold order-1",children:[R("li",{className:"menu-item",children:R("a",{href:"#documents",target:"_blank",className:"menu-link px-2",children:"Dokumentasi"})}),R("li",{className:"menu-item",children:R("a",{href:"#",className:"menu-link px-5"})})]})]})})})}const i7="/assets/favicon-18674101.ico",$P=e=>R("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:R("path",{d:"M11.99 5.626a6.376 6.376 0 1 0 6.376 6.376 6.383 6.383 0 0 0-6.375-6.376ZM22.126 10.877h-1.499a1.125 1.125 0 1 0 0 2.25h1.499a1.125 1.125 0 1 0 0-2.25ZM11.99 19.5a1.127 1.127 0 0 0-1.124 1.125v1.5a1.124 1.124 0 0 0 2.249 0v-1.5A1.126 1.126 0 0 0 11.99 19.5ZM4.497 12.002a1.126 1.126 0 0 0-1.124-1.125H1.874a1.125 1.125 0 1 0 0 2.25h1.499a1.126 1.126 0 0 0 1.124-1.125ZM11.99 4.5a1.126 1.126 0 0 0 1.125-1.125v-1.5a1.124 1.124 0 1 0-2.249 0v1.5a1.126 1.126 0 0 0 1.125 1.126ZM18.886 6.697l1.06-1.06a1.125 1.125 0 1 0-1.59-1.59l-1.06 1.06a1.125 1.125 0 1 0 1.59 1.59ZM18.886 17.307a1.125 1.125 0 1 0-1.59 1.59l1.06 1.061a1.124 1.124 0 1 0 1.59-1.59l-1.06-1.06ZM5.095 17.307l-1.06 1.061a1.124 1.124 0 1 0 1.59 1.59l1.06-1.06a1.126 1.126 0 0 0-.363-1.836 1.125 1.125 0 0 0-1.227.245ZM5.095 6.697a1.124 1.124 0 1 0 1.59-1.59l-1.06-1.06a1.124 1.124 0 1 0-1.59 1.59l1.06 1.06Z",fill:"currentColor"})}),qP=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"M19.065 5.438a.502.502 0 1 0 0-1.005.502.502 0 0 0 0 1.005ZM20.07 9.489a.502.502 0 1 0 0-1.005.502.502 0 0 0 0 1.005ZM12.034 20.571c3.66 0 6.909-2.366 8.083-5.837a.503.503 0 0 0-.791-.552 5.957 5.957 0 0 1-3.777 1.334c-3.323 0-6.06-2.704-6.06-6.027 0-2.078 1.088-4.018 2.856-5.131.19-.12.255-.35.193-.565a.53.53 0 0 0-.505-.364C7.327 3.429 3.43 7.292 3.43 12s3.897 8.571 8.604 8.571Z",fill:"currentColor"}),R("path",{d:"M13.038 7.48c.83 0 1.507.676 1.507 1.507a.502.502 0 1 0 1.004 0c0-.831.676-1.507 1.507-1.507a.502.502 0 1 0 0-1.004c-.831 0-1.507-.71-1.507-1.54a.502.502 0 1 0-1.004 0c0 .83-.676 1.54-1.507 1.54a.502.502 0 1 0 0 1.004Z",fill:"currentColor"})]}),o7=e=>R("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:R("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.344 3.946v11.272c0 .901.737 1.638 1.638 1.638h5.669v2.603H6.157c-.768 0-1.397.503-1.397 1.117v1.116h14.48v-1.116c0-.614-.628-1.117-1.397-1.117H15.35v-2.603h5.669c.901 0 1.638-.737 1.638-1.638V3.946c0-.9-.737-1.638-1.638-1.638H2.982c-.901 0-1.638.737-1.638 1.638Zm11.56 5.956c.337.086.656.22.948.393l1.187-.86.95.95-.86 1.188c.174.292.308.61.394.948l1.447.232v.656h-2.985a1.985 1.985 0 0 0-3.97 0H7.03v-.656l1.447-.232c.086-.337.22-.656.393-.948l-.86-1.188.95-.95 1.188.86c.292-.174.611-.307.949-.393l.231-1.447h1.344l.231 1.447Zm3.231-1.964a.828.828 0 1 1 0-1.657.828.828 0 0 1 0 1.657ZM2.714 14.096V3.906c0-.126.102-.228.227-.228H21.06c.125 0 .227.102.227.227v10.191H2.714Z",fill:"currentColor"})});function s7(){return R(Et,{children:Z("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-title-gray-700 menu-icon-muted menu-active-bg menu-state-color fw-semibold py-4 fs-base w-175px","data-kt-menu":"true","data-kt-element":"theme-mode-menu",children:[R("div",{className:"menu-item px-3 my-0",children:Z("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"light",children:[R("span",{className:"menu-icon","data-kt-element":"icon",children:R("span",{className:"svg-icon svg-icon-3",children:R($P,{viewBox:"0 0 24 24"})})}),R("span",{className:"menu-title",children:"Light"})]})}),R("div",{className:"menu-item px-3 my-0",children:Z("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"dark",children:[R("span",{className:"menu-icon","data-kt-element":"icon",children:R("span",{className:"svg-icon svg-icon-3",children:R(qP,{viewBox:"0 0 24 24"})})}),R("span",{className:"menu-title",children:"Dark"})]})}),R("div",{className:"menu-item px-3 my-0",children:Z("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"system",children:[R("span",{className:"menu-icon","data-kt-element":"icon",children:R("span",{className:"svg-icon svg-icon-3",children:R(o7,{viewBox:"0 0 24 24"})})}),R("span",{className:"menu-title",children:"System"})]})})]})})}const a7=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[R("path",{d:"M21 7H3c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Z",fill:"currentColor"}),R("path",{opacity:.3,d:"M21 14H3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Zm1 6v-2c0-.6-.4-1-1-1H3c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h18c.6 0 1-.4 1-1Z",fill:"currentColor"})]});function u7(e){const t=e.title;return R(Et,{children:R("div",{id:"kt_header",className:"header",children:Z("div",{className:"container-fluid d-flex align-items-center flex-wrap justify-content-between",id:"kt_header_container",children:[R("div",{className:"page-title d-flex flex-column align-items-start justify-content-center flex-wrap me-2 pb-5 pb-lg-0 pt-7 pt-lg-0","data-kt-swapper":"true","data-kt-swapper-mode":"prepend","data-kt-swapper-parent":"{default: '#kt_content_container', lg: '#kt_header_container'}",children:R("h1",{className:"d-flex flex-column text-dark fw-bold my-0 fs-1",children:t})}),Z("div",{className:"d-flex d-lg-none align-items-center ms-n3 me-2",children:[R("div",{className:"btn btn-icon btn-active-icon-primary",id:"kt_aside_toggle",children:R("span",{className:"svg-icon svg-icon-1 mt-1",children:R(a7,{viewBox:"0 0 24 24"})})}),R("a",{href:"/",className:"d-flex align-items-center",children:R("img",{alt:"Logo",src:i7,className:"h-30px"})})]}),R("div",{className:"d-flex align-items-center flex-shrink-0",children:Z("div",{className:"d-flex align-items-center ms-3 ms-lg-4",children:[Z("a",{href:"#",className:"btn btn-icon btn-color-gray-700 btn-active-color-primary btn-outline w-40px h-40px","data-kt-menu-trigger":"{default:'click', lg: 'hover'}","data-kt-menu-attach":"parent","data-kt-menu-placement":"bottom-end",children:[R("span",{className:"svg-icon theme-light-show svg-icon-2",children:R($P,{viewBox:"0 0 24 24"})}),R("span",{className:"svg-icon theme-dark-show svg-icon-2",children:R(qP,{viewBox:"0 0 24 24"})})]}),R(s7,{})]})})]})})})}function K_(e){let t="";try{e.serviceMap.backend=="bore"?t=`http://bore.pub:${e.config.bore_port}`:e.serviceMap.backend=="ngrok"?t=`${e.config.ngrok_url}`:e.serviceMap.backend=="localtonet"&&(t=`https://${e.config.localtonet_host}`)}catch{}return t}function Xc(e,t=0,n=2){if(!+e)return"0 Bytes";const r=1024;t&&(e*=r);const i=n<0?0:n,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,a)).toFixed(i))} ${s[a]}`}var G_=function(e,t){return G_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},G_(e,t)};function K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");G_(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ie.apply(this,arguments)};function A(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(v){a(v)}}function c(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function $t(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zP={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(e,t){if(!e)throw jl(t)},jl=function(e){return new Error("Firebase Database ("+zP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HP=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},l7=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,v=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(HP(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l7(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var _=h<<6&192|v;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},WP=function(e){var t=HP(e);return im.encodeByteArray(t,!0)},kN=function(e){return WP(e).replace(/\./g,"")},CN=function(e){try{return im.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(e){return rh(void 0,e)}function rh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!c7(r)||(e[r]=rh(e[r],t[r]));return e}function c7(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ie({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[kN(JSON.stringify(n)),kN(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sa())}function GP(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f7(){return typeof self=="object"&&self.self===self}function nT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function QP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h7(){return Sa().indexOf("Electron/")>=0}function d7(){var e=Sa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function p7(){return Sa().indexOf("MSAppHost/")>=0}function YP(){return zP.NODE_ADMIN===!0}function v7(){return!GP()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fh(){return"indexedDB"in self&&indexedDB!=null}function rT(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function XP(){return!(!navigator||!navigator.cookieEnabled)}function g7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m7="FirebaseError",Vl=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=m7,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,go.prototype.create),s}return t}(Error),go=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?y7(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Vl(s,c,i);return h},e}();function y7(e,t){return e.replace(w7,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var w7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(e){return JSON.parse(e)}function Nt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iT=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=ih(CN(s[0])||""),n=ih(CN(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},_7=function(e){var t=iT(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},E7=function(e){var t=iT(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},b7=function(e){var t=iT(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ia(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Q_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S7=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),m=1518500249):(v=l^c^h,m=1859775393):i<60?(v=l&c|h&(l|c),m=2400959708):(v=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+v+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function I7(e,t){var n=new k7(e,t);return n.subscribe.bind(n)}var k7=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C7(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=vw),s.error===void 0&&(s.error=vw),s.complete===void 0&&(s.complete=vw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function C7(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function vw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Kn(e,t){return e+" failed: "+t+" argument "}function Mt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Kn(e,t)+"must be a valid function.")}function NN(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Kn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N7=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,q(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},om=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A7=1e3,R7=2,x7=4*60*60*1e3,P7=.5;function Y_(e,t,n){t===void 0&&(t=A7),n===void 0&&(n=R7);var r=t*Math.pow(n,e),i=Math.round(P7*r*(Math.random()-.5)*2);return Math.min(x7,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){return e&&e._delegate?e._delegate:e}var gn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JP=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Bt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(O7(t))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}try{for(var i=$t(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Qt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ys),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ve(ve([],Qt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Qt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ys),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Ys),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=$t(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=Qt(h.value,2),v=p[0],m=p[1],y=this.normalizeInstanceIdentifier(v);a===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=$t(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L7(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Ys),this.component?this.component.multipleInstances?t:Ys:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function L7(e){return e===Ys?void 0:e}function O7(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZP=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new JP(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Yr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks,oT=[],we;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(we||(we={}));var eL={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},D7=we.INFO,M7=(Ks={},Ks[we.DEBUG]="log",Ks[we.VERBOSE]="log",Ks[we.INFO]="info",Ks[we.WARN]="warn",Ks[we.ERROR]="error",Ks),F7=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=M7[t];if(s)console[s].apply(console,Yr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},ja=function(){function e(t){this.name=t,this._logLevel=D7,this._logHandler=F7,this._userLogHandler=null,oT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in we))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?eL[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,we.DEBUG],t)),this._logHandler.apply(this,Yr([this,we.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,we.VERBOSE],t)),this._logHandler.apply(this,Yr([this,we.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,we.INFO],t)),this._logHandler.apply(this,Yr([this,we.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,we.WARN],t)),this._logHandler.apply(this,Yr([this,we.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Yr([this,we.ERROR],t)),this._logHandler.apply(this,Yr([this,we.ERROR],t))},e}();function U7(e){oT.forEach(function(t){t.setLogLevel(e)})}function B7(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=eL[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:we[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=oT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo,j7=(xo={},xo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xo["bad-app-name"]="Illegal App name: '{$appName}",xo["duplicate-app"]="Firebase App named '{$appName}' already exists",xo["app-deleted"]="Firebase App named '{$appName}' already deleted",xo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xo),Nu=new go("app","Firebase",j7),tL="@firebase/app",V7="0.6.30",$7="@firebase/analytics",q7="@firebase/app-check",z7="@firebase/auth",H7="@firebase/database",W7="@firebase/functions",K7="@firebase/installations",G7="@firebase/messaging",Q7="@firebase/performance",Y7="@firebase/remote-config",X7="@firebase/storage",J7="@firebase/firestore",Z7="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Jv="[DEFAULT]",e$=(an={},an[tL]="fire-core",an[$7]="fire-analytics",an[q7]="fire-app-check",an[z7]="fire-auth",an[H7]="fire-rtdb",an[W7]="fire-fn",an[K7]="fire-iid",an[G7]="fire-fcm",an[Q7]="fire-perf",an[Y7]="fire-rc",an[X7]="fire-gcs",an[J7]="fire-fst",an["fire-js"]="fire-js",an[Z7]="fire-js-all",an);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=new ja("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dv=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=KP(t),this.container=new ZP(n.name),this._addComponent(new gn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Jv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Jv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){hl.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Nu.create("app-deleted",{appName:this.name_})},e}();dv.prototype.name&&dv.prototype.options||dv.prototype.delete||console.log("dc");var t$="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:U7,onLog:p,apps:null,SDK_VERSION:t$,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||Jv,!cr(t,m))throw Nu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var S=y;S.name===void 0&&(S.name=Jv);var C=S.name;if(typeof C!="string"||!C)throw Nu.create("bad-app-name",{appName:String(C)});if(cr(t,C))throw Nu.create("duplicate-app",{appName:C});var b=new e(m,S,r);return t[C]=b,b}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return hl.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(T){if(T===void 0&&(T=s()),typeof T[y]!="function")throw Nu.create("invalid-app-argument",{appName:y});return T[y]()};m.serviceProps!==void 0&&rh(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var T=[],I=0;I<arguments.length;I++)T[I]=arguments[I];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?T:[])}}for(var S=0,C=Object.keys(t);S<C.length;S++){var b=C[S];t[b]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,_){var S,C=(S=e$[m])!==null&&S!==void 0?S:m;_&&(C+="-"+_);var b=C.match(/\s|\//),T=y.match(/\s|\//);if(b||T){var I=['Unable to register library "'+C+'" with version "'+y+'":'];b&&I.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),b&&T&&I.push("and"),T&&I.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),hl.warn(I.join(" "));return}c(new gn(C+"-version",function(){return{library:C,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw Nu.create("invalid-log-argument");B7(m,y)}function v(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){var e=n$(dv);e.INTERNAL=ie(ie({},e.INTERNAL),{createFirebaseNamespace:nL,extendNamespace:t,createSubscribe:I7,ErrorFactory:go,deepExtend:rh});function t(n){rh(e,n)}return e}var sT=nL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r$=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(i$(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function i$(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(e,t){e.INTERNAL.registerComponent(new gn("platform-logger",function(n){return new r$(n)},"PRIVATE")),e.registerVersion(tL,V7,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(f7()&&self.firebase!==void 0){hl.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var AN=self.firebase.SDK_VERSION;AN&&AN.indexOf("LITE")>=0&&hl.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var s$=sT.initializeApp;sT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return GP()&&hl.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),s$.apply(void 0,e)};var ee=sT;o$(ee);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var g=o[d];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(M){k.reject(M)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var g=r.setTimeout;f.prototype.c=function(E){g(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var M=E[k];E[k]=null;try{M()}catch(U){this.f(U)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(U){return function(ce){M||(M=!0,U.call(k,ce))}}var k=this,M=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(M){this.g(M);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)w.b(this.a[E]);this.a=null}};var w=new f;return u.prototype.s=function(E){var k=this.f();E.Ra(k.resolve,k.reject)},u.prototype.u=function(E,k){var M=this.f();try{E.call(k,M.resolve,M.reject)}catch(U){M.reject(U)}},u.prototype.then=function(E,k){function M(Ae,Lt){return typeof Ae=="function"?function(Wi){try{U(Ae(Wi))}catch(j1){ce(j1)}}:Lt}var U,ce,Oe=new u(function(Ae,Lt){U=Ae,ce=Lt});return this.Ra(M(E,U),M(k,ce)),Oe},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,k){function M(){switch(U.b){case 1:E(U.c);break;case 2:k(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?w.b(M):this.a.push(M)},u.resolve=d,u.reject=function(E){return new u(function(k,M){M(E)})},u.race=function(E){return new u(function(k,M){for(var U=a(E),ce=U.next();!ce.done;ce=U.next())d(ce.value).Ra(k,M)})},u.all=function(E){var k=a(E),M=k.next();return M.done?d([]):new u(function(U,ce){function Oe(Wi){return function(j1){Ae[Wi]=j1,Lt--,Lt==0&&U(Ae)}}var Ae=[],Lt=0;do Ae.push(void 0),Lt++,d(M.value).Ra(Oe(Ae.length-1),ce),M=k.next();while(!M.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function _(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function S(o){return y(o)=="function"}function C(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function b(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++I)}var T="closure_uid_"+(1e9*Math.random()>>>0),I=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function D(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function L(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=P:L=D,L.apply(null,arguments)}function j(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function F(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function le(o){return o}function x(o,u,f){this.code=Dn+o,this.message=u||ci[o]||"",this.a=f||null}F(x,Error),x.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},x.prototype.toJSON=function(){return this.w()};function pt(o){var u=o&&o.code;return u?new x(u.substring(Dn.length),o.message,o.serverResponse):null}var Dn="auth/",ci={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Bi={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Mr(o){for(var u in Bi)if(Bi[u].id===o)return o=Bi[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Fr;Fr=Mr("__EID__")?"__EID__":void 0;function ji(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function H(o){if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}F(H,Error),H.prototype.name="CustomError";function se(o,u){o=o.split("%s");for(var f="",d=o.length-1,g=0;g<d;g++)f+=o[g]+(g<u.length?u[g]:"%s");H.call(this,f+o[d])}F(se,H),se.prototype.name="AssertionError";function ae(o,u){throw new se("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Y(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Y.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Ue(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Ss(){this.b=this.a=null}var fi=new Y(function(){return new Ur},function(o){o.reset()});Ss.prototype.add=function(o,u){var f=fi.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function oc(){var o=ek,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Ur(){this.next=this.b=this.a=null}Ur.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Ur.prototype.reset=function(){this.next=this.b=this.a=null};var Is=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Je=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,g=typeof o=="string"?o.split(""):o,w=0;w<d;w++)w in g&&u.call(f,g[w],w,o)};function oF(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var sF=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],g=0,w=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in w){var k=w[E];u.call(void 0,k,E,o)&&(d[g++]=k)}return d},vd=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),g=typeof o=="string"?o.split(""):o,w=0;w<f;w++)w in g&&(d[w]=u.call(void 0,g[w],w,o));return d},aF=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o))return!0;return!1};function uF(o){e:{for(var u=V6,f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Vi(o,u){return 0<=Is(o,u)}function gd(o,u){u=Is(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Br(o,u){var f=0;oF(o,function(d,g){u.call(void 0,d,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function f0(o){return Array.prototype.concat.apply([],arguments)}function ks(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var AI=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},lF=/&/g,cF=/</g,fF=/>/g,hF=/"/g,dF=/'/g,pF=/\x00/g,vF=/[\x00&<>"']/;function Ve(o,u){return o.indexOf(u)!=-1}function h0(o,u){return o<u?-1:o>u?1:0}var Za;e:{var RI=c.navigator;if(RI){var xI=RI.userAgent;if(xI){Za=xI;break e}}Za=""}function St(o){return Ve(Za,o)}function PI(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Cs(o){for(var u in o)return!1;return!0}function _o(o){var u={},f;for(f in o)u[f]=o[f];return u}var LI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mn(o,u){for(var f,d,g=1;g<arguments.length;g++){d=arguments[g];for(f in d)o[f]=d[f];for(var w=0;w<LI.length;w++)f=LI[w],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function OI(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(C(o))try{var w=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{w="<object could not be stringified>"}else w=o===void 0?"undefined":o===null?"null":typeof o;ae("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function hi(o,u){this.a=o===md&&u||"",this.b=DI}hi.prototype.ta=!0,hi.prototype.sa=function(){return this.a},hi.prototype.toString=function(){return"Const{"+this.a+"}"};function d0(o){return o instanceof hi&&o.constructor===hi&&o.b===DI?o.a:(ae("expected object of type Const, got '"+o+"'"),"type_error:Const")}var DI={},md={},yd;function MI(){if(yd===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:le,createScript:le,createScriptURL:le})}catch(f){c.console&&c.console.error(f.message)}yd=o}else yd=o}return yd}function eu(o,u){this.a=u===UI?o:""}eu.prototype.ta=!0,eu.prototype.sa=function(){return this.a.toString()},eu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function FI(o){return o instanceof eu&&o.constructor===eu?o.a:(ae("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function p0(o,u){var f=d0(o);if(!mF.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(gF,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof hi?d0(d):encodeURIComponent(String(d))}),yF(o)}var gF=/%{(\w+)}/g,mF=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,UI={};function yF(o){var u=MI();return o=u?u.createScriptURL(o):o,new eu(o,UI)}function Fn(o,u){this.a=u===sc?o:""}Fn.prototype.ta=!0,Fn.prototype.sa=function(){return this.a.toString()},Fn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function wd(o){return o instanceof Fn&&o.constructor===Fn?o.a:(ae("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var wF=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,_F=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,BI=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jI(o){if(o instanceof Fn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),BI.test(o))o=new Fn(o,sc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(_F);o=u&&wF.test(u[1])?new Fn(o,sc):null}return o}function VI(o){return o instanceof Fn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),BI.test(o)||(o="about:invalid#zClosurez"),new Fn(o,sc))}var sc={},$I=new Fn("about:invalid#zClosurez",sc);function tu(o,u,f){this.a=f===qI?o:""}tu.prototype.ta=!0,tu.prototype.sa=function(){return this.a.toString()},tu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function EF(o){return o instanceof tu&&o.constructor===tu?o.a:(ae("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var qI={};function bF(o,u){OI(o,"HTMLScriptElement"),o.src=FI(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(p===null&&(p=v(c.document)),u=p),u&&o.setAttribute("nonce",u)}function zI(o,u,f,d){return o=o instanceof Fn?o:VI(o),u=u||c,f=f instanceof hi?d0(f):f||"",u.open(wd(o),f,d,void 0)}function HI(o,u){for(var f=o.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)d+=f.shift()+g.shift();return d+f.join("%s")}function v0(o){return vF.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(lF,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(cF,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(fF,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(hF,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(dF,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(pF,"&#0;"))),o}function g0(o){return g0[" "](o),o}g0[" "]=m;function TF(o,u){var f=CF;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var SF=St("Opera"),jr=St("Trident")||St("MSIE"),WI=St("Edge"),IF=WI||jr,KI=St("Gecko")&&!(Ve(Za.toLowerCase(),"webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),kF=Ve(Za.toLowerCase(),"webkit")&&!St("Edge");function GI(){var o=c.document;return o?o.documentMode:void 0}var _d;e:{var m0="",y0=function(){var o=Za;if(KI)return/rv:([^\);]+)(\)|;)/.exec(o);if(WI)return/Edge\/([\d\.]+)/.exec(o);if(jr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(kF)return/WebKit\/(\S+)/.exec(o);if(SF)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(y0&&(m0=y0?y0[1]:""),jr){var w0=GI();if(w0!=null&&w0>parseFloat(m0)){_d=String(w0);break e}}_d=m0}var CF={};function QI(o){return TF(o,function(){for(var u=0,f=AI(String(_d)).split("."),d=AI(String(o)).split("."),g=Math.max(f.length,d.length),w=0;u==0&&w<g;w++){var E=f[w]||"",k=d[w]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=h0(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||h0(E[2].length==0,k[2].length==0)||h0(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var _0;if(c.document&&jr){var YI=GI();_0=YI||parseInt(_d,10)||void 0}else _0=void 0;var Eo=_0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var NF=!jr||9<=Number(Eo);function ac(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function XI(o,u){PI(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:JI.hasOwnProperty(d)?o.setAttribute(JI[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var JI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function AF(o,u,f){var d=arguments,g=document,w=String(d[0]),E=d[1];if(!NF&&E&&(E.name||E.type)){if(w=["<",w],E.name&&w.push(' name="',v0(E.name),'"'),E.type){w.push(' type="',v0(E.type),'"');var k={};Mn(k,E),delete k.type,E=k}w.push(">"),w=w.join("")}return w=Ed(g,w),E&&(typeof E=="string"?w.className=E:Array.isArray(E)?w.className=E.join(" "):XI(w,E)),2<d.length&&RF(g,w,d),w}function RF(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var w=f[g];if(!_(w)||C(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(C(w)){var E=typeof w.item=="function"||typeof w.item=="string";break e}if(S(w)){E=typeof w.item=="function";break e}}E=!1}Je(E?ks(w):w,d)}}}function Ed(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function ZI(o){c.setTimeout(function(){throw o},0)}var E0;function xF(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!St("Presto")&&(o=function(){var g=Ed(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var w=g.contentWindow;g=w.document,g.open(),g.close();var E="callImmediate"+Math.random(),k=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;g=L(function(M){(k=="*"||M.origin==k)&&M.data==E&&this.port1.onmessage()},this),w.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(E,k)}}}),typeof o<"u"&&!St("Trident")&&!St("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Hb;f.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,u.port2.postMessage(0)}}return function(g){c.setTimeout(g,0)}}function bd(o,u){Td||PF(),b0||(Td(),b0=!0),ek.add(o,u)}var Td;function PF(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Td=function(){o.then(tk)}}else Td=function(){var u=tk;!S(c.setImmediate)||c.Window&&c.Window.prototype&&!St("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(E0||(E0=xF()),E0(u)):c.setImmediate(u)}}var b0=!1,ek=new Ss;function tk(){for(var o;o=oc();){try{o.a.call(o.b)}catch(u){ZI(u)}Ue(fi,o)}b0=!1}function _e(o,u){if(this.a=Ns,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){As(f,uc,d)},function(d){if(!(d instanceof nu))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}As(f,$i,d)})}catch(d){As(this,$i,d)}}var Ns=0,uc=2,$i=3;function nk(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}nk.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var rk=new Y(function(){return new nk},function(o){o.reset()});function T0(o,u,f){var d=rk.get();return d.g=o,d.b=u,d.f=f,d}function re(o){if(o instanceof _e)return o;var u=new _e(m);return As(u,uc,o),u}function Ke(o){return new _e(function(u,f){f(o)})}function ik(o,u,f){uk(o,u,f,null)||bd(j(u,o))}function LF(o){return new _e(function(u,f){var d=o.length,g=[];if(d)for(var w=function(U,ce){d--,g[U]=ce,d==0&&u(g)},E=function(U){f(U)},k=0,M;k<o.length;k++)M=o[k],ik(M,j(w,k),E);else u(g)})}function ok(o){return new _e(function(u){var f=o.length,d=[];if(f)for(var g=function(k,M,U){f--,d[k]=M?{Qb:!0,value:U}:{Qb:!1,reason:U},f==0&&u(d)},w=0,E;w<o.length;w++)E=o[w],ik(E,j(g,w,!0),j(g,w,!1));else u(d)})}_e.prototype.then=function(o,u,f){return ak(this,S(o)?o:null,S(u)?u:null,f)},_e.prototype.$goog_Thenable=!0,e=_e.prototype,e.oa=function(o,u){return o=T0(o,o,u),o.c=!0,S0(this,o),this},e.o=function(o,u){return ak(this,null,o,u)},e.cancel=function(o){if(this.a==Ns){var u=new nu(o);bd(function(){sk(this,u)},this)}};function sk(o,u){if(o.a==Ns)if(o.c){var f=o.c;if(f.b){for(var d=0,g=null,w=null,E=f.b;E&&(E.c||(d++,E.a==o&&(g=E),!(g&&1<d)));E=E.next)g||(w=E);g&&(f.a==Ns&&d==1?sk(f,u):(w?(d=w,d.next==f.f&&(f.f=d),d.next=d.next.next):ck(f),fk(f,g,$i,u)))}o.c=null}else As(o,$i,u)}function S0(o,u){o.b||o.a!=uc&&o.a!=$i||lk(o),o.f?o.f.next=u:o.b=u,o.f=u}function ak(o,u,f,d){var g=T0(null,null,null);return g.a=new _e(function(w,E){g.g=u?function(k){try{var M=u.call(d,k);w(M)}catch(U){E(U)}}:w,g.b=f?function(k){try{var M=f.call(d,k);M===void 0&&k instanceof nu?E(k):w(M)}catch(U){E(U)}}:E}),g.a.c=o,S0(o,g),g.a}e.$c=function(o){this.a=Ns,As(this,uc,o)},e.ad=function(o){this.a=Ns,As(this,$i,o)};function As(o,u,f){o.a==Ns&&(o===f&&(u=$i,f=new TypeError("Promise cannot resolve to itself")),o.a=1,uk(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,lk(o),u!=$i||f instanceof nu||DF(o,f)))}function uk(o,u,f,d){if(o instanceof _e)return S0(o,T0(u||m,f||null,d)),!0;if(ji(o))return o.then(u,f,d),!0;if(C(o))try{var g=o.then;if(S(g))return OF(o,g,u,f,d),!0}catch(w){return f.call(d,w),!0}return!1}function OF(o,u,f,d,g){function w(M){k||(k=!0,d.call(g,M))}function E(M){k||(k=!0,f.call(g,M))}var k=!1;try{u.call(o,E,w)}catch(M){w(M)}}function lk(o){o.h||(o.h=!0,bd(o.gc,o))}function ck(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=ck(this);)fk(this,o,this.a,this.i);this.h=!1};function fk(o,u,f,d){if(f==$i&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,hk(u,f,d);else try{u.c?u.g.call(u.f):hk(u,f,d)}catch(g){dk.call(null,g)}Ue(rk,u)}function hk(o,u,f){u==uc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function DF(o,u){o.g=!0,bd(function(){o.g&&dk.call(null,u)})}var dk=ZI;function nu(o){H.call(this,o)}F(nu,H),nu.prototype.name="cancel";function Sd(){this.ya=this.ya,this.pa=this.pa}var MF=0;Sd.prototype.ya=!1;function pk(o){!o.ya&&(o.ya=!0,o.Da(),MF!=0)&&b(o)}Sd.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var FF=Object.freeze||function(o){return o},vk=!jr||9<=Number(Eo),UF=jr&&!QI("9"),BF=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Un(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Un.prototype.preventDefault=function(){this.defaultPrevented=!0};function Rs(o,u){if(Un.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(KI){e:{try{g0(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:jF[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}F(Rs,Un);var jF=FF({2:"touch",3:"pen",4:"mouse"});Rs.prototype.preventDefault=function(){Rs.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,UF)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Rs.prototype.g=function(){return this.a};var lc="closure_listenable_"+(1e6*Math.random()|0),VF=0;function $F(o,u,f,d,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=g,this.key=++VF,this.wa=this.Qa=!1}function Id(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function kd(o){this.src=o,this.a={},this.b=0}kd.prototype.add=function(o,u,f,d,g){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.b++);var E=k0(o,u,d,g);return-1<E?(u=o[E],f||(u.Qa=!1)):(u=new $F(u,this.src,w,!!d,g),u.Qa=f,o.push(u)),u};function I0(o,u){var f=u.type;f in o.a&&gd(o.a[f],u)&&(Id(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function k0(o,u,f,d){for(var g=0;g<o.length;++g){var w=o[g];if(!w.wa&&w.listener==u&&w.capture==!!f&&w.Wa==d)return g}return-1}var C0="closure_lm_"+(1e6*Math.random()|0),N0={};function vr(o,u,f,d,g){if(d&&d.once)A0(o,u,f,d,g);else if(Array.isArray(u))for(var w=0;w<u.length;w++)vr(o,u[w],f,d,g);else f=x0(f),o&&o[lc]?Ek(o,u,f,C(d)?!!d.capture:!!d,g):gk(o,u,f,!1,d,g)}function gk(o,u,f,d,g,w){if(!u)throw Error("Invalid event type");var E=C(g)?!!g.capture:!!g,k=Cd(o);if(k||(o[C0]=k=new kd(o)),f=k.add(u,f,d,E,w),!f.proxy)if(d=qF(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)BF||(g=E),g===void 0&&(g=!1),o.addEventListener(u.toString(),d,g);else if(o.attachEvent)o.attachEvent(yk(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function qF(){var o=zF,u=vk?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function A0(o,u,f,d,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)A0(o,u[w],f,d,g);else f=x0(f),o&&o[lc]?P0(o,u,f,C(d)?!!d.capture:!!d,g):gk(o,u,f,!0,d,g)}function Xn(o,u,f,d,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)Xn(o,u[w],f,d,g);else d=C(d)?!!d.capture:!!d,f=x0(f),o&&o[lc]?(o=o.v,u=String(u).toString(),u in o.a&&(w=o.a[u],f=k0(w,f,d,g),-1<f&&(Id(w[f]),Array.prototype.splice.call(w,f,1),w.length==0&&(delete o.a[u],o.b--)))):o&&(o=Cd(o))&&(u=o.a[u.toString()],o=-1,u&&(o=k0(u,f,d,g)),(f=-1<o?u[o]:null)&&mk(f))}function mk(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[lc])I0(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(yk(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=Cd(u))?(I0(f,o),f.b==0&&(f.src=null,u[C0]=null)):Id(o)}}}function yk(o){return o in N0?N0[o]:N0[o]="on"+o}function wk(o,u,f,d){var g=!0;if((o=Cd(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var w=u[o];w&&w.capture==f&&!w.wa&&(w=_k(w,d),g=g&&w!==!1)}return g}function _k(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&mk(o),f.call(d,u)}function zF(o,u){if(o.wa)return!0;if(!vk){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new Rs(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(o=o.type,g=d.length-1;0<=g;g--){u.b=d[g];var w=wk(d[g],o,!0,u);f=f&&w}for(g=0;g<d.length;g++)u.b=d[g],w=wk(d[g],o,!1,u),f=f&&w}return f}return _k(o,new Rs(u,this))}function Cd(o){return o=o[C0],o instanceof kd?o:null}var R0="__closure_events_fn_"+(1e9*Math.random()>>>0);function x0(o){return S(o)?o:(o[R0]||(o[R0]=function(u){return o.handleEvent(u)}),o[R0])}function wn(){Sd.call(this),this.v=new kd(this),this.bc=this,this.hb=null}F(wn,Sd),wn.prototype[lc]=!0,wn.prototype.addEventListener=function(o,u,f,d){vr(this,o,u,f,d)},wn.prototype.removeEventListener=function(o,u,f,d){Xn(this,o,u,f,d)},wn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Un(o,f);else if(o instanceof Un)o.target=o.target||f;else{var g=o;o=new Un(d,f),Mn(o,g)}if(g=!0,u)for(var w=u.length-1;0<=w;w--){var E=o.b=u[w];g=Nd(E,d,!0,o)&&g}if(E=o.b=f,g=Nd(E,d,!0,o)&&g,g=Nd(E,d,!1,o)&&g,u)for(w=0;w<u.length;w++)E=o.b=u[w],g=Nd(E,d,!1,o)&&g;return g},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)Id(f[d]);delete o.a[u],o.b--}}this.hb=null};function Ek(o,u,f,d,g){o.v.add(String(u),f,!1,d,g)}function P0(o,u,f,d,g){o.v.add(String(u),f,!0,d,g)}function Nd(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,w=0;w<u.length;++w){var E=u[w];if(E&&!E.wa&&E.capture==f){var k=E.listener,M=E.Wa||E.src;E.Qa&&I0(o.v,E),g=k.call(M,d)!==!1&&g}}return g&&!d.defaultPrevented}function L0(o,u,f){if(S(o))f&&(o=L(o,f));else if(o&&typeof o.handleEvent=="function")o=L(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function ru(o){var u=null;return new _e(function(f,d){u=L0(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function bk(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(_(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function Tk(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(_(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function HF(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(_(o)||typeof o=="string")Je(o,u,void 0);else for(var f=Tk(o),d=bk(o),g=d.length,w=0;w<g;w++)u.call(void 0,d[w],f&&f[w],o)}function iu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof iu)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=iu.prototype,e.X=function(){O0(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return O0(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function O0(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];xs(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)d=o.a[u],xs(g,d)||(o.a[f++]=d,g[d]=1),u++;o.a.length=f}}e.get=function(o,u){return xs(this.b,o)?this.b[o]:u},e.set=function(o,u){xs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var g=f[d],w=this.get(g);o.call(u,w,g,this)}};function xs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var Sk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function WF(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),g=null;if(0<=d){var w=o[f].substring(0,d);g=o[f].substring(d+1)}else w=o[f];u(w,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function bo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof bo?(this.i=u!==void 0?u:o.i,cc(this,o.c),this.l=o.l,this.a=o.a,fc(this,o.g),this.f=o.f,D0(this,Nk(o.b)),this.h=o.h):o&&(f=String(o).match(Sk))?(this.i=!!u,cc(this,f[1]||"",!0),this.l=hc(f[2]||""),this.a=hc(f[3]||"",!0),fc(this,f[4]),this.f=hc(f[5]||"",!0),D0(this,f[6]||"",!0),this.h=hc(f[7]||"")):(this.i=!!u,this.b=new Ps(null,this.i))}bo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(dc(u,Ik,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(dc(u,Ik,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(dc(f,f.charAt(0)=="/"?QF:GF,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",dc(f,XF)),o.join("")},bo.prototype.resolve=function(o){var u=new bo(this),f=!!o.c;f?cc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)fc(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Ve(g,"./")||Ve(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],E=0;E<g.length;){var k=g[E++];k=="."?d&&E==g.length&&w.push(""):k==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&E==g.length&&w.push("")):(w.push(k),d=!0)}d=w.join("/")}else d=g}return f?u.f=d:f=o.b.toString()!=="",f?D0(u,Nk(o.b)):f=!!o.h,f&&(u.h=o.h),u};function cc(o,u,f){o.c=f?hc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function fc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function D0(o,u,f){u instanceof Ps?(o.b=u,JF(o.b,o.i)):(f||(u=dc(u,YF)),o.b=new Ps(u,o.i))}function lt(o,u,f){o.b.set(u,f)}function gr(o,u){return o.b.get(u)}function Bn(o){return o instanceof bo?new bo(o):new bo(o,void 0)}function Ad(o,u,f,d){var g=new bo(null,void 0);return o&&cc(g,o),u&&(g.a=u),f&&fc(g,f),d&&(g.f=d),g}function hc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function dc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,KF),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function KF(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ik=/[#\/\?@]/g,GF=/[#\?:]/g,QF=/[#\?]/g,YF=/[#\?@]/g,XF=/#/g;function Ps(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function To(o){o.a||(o.a=new iu,o.b=0,o.c&&WF(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function kk(o){var u=Tk(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ps(null,void 0);o=bk(o);for(var d=0;d<u.length;d++){var g=u[d],w=o[d];Array.isArray(w)?Ck(f,g,w):f.add(g,w)}return f}e=Ps.prototype,e.add=function(o,u){To(this),this.c=null,o=ou(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function di(o,u){To(o),u=ou(o,u),xs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,xs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&O0(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function M0(o,u){return To(o),u=ou(o,u),xs(o.a.b,u)}e.forEach=function(o,u){To(this),this.a.forEach(function(f,d){Je(f,function(g){o.call(u,g,d,this)},this)},this)},e.Y=function(){To(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var g=o[d],w=0;w<g.length;w++)f.push(u[d]);return f},e.X=function(o){To(this);var u=[];if(typeof o=="string")M0(this,o)&&(u=f0(u,this.a.get(ou(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=f0(u,o[f])}return u},e.set=function(o,u){return To(this),this.c=null,o=ou(this,o),M0(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function Ck(o,u,f){di(o,u),0<f.length&&(o.c=null,o.a.set(ou(o,u),ks(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],g=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var E=g;d[w]!==""&&(E+="="+encodeURIComponent(String(d[w]))),o.push(E)}}return this.c=o.join("&")};function Nk(o){var u=new Ps;return u.c=o.c,o.a&&(u.a=new iu(o.a),u.b=o.b),u}function ou(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function JF(o,u){u&&!o.f&&(To(o),o.c=null,o.a.forEach(function(f,d){var g=d.toLowerCase();d!=g&&(di(this,d),Ck(this,g,f))},o)),o.f=u}function Ak(o){var u=[];return F0(new ZF,o,u),u.join("")}function ZF(){}function F0(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var g="",w=0;w<u;w++)f.push(g),F0(o,d[w],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(w=u[d],typeof w!="function"&&(f.push(g),xk(d,f),f.push(":"),F0(o,w,f),g=","));f.push("}");return}}switch(typeof u){case"string":xk(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Rk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},e6=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function xk(o,u){u.push('"',o.replace(e6,function(f){var d=Rk[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Rk[f]=d),d}),'"')}function U0(){var o=zt();return jr&&!!Eo&&Eo==11||/Edge\/\d+/.test(o)}function pc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function Pk(o,u){u=u||c.window;var f="about:blank";o&&(f=wd(jI(o)||$I)),u.location.href=f}function Lk(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<Lk(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function t6(){var o=zt();return o=su(o)!=Fk?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!jr||!Eo||9<Eo}function Ok(o){return o=(o||zt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Ls(o){o=o||c.window;try{o.close()}catch{}}function Dk(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=zt().toLowerCase(),d&&(u.target=d,Ve(f,"crios/")&&(u.target="_blank")),su(zt())==V0&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof Fn?f:jI(typeof f.href<"u"?f.href:String(f))||$I,f=o.target||f.target,g=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(o[E]?1:0))}var E=g.join(",");if((St("iPhone")&&!St("iPod")&&!St("iPad")||St("iPad")||St("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=Ed(document,"A"),OI(E,"HTMLAnchorElement"),u=u instanceof Fn?u:VI(u),E.href=wd(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=zI("",d,f,E),o=wd(u),E&&(IF&&Ve(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+v0(o)+'">',o=(d=MI())?d.createHTML(o):o,o=new tu(o,null,qI),d=E.document)&&(d.write(EF(o)),d.close())):(E=zI(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function n6(o){return new _e(function(u){function f(){ru(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var r6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i6=/^[^@]+@[^@]+$/;function Rd(){var o=null;return new _e(function(u){c.document.readyState=="complete"?u():(o=function(){u()},A0(window,"load",o))}).o(function(u){throw Xn(window,"load",o),u})}function o6(){return B0(void 0)?Rd().then(function(){return new _e(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):Ke(Error("Cordova must run in an Android or iOS file scheme."))}function B0(o){return o=o||zt(),!(uu()!=="file:"&&uu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function j0(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Vr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function pi(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":Vr()?"Worker":"Browser"}function Mk(){var o=pi();return o==="ReactNative"||o==="Node"}function s6(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var V0="Firefox",Fk="Chrome";function su(o){var u=o.toLowerCase();if(Ve(u,"opera/")||Ve(u,"opr/")||Ve(u,"opios/"))return"Opera";if(Ve(u,"iemobile"))return"IEMobile";if(Ve(u,"msie")||Ve(u,"trident/"))return"IE";if(Ve(u,"edge/"))return"Edge";if(Ve(u,"firefox/"))return V0;if(Ve(u,"silk/"))return"Silk";if(Ve(u,"blackberry"))return"Blackberry";if(Ve(u,"webos"))return"Webos";if(!Ve(u,"safari/")||Ve(u,"chrome/")||Ve(u,"crios/")||Ve(u,"android"))if(!Ve(u,"chrome/")&&!Ve(u,"crios/")||Ve(u,"edge/")){if(Ve(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Fk;else return"Safari";return"Other"}var Uk={md:"FirebaseCore-web",od:"FirebaseUI-web"};function au(o,u){u=u||[];var f=[],d={},g;for(g in Uk)d[Uk[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=pi(),f==="Browser"?(d=zt(),f=su(d)):f==="Worker"&&(d=zt(),f=su(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function zt(){return c.navigator&&c.navigator.userAgent||""}function Ge(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function $0(){try{var o=c.localStorage,u=Ds();if(o)return o.setItem(u,"1"),o.removeItem(u),U0()?!!c.indexedDB:!0}catch{return Vr()&&!!c.indexedDB}return!1}function Os(){return(xd()||uu()==="chrome-extension:"||B0())&&!Mk()&&$0()&&!Vr()}function xd(){return uu()==="http:"||uu()==="https:"}function uu(){return c.location&&c.location.protocol||null}function vc(o){return o=o||zt(),!(Ok(o)||su(o)==V0)}function gc(o){return typeof o>"u"?null:Ak(o)}function Bk(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function lu(o){if(o!==null)return JSON.parse(o)}function Ds(o){return o||Math.floor(1e9*Math.random()).toString()}function jk(o){return o=o||zt(),!(su(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function Vk(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function So(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=zt(),u=pi(),this.b=Ok(o)||u==="ReactNative"}So.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(xd()||uu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function q0(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function a6(){var o=c.document,u=null;return q0()||!o?re():new _e(function(f){u=function(){q0()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function mc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function $k(){return!(!Ge("fireauth.oauthhelper",c)&&!Ge("fireauth.iframe",c))}function u6(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function l6(){var o=c.navigator;return o&&o.serviceWorker?re().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):re(null)}var qk={};function z0(o){qk[o]||(qk[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var H0;try{var W0={};Object.defineProperty(W0,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(W0,"abcd",{configurable:!0,enumerable:!0,value:2}),H0=W0.abcd==2}catch{H0=!1}function J(o,u,f){H0?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function _n(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&J(o,f,u[f])}function vi(o){var u={};return _n(u,o),u}function c6(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function f6(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function K0(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)J(u,f,K0(o[f]))}return u}function G0(o){var u=o&&(o[J0]?"phone":null);if(u&&o&&o[X0]){J(this,"uid",o[X0]),J(this,"displayName",o[zk]||null);var f=null;o[Y0]&&(f=new Date(o[Y0]).toUTCString()),J(this,"enrollmentTime",f),J(this,"factorId",u)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}G0.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Q0(o){try{var u=new yc(o)}catch{u=null}return u}var zk="displayName",Y0="enrolledAt",X0="mfaEnrollmentId",J0="phoneInfo";function yc(o){G0.call(this,o),J(this,"phoneNumber",o[J0])}F(yc,G0),yc.prototype.w=function(){var o=yc.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function h6(o){var u={},f=o[d6],d=o[v6],g=o[g6];if(o=Q0(o[p6]),!g||g!=Pd&&g!=wc&&!f||g==wc&&!d||g==Z0&&!o)throw Error("Invalid checkActionCode response!");g==wc?(u[Wk]=f||null,u[Kk]=f||null,u[Hk]=d):(u[Wk]=d||null,u[Kk]=d||null,u[Hk]=f||null),u[m6]=o||null,J(this,w6,g),J(this,y6,K0(u))}var Z0="REVERT_SECOND_FACTOR_ADDITION",Pd="EMAIL_SIGNIN",wc="VERIFY_AND_CHANGE_EMAIL",d6="email",p6="mfaInfo",v6="newEmail",g6="requestType",Hk="email",Wk="fromEmail",m6="multiFactorInfo",Kk="previousEmail",y6="data",w6="operation";function ey(o){o=Bn(o);var u=gr(o,Gk)||null,f=gr(o,Qk)||null,d=gr(o,Yk)||null;if(d=d&&T6[d]||null,!u||!f||!d)throw new x("argument-error",Gk+", "+Qk+"and "+Yk+" are required in a valid action code URL.");_n(this,{apiKey:u,operation:d,code:f,continueUrl:gr(o,_6)||null,languageCode:gr(o,E6)||null,tenantId:gr(o,b6)||null})}var Gk="apiKey",Qk="oobCode",_6="continueUrl",E6="languageCode",Yk="mode",b6="tenantId",T6={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Z0,signIn:Pd,verifyAndChangeEmail:wc,verifyEmail:"VERIFY_EMAIL"};function Xk(o){try{return new ey(o)}catch{return null}}function Ld(o){var u=o[S6];if(typeof u>"u")throw new x("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new x("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[Jk];if(f&&typeof f=="object"){u=f[rC];var d=f[tC];if(f=f[nC],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new x("argument-error",tC+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new x("argument-error",nC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new x("argument-error",rC+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new x("missing-android-pkg-name")}}else if(typeof f<"u")throw new x("argument-error",Jk+" property must be a non null object when specified.");if(this.f=null,(u=o[eC])&&typeof u=="object"){if(u=u[iC],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new x("argument-error",iC+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new x("argument-error",eC+" property must be a non null object when specified.");if(u=o[ty],typeof u<"u"&&typeof u!="boolean")throw new x("argument-error",ty+" property must be a boolean when specified.");if(this.c=!!u,o=o[Zk],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new x("argument-error",Zk+" property must be a non empty string when specified.");this.i=o||null}var Jk="android",Zk="dynamicLinkDomain",ty="handleCodeInApp",eC="iOS",S6="url",tC="installApp",nC="minimumVersion",rC="packageName",iC="bundleId";function Od(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function I6(o){return vd(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var _c=null;function k6(o){var u=[];return C6(o,function(f){u.push(f)}),u}function C6(o,u){function f(M){for(;d<o.length;){var U=o.charAt(d++),ce=_c[U];if(ce!=null)return ce;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return M}N6();for(var d=0;;){var g=f(-1),w=f(0),E=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|w>>4),E!=64&&(u(w<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function N6(){if(!_c){_c={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),g=0;g<d.length;g++){var w=d[g];_c[w]===void 0&&(_c[w]=g)}}}function Dd(o){var u=oC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Dd.prototype.T=function(){return this.f},Dd.prototype.l=function(){return this.c},Dd.prototype.toString=function(){return this.h};function Md(o){try{return new Dd(o)}catch{return null}}function oC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=k6(o);for(o=[],f=u=0;u<d.length;){var g=d[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var w=d[u++];o[f++]=String.fromCharCode((g&31)<<6|w&63)}else if(239<g&&365>g){w=d[u++];var E=d[u++],k=d[u++],M=((g&7)<<18|(w&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(M>>10)),o[f++]=String.fromCharCode(56320+(M&1023))}else w=d[u++],E=d[u++],o[f++]=String.fromCharCode((g&15)<<12|(w&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var sC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fd=["client_id","response_type","scope","redirect_uri","state"],ny={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Fd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Fd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Fd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:sC},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ry(o){for(var u in ny)if(ny[u].fa==o)return ny[u];return null}function aC(o){var u={};u["facebook.com"]=lC,u["google.com"]=fC,u["github.com"]=cC,u["twitter.com"]=hC;var f=o&&o[uC];try{if(f)return u[f]?new u[f](o):new gi(o);if(typeof o[iy]<"u")return new oy(o)}catch{}return null}var iy="idToken",uC="providerId";function oy(o){var u=o[uC];if(!u&&o[iy]){var f=Md(o[iy]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),J(this,"providerId",u),J(this,"isNewUser",f)}function gi(o){oy.call(this,o),o=lu(o.rawUserInfo||"{}"),J(this,"profile",K0(o||{}))}F(gi,oy);function lC(o){if(gi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(lC,gi);function cC(o){if(gi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");J(this,"username",this.profile&&this.profile.login||null)}F(cC,gi);function fC(o){if(gi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}F(fC,gi);function hC(o){if(gi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");J(this,"username",o.screenName||null)}F(hC,gi);function dC(o){var u=Bn(o),f=gr(u,"link"),d=gr(Bn(f),"link");return u=gr(u,"deep_link_id"),gr(Bn(u),"link")||u||d||f||o}function Ud(o,u){if(!o&&!u)throw new x("internal-error","Internal assert: no raw session string available");if(o&&u)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Ec:Bd}var Ec="enroll",Bd="signin";Ud.prototype.Ha=function(){return this.a?re(this.a):re(this.b)},Ud.prototype.w=function(){return this.type==Ec?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function cu(){}cu.prototype.ka=function(){},cu.prototype.b=function(){},cu.prototype.c=function(){},cu.prototype.w=function(){};function fu(o,u){return o.then(function(f){if(f[zr]){var d=Md(f[zr]);if(!d||u!=d.i)throw new x("user-mismatch");return f}throw new x("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Dn+"user-not-found"?new x("user-mismatch"):f})}function Ms(o,u){if(u)this.a=u;else throw new x("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",o)}Ms.prototype.ka=function(o){return Ay(o,sy(this))},Ms.prototype.b=function(o,u){var f=sy(this);return f.idToken=u,Ry(o,f)},Ms.prototype.c=function(o,u){return fu(xy(o,sy(this)),u)};function sy(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ms.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function A6(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ms(o.providerId,o.pendingToken)}catch{}return null}function qi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&J(this,"idToken",u.idToken),u.accessToken&&J(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&J(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)J(this,"accessToken",u.oauthToken),J(this,"secret",u.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",f)}qi.prototype.ka=function(o){return Ay(o,ay(this))},qi.prototype.b=function(o,u){var f=ay(this);return f.idToken=u,Ry(o,f)},qi.prototype.c=function(o,u){var f=ay(this);return fu(xy(o,f),u)};function ay(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:kk(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}qi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function R6(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new qi(o.providerId,u,o.signInMethod)}catch{}}return null}function Fs(o,u){this.Qc=u||[],_n(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(ry(o)||{}).Ja||null,this.pb=null}Fs.prototype.Ka=function(o){return this.Jb=_o(o),this};function pC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');Fs.call(this,o,[])}F(pC,Fs);function Jn(o){Fs.call(this,o,Fd),this.a=[]}F(Jn,Fs),Jn.prototype.Ca=function(o){return Vi(this.a,o)||this.a.push(o),this},Jn.prototype.Rb=function(){return ks(this.a)},Jn.prototype.credential=function(o,u){var f;if(C(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new qi(this.providerId,f,this.providerId)};function Us(){Jn.call(this,"facebook.com")}F(Us,Jn),J(Us,"PROVIDER_ID","facebook.com"),J(Us,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function vC(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Us().credential({accessToken:u})}function Bs(){Jn.call(this,"github.com")}F(Bs,Jn),J(Bs,"PROVIDER_ID","github.com"),J(Bs,"GITHUB_SIGN_IN_METHOD","github.com");function gC(o){if(!o)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Bs().credential({accessToken:u})}function js(){Jn.call(this,"google.com"),this.Ca("profile")}F(js,Jn),J(js,"PROVIDER_ID","google.com"),J(js,"GOOGLE_SIGN_IN_METHOD","google.com");function mC(o,u){var f=o;return C(o)&&(f=o.idToken,u=o.accessToken),new js().credential({idToken:f,accessToken:u})}function hu(){Fs.call(this,"twitter.com",sC)}F(hu,Fs),J(hu,"PROVIDER_ID","twitter.com"),J(hu,"TWITTER_SIGN_IN_METHOD","twitter.com");function yC(o,u){var f=o;if(C(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new qi("twitter.com",f,"twitter.com")}function Io(o,u,f){this.a=o,this.f=u,J(this,"providerId","password"),J(this,"signInMethod",f===mr.EMAIL_LINK_SIGN_IN_METHOD?mr.EMAIL_LINK_SIGN_IN_METHOD:mr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Io.prototype.ka=function(o){return this.signInMethod==mr.EMAIL_LINK_SIGN_IN_METHOD?Ee(o,p8,{email:this.a,oobCode:this.f}):Ee(o,WC,{email:this.a,password:this.f})},Io.prototype.b=function(o,u){return this.signInMethod==mr.EMAIL_LINK_SIGN_IN_METHOD?Ee(o,v8,{idToken:u,email:this.a,oobCode:this.f}):Ee(o,HC,{idToken:u,email:this.a,password:this.f})},Io.prototype.c=function(o,u){return fu(this.ka(o),u)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function x6(o){return o&&o.email&&o.password?new Io(o.email,o.password,o.signInMethod):null}function mr(){_n(this,{providerId:"password",isOAuthProvider:!1})}function wC(o,u){if(u=uy(u),!u)throw new x("argument-error","Invalid email link!");return new Io(o,u.code,mr.EMAIL_LINK_SIGN_IN_METHOD)}function uy(o){return o=dC(o),(o=Xk(o))&&o.operation===Pd?o:null}_n(mr,{PROVIDER_ID:"password"}),_n(mr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),_n(mr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ko(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new x("internal-error");this.a=o,J(this,"providerId","phone"),this.fa="phone",J(this,"signInMethod","phone")}ko.prototype.ka=function(o){return o.gb(bc(this))},ko.prototype.b=function(o,u){var f=bc(this);return f.idToken=u,Ee(o,D8,f)},ko.prototype.c=function(o,u){var f=bc(this);return f.operation="REAUTH",o=Ee(o,M8,f),fu(o,u)},ko.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function P6(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Je(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new ko(u)}return null}function bc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function zi(o){try{this.a=o||ee.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}_n(this,{providerId:"phone",isOAuthProvider:!1})}zi.prototype.gb=function(o,u){var f=this.a.a;return re(u.verify()).then(function(d){if(typeof d!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=C(o)?o.session:null,w=C(o)?o.phoneNumber:o,E;return g&&g.type==Ec?E=g.Ha().then(function(k){return o8(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):g&&g.type==Bd?E=g.Ha().then(function(k){return s8(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=i8(f,{phoneNumber:w,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function _C(o,u){if(!o)throw new x("missing-verification-id");if(!u)throw new x("missing-verification-code");return new ko({fb:o,eb:u})}_n(zi,{PROVIDER_ID:"phone"}),_n(zi,{PHONE_SIGN_IN_METHOD:"phone"});function ly(o){if(o.temporaryProof&&o.phoneNumber)return new ko({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,g=o&&o.nonce,w=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return mC(w,f);case"facebook.com":return vC(f);case"github.com":return gC(f);case"twitter.com":return yC(f,d);default:return f||d||w||E?E?u.indexOf("saml.")==0?new Ms(u,E):new qi(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Jn(u).credential({idToken:w,accessToken:f,rawNonce:g}):null}}catch{return null}}function cy(o){if(!o.isOAuthProvider)throw new x("invalid-oauth-provider")}function $r(o,u,f,d,g,w,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=w||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}$r.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},$r.prototype.T=function(){return this.h},$r.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function EC(o){return o=o||{},o.type?new $r(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&pt(o.error),o.postBody,o.tenantId):null}function L6(){this.b=null,this.a=[]}var fy=null;function O6(o){var u=fy;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=Ge("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function hy(o){var u="unauthorized-domain",f=void 0,d=Bn(o);o=d.a,d=d.c,d=="chrome-extension"?f=HI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=HI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",x.call(this,u,f)}F(hy,x);function Tc(o,u,f){x.call(this,o,f),o=u||{},o.Kb&&J(this,"email",o.Kb),o.ea&&J(this,"phoneNumber",o.ea),o.credential&&J(this,"credential",o.credential),o.$b&&J(this,"tenantId",o.$b)}F(Tc,x),Tc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Mn(o,u),o},Tc.prototype.toJSON=function(){return this.w()};function jd(o){if(o.code){var u=o.code||"";u.indexOf(Dn)==0&&(u=u.substring(Dn.length));var f={credential:ly(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new x(u,o.message||void 0);return new Tc(u,f,o.message)}return null}function Sc(){}Sc.prototype.c=null;function bC(o){return o.c||(o.c=o.b())}var dy;function Vd(){}F(Vd,Sc),Vd.prototype.a=function(){var o=TC(this);return o?new ActiveXObject(o):new XMLHttpRequest},Vd.prototype.b=function(){var o={};return TC(this)&&(o[0]=!0,o[1]=!0),o};function TC(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}dy=new Vd;function $d(){}F($d,Sc),$d.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new SC;throw Error("Unsupported browser")},$d.prototype.b=function(){return{}};function SC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.qc,this),this.a.onerror=L(this.Tb,this),this.a.onprogress=L(this.rc,this),this.a.ontimeout=L(this.vc,this)}e=SC.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,py(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",py(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,py(this,1)};function py(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function vy(o,u,f){this.reset(o,u,f,void 0,void 0)}vy.prototype.a=null,vy.prototype.reset=function(o,u,f,d,g){delete this.a};function gy(o){this.f=o,this.b=this.c=this.a=null}function Ic(o,u){this.name=o,this.value=u}Ic.prototype.toString=function(){return this.name};var IC=new Ic("SEVERE",1e3),my=new Ic("WARNING",900),D6=new Ic("CONFIG",700),M6=new Ic("FINE",500);function kC(o){return o.c?o.c:o.a?kC(o.a):(ae("Root logger has no level set."),null)}gy.prototype.log=function(o,u,f){if(o.value>=kC(this).value)for(S(u)&&(u=u()),o=new vy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var yy={},qd=null;function wy(o){qd||(qd=new gy(""),yy[""]=qd,qd.c=D6);var u;if(!(u=yy[o])){u=new gy(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=wy(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,yy[o]=u}return u}function yr(o,u){o&&o.log(M6,u,void 0)}function zd(o){this.f=o}F(zd,Sc),zd.prototype.a=function(){return new Hd(this.f)},zd.prototype.b=function(o){return function(){return o}}({});function Hd(o){wn.call(this),this.u=o,this.h=void 0,this.readyState=_y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=wy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(Hd,wn);var _y=0;e=Hd.prototype,e.open=function(o,u){if(this.readyState!=_y)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Cc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,kc(this)),this.readyState=_y},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Cc(this)),this.a&&(this.readyState=3,Cc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,CC(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function CC(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?kc(this):Cc(this),this.readyState==3&&CC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,kc(this))},e.sc=function(o){this.a&&(this.response=o,kc(this))},e.Va=function(o){var u=this.i;u&&u.log(my,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&kc(this)};function kc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Cc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(my,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(my,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Cc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Hd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Nc(o){wn.call(this),this.headers=new iu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=NC,this.u=this.S=!1}F(Nc,wn);var NC="";Nc.prototype.b=wy("goog.net.XhrIo");var F6=/^https?$/i,U6=["POST","PUT"];function B6(o,u,f,d,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():dy.a(),o.C=o.D?bC(o.D):bC(dy),o.a.onreadystatechange=L(o.Wb,o);try{yr(o.b,Hi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(E){yr(o.b,Hi(o,"Error opening Xhr: "+E.message)),AC(o,E);return}u=d||"";var w=new iu(o.headers);g&&HF(g,function(E,k){w.set(k,E)}),g=uF(w.Y()),d=c.FormData&&u instanceof c.FormData,!Vi(U6,f)||g||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{PC(o),0<o.g&&(o.u=j6(o.a),yr(o.b,Hi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=L(o.Ma,o)):o.s=L0(o.Ma,o.g,o)),yr(o.b,Hi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){yr(o.b,Hi(o,"Send error: "+E.message)),AC(o,E)}}function j6(o){return jr&&QI(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function V6(o){return o.toLowerCase()=="content-type"}e=Nc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",yr(this.b,Hi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function AC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,RC(o),Wd(o)}function RC(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(yr(this.b,Hi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Wd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Wd(this,!0)),Nc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?xC(this):this.Jc())},e.Jc=function(){xC(this)};function xC(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Ac(o)==4&&Kd(o)==2)yr(o.b,Hi(o,"Local request error detected and ignored"));else if(o.i&&Ac(o)==4)L0(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Ac(o)==4){yr(o.b,Hi(o,"Request complete")),o.c=!1;try{var u=Kd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var g;if(g=u===0){var w=String(o.l).match(Sk)[1]||null;if(!w&&c.self&&c.self.location){var E=c.self.location.protocol;w=E.substr(0,E.length-1)}g=!F6.test(w?w.toLowerCase():"")}d=g}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Ac(o)?o.a.statusText:""}catch(M){yr(o.b,"Can not get status: "+M.message),k=""}o.h=k+" ["+Kd(o)+"]",RC(o)}}finally{Wd(o)}}}}function Wd(o,u){if(o.a){PC(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(g){(o=o.b)&&o.log(IC,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function PC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Ac(o){return o.a?o.a.readyState:0}function Kd(o){try{return 2<Ac(o)?o.a.status:-1}catch{return-1}}function $6(o){try{return o.a?o.a.responseText:""}catch(u){return yr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case NC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(IC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return yr(this.b,"Can not get response: "+u.message),null}};function Hi(o,u){return u+" ["+o.P+" "+o.l+" "+Kd(o)+"]"}function Vs(o){var u=H6;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Vs.prototype.cancel=function(o){if(this.a)this.c instanceof Vs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new xc,Gd(this),Rc(this,!1,o))}},Vs.prototype.m=function(o,u){this.i=!1,Rc(this,o,u)};function Rc(o,u,f){o.a=!0,o.c=f,o.f=!u,OC(o)}function Gd(o){if(o.a){if(!o.v)throw new Qd;o.v=!1}}function q6(o,u){Ey(o,null,u,void 0)}function Ey(o,u,f,d){o.g.push([u,f,d]),o.a&&OC(o)}Vs.prototype.then=function(o,u,f){var d,g,w=new _e(function(E,k){d=E,g=k});return Ey(this,d,function(E){E instanceof xc?w.cancel():g(E)}),w.then(o,u,f)},Vs.prototype.$goog_Thenable=!0;function LC(o){return aF(o.g,function(u){return S(u[1])})}function OC(o){if(o.h&&o.a&&LC(o)){var u=o.h,f=Yd[u];f&&(c.clearTimeout(f.a),delete Yd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),w=g[0],E=g[1];if(g=g[2],w=o.f?E:w)try{var k=w.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(ji(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(M){u=M,o.f=!0,LC(o)||(f=!0)}}o.c=u,d&&(k=L(o.m,o,!0),d=L(o.m,o,!1),u instanceof Vs?(Ey(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new DC(u),Yd[u.a]=u,o.h=u.a)}function Qd(){H.call(this)}F(Qd,H),Qd.prototype.message="Deferred has already fired",Qd.prototype.name="AlreadyCalledError";function xc(){H.call(this)}F(xc,H),xc.prototype.message="Deferred was canceled",xc.prototype.name="CanceledError";function DC(o){this.a=c.setTimeout(L(this.c,this),0),this.b=o}DC.prototype.c=function(){throw delete Yd[this.a],this.b};var Yd={};function by(o){var u={},f=u.document||document,d=FI(o).toString(),g=Ed(document,"SCRIPT"),w={Xb:g,Ma:void 0},E=new Vs(w),k=null,M=u.timeout!=null?u.timeout:5e3;return 0<M&&(k=window.setTimeout(function(){Xd(g,!0);var U=new Ty(K6,"Timeout reached for loading script "+d);Gd(E),Rc(E,!1,U)},M),w.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Xd(g,u.xd||!1,k),Gd(E),Rc(E,!0,null))},g.onerror=function(){Xd(g,!0,k);var U=new Ty(W6,"Error while loading script "+d);Gd(E),Rc(E,!1,U)},w=u.attributes||{},Mn(w,{type:"text/javascript",charset:"UTF-8"}),XI(g,w),bF(g,o),z6(f).appendChild(g),E}function z6(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function H6(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Xd(o,!0,this.Ma)}}function Xd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var W6=0,K6=1;function Ty(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),H.call(this,f),this.code=o}F(Ty,H);function Jd(o){this.f=o}F(Jd,Sc),Jd.prototype.a=function(){return new this.f},Jd.prototype.b=function(){return{}};function qr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||G6,this.g=_o(o.secureTokenHeaders||Q6),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||Y6,this.a=_o(o.firebaseHeaders||X6),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=pi()=="Node",f=c.XMLHttpRequest||f&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!f&&!Vr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Vr()?this.f=new zd(self):Mk()?this.f=new Jd(f):this.f=new $d,this.b=null}var Sy,zr="idToken",G6=new So(3e4,6e4),Q6={"Content-Type":"application/x-www-form-urlencoded"},Y6=new So(3e4,6e4),X6={"Content-Type":"application/json"};function MC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Zd(o,u){u&&(o.l=Iy("https://securetoken.googleapis.com/v1/token",u),o.h=Iy("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Iy("https://identitytoolkit.googleapis.com/v2/",u))}function Iy(o,u){return o=Bn(o),u=Bn(u.url),o.f=o.a+o.f,cc(o,u.c),o.a=u.a,fc(o,u.g),o.toString()}function FC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}qr.prototype.T=function(){return this.b};function UC(o,u,f,d,g,w,E){t6()||Vr()?o=L(o.u,o):(Sy||(Sy=new _e(function(k,M){Z6(k,M)})),o=L(o.s,o)),o(u,f,d,g,w,E)}qr.prototype.u=function(o,u,f,d,g,w){if(Vr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new Nc(this.f);if(w){E.g=Math.max(0,w);var k=setTimeout(function(){E.dispatchEvent("timeout")},w)}Ek(E,"complete",function(){k&&clearTimeout(k);var M=null;try{M=JSON.parse($6(this))||null}catch{M=null}u&&u(M)}),P0(E,"ready",function(){k&&clearTimeout(k),pk(this)}),P0(E,"timeout",function(){k&&clearTimeout(k),pk(this),u&&u(null)}),B6(E,o,f,d,g)};var J6=new hi(md,"https://apis.google.com/js/client.js?onload=%{onload}"),BC="__fcb"+Math.floor(1e6*Math.random()).toString();function Z6(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[BC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=p0(J6,{onload:BC});q6(by(f),function(){u(Error("CORS_UNSUPPORTED"))})}}qr.prototype.s=function(o,u,f,d,g){var w=this;Sy.then(function(){window.gapi.client.setApiKey(w.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function e8(o,u){return new _e(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?UC(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?d(Ly(g)):g.access_token&&g.refresh_token?f(g):d(new x("internal-error")):d(new x("network-request-failed"))},"POST",kk(u).toString(),o.g,o.m.get()):d(new x("internal-error"))})}function jC(o,u,f,d,g,w,E){var k=Bn(u+f);lt(k,"key",o.c),E&&lt(k,"cb",Date.now().toString());var M=d=="GET";if(M)for(var U in g)g.hasOwnProperty(U)&&lt(k,U,g[U]);return new _e(function(ce,Oe){UC(o,k.toString(),function(Ae){Ae?Ae.error?Oe(Ly(Ae,w||{})):ce(Ae):Oe(new x("network-request-failed"))},d,M?void 0:Ak(Bk(g)),o.a,o.v.get())})}function $s(o){if(o=o.email,typeof o!="string"||!i6.test(o))throw new x("invalid-email")}function VC(o){"email"in o&&$s(o)}function t8(o,u){return Ee(o,f8,{identifier:u,continueUri:xd()?pc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function n8(o){return Ee(o,T8,{}).then(function(u){return u.authorizedDomains||[]})}function jn(o){if(!o[zr])throw o.mfaPendingCredential?new x("multi-factor-auth-required",null,_o(o)):new x("internal-error")}function ky(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new x("internal-error")}else{if(!o.sessionInfo)throw new x("missing-verification-id");if(!o.code)throw new x("missing-verification-code")}}qr.prototype.Ab=function(){return Ee(this,C8,{})},qr.prototype.Cb=function(o,u){return Ee(this,zC,{idToken:o,email:u})},qr.prototype.Db=function(o,u){return Ee(this,HC,{idToken:o,password:u})};var r8={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=qr.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return PI(r8,function(g,w){var E=u[w];E===null?d.push(g):w in u&&(f[w]=E)}),d.length&&(f.deleteAttribute=d),Ee(this,zC,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Mn(o,u),Ee(this,b8,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Mn(o,u),Ee(this,w8,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Mn(o,u),Ee(this,_8,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Mn(o,f),Ee(this,E8,o)};function i8(o,u){return Ee(o,k8,u)}e.gb=function(o){return Ee(this,O8,o)};function o8(o,u){return Ee(o,N8,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function $C(o){if(!o.phoneVerificationInfo)throw new x("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new x("missing-verification-code")}function s8(o,u){return Ee(o,A8,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function a8(o,u,f){return Ee(o,d8,{idToken:u,deleteProvider:f})}function Cy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new x("internal-error")}function Ny(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ps(o.postBody),M0(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function qC(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=jd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=jd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=jd(o)):o.errorMessage&&(u=KC(o.errorMessage)),u)throw u;jn(o)}function Ay(o,u){return u.returnIdpCredential=!0,Ee(o,R8,u)}function Ry(o,u){return u.returnIdpCredential=!0,Ee(o,P8,u)}function xy(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ee(o,x8,u)}function Py(o){if(!o.oobCode)throw new x("invalid-action-code")}e.ob=function(o,u){return Ee(this,I8,{oobCode:o,newPassword:u})},e.Sa=function(o){return Ee(this,l8,{oobCode:o})},e.kb=function(o){return Ee(this,u8,{oobCode:o})};var u8={endpoint:"setAccountInfo",A:Py,Z:"email",B:!0},l8={endpoint:"resetPassword",A:Py,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},c8={endpoint:"signupNewUser",A:function(o){if($s(o),!o.password)throw new x("weak-password")},G:jn,V:!0,B:!0},f8={endpoint:"createAuthUri",B:!0},h8={endpoint:"deleteAccount",O:["idToken"]},d8={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new x("internal-error")}},p8={endpoint:"emailLinkSignin",O:["email","oobCode"],A:$s,G:jn,V:!0,B:!0},v8={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:$s,G:jn,V:!0},g8={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:$C,G:jn,B:!0,Na:!0},m8={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:$C,G:jn,B:!0,Na:!0},y8={endpoint:"getAccountInfo"},w8={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new x("internal-error");$s(o)},Z:"email",B:!0},_8={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},E8={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},b8={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new x("internal-error");$s(o)},Z:"email",B:!0},T8={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},S8={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new x("internal-error")}},I8={endpoint:"resetPassword",A:Py,Z:"email",B:!0},k8={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zC={endpoint:"setAccountInfo",O:["idToken"],A:VC,V:!0},HC={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(VC(o),!o.password)throw new x("weak-password")},G:jn,V:!0},C8={endpoint:"signupNewUser",G:jn,V:!0,B:!0},N8={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new x("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},A8={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},R8={endpoint:"verifyAssertion",A:Cy,Za:Ny,G:qC,V:!0,B:!0},x8={endpoint:"verifyAssertion",A:Cy,Za:Ny,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(o.errorMessage)throw KC(o.errorMessage);jn(o)},V:!0,B:!0},P8={endpoint:"verifyAssertion",A:function(o){if(Cy(o),!o.idToken)throw new x("internal-error")},Za:Ny,G:qC,V:!0},L8={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new x("invalid-custom-token")},G:jn,V:!0,B:!0},WC={endpoint:"verifyPassword",A:function(o){if($s(o),!o.password)throw new x("wrong-password")},G:jn,V:!0,B:!0},O8={endpoint:"verifyPhoneNumber",A:ky,G:jn,B:!0},D8={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new x("internal-error");ky(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",jd(o);jn(o)}},M8={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ky,G:jn,B:!0},F8={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[zr]^!!o.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Ee(o,u,f){if(!f6(f,u.O))return Ke(new x("internal-error"));var d=!!u.Na,g=u.Vb||"POST",w;return re(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?jC(o,o.i,u.endpoint,g,f,u.Ib,u.mb||!1):jC(o,o.h,u.endpoint,g,f,u.Ib,u.mb||!1)}).then(function(E){return w=E,u.Za?u.Za(f,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new x("internal-error");return w[u.Z]})}function KC(o){return Ly({error:{errors:[{message:o}],code:400,message:o}})}function Ly(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new x(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Mn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(f.indexOf(g)===0)return new x(d[g],u);return!u&&o&&(u=gc(o)),new x("internal-error",u)}function U8(o){this.b=o,this.a=null,this.sb=B8(this)}function B8(o){return H8().then(function(){return new _e(function(u,f){Ge("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(w),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){f(Error("Network Error"))},z8.get());d.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function j8(o,u){return o.sb.then(function(){return new _e(function(f){o.a.send(u.type,u,f,Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function V8(o,u){o.sb.then(function(){o.a.register("authEvent",u,Ge("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var $8=new hi(md,"https://apis.google.com/js/api.js?onload=%{onload}"),q8=new So(3e4,6e4),z8=new So(5e3,15e3),ep=null;function H8(){return ep||(ep=new _e(function(o,u){function f(){Vk(),Ge("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){Vk(),u(Error("Network Error"))},timeout:q8.get()})}if(Ge("gapi.iframes.Iframe"))o();else if(Ge("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){Ge("gapi.load")?f():u(Error("Network Error"))},d=p0($8,{onload:d}),re(by(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw ep=null,o}))}function GC(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Bn(this.g.url),o=Ad(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Ad("https",this.l,null,"/__/auth/iframe"),this.a=o,lt(this.a,"apiKey",this.h),lt(this.a,"appName",this.i),this.b=null,this.c=[]}GC.prototype.toString=function(){return this.f?lt(this.a,"v",this.f):di(this.a.b,"v"),this.b?lt(this.a,"eid",this.b):di(this.a.b,"eid"),this.c.length?lt(this.a,"fw",this.c.join(",")):di(this.a.b,"fw"),this.a.toString()};function Oy(o,u,f,d,g,w){this.u=o,this.s=u,this.c=f,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Oy.prototype.zb=function(o){return this.h=o,this},Oy.prototype.toString=function(){if(this.v){var o=Bn(this.v.url);o=Ad(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Ad("https",this.u,null,"/__/auth/handler");if(lt(o,"apiKey",this.s),lt(o,"appName",this.c),lt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ee.app(this.c).auth().la()}catch{f=null}u.pb=f,lt(o,"providerId",this.a.providerId),f=this.a,u=Bk(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=_o(u);for(var g=0;g<d.length;g++){var w=d[g];w in u&&delete u[w]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),Cs(u)||lt(o,"customParameters",gc(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&lt(o,"scopes",f.join(","))),this.l?lt(o,"redirectUrl",this.l):di(o.b,"redirectUrl"),this.g?lt(o,"eventId",this.g):di(o.b,"eventId"),this.i?lt(o,"v",this.i):di(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!gr(o,E)&&lt(o,E,this.b[E]);return this.h?lt(o,"tid",this.h):di(o.b,"tid"),this.f?lt(o,"eid",this.f):di(o.b,"eid"),E=Dy(this.c),E.length&&lt(o,"fw",E.join(",")),o.toString()};function Dy(o){try{return ee.app(o).auth().Ga()}catch{return[]}}function QC(o,u,f,d,g,w){this.s=o,this.g=u,this.b=f,this.f=w,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function YC(o){var u=pc();return n8(o).then(function(f){e:{var d=Bn(u),g=d.c;d=d.a;for(var w=0;w<f.length;w++){var E=f[w],k=d,M=g;if(E.indexOf("chrome-extension://")==0?k=Bn(E).a==k&&M=="chrome-extension":M!="http"&&M!="https"?k=!1:r6.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new hy(pc())})}function XC(o){return o.m||(o.m=Rd().then(function(){if(!o.u){var u=o.c,f=o.i,d=Dy(o.b),g=new GC(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=ks(d||[]),o.u=g.toString()}o.v=new U8(o.u),W8(o)})),o.m}e=QC.prototype,e.Pb=function(o,u,f){var d=new x("popup-closed-by-user"),g=new x("web-storage-unsupported"),w=this,E=!1;return this.ma().then(function(){K8(w).then(function(k){k||(o&&Ls(o),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return n6(o)}).then(function(){if(!E)return ru(f).then(function(){u(d)})})},e.Yb=function(){var o=zt();return!vc(o)&&!jk(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,g,w,E,k){if(!o)return Ke(new x("popup-blocked"));if(E&&!vc())return this.ma().o(function(U){Ls(o),g(U)}),d(),re();this.a||(this.a=YC(JC(this)));var M=this;return this.a.then(function(){var U=M.ma().o(function(ce){throw Ls(o),g(ce),ce});return d(),U}).then(function(){if(cy(f),!E){var U=Pc(M.s,M.g,M.b,u,f,null,w,M.c,void 0,M.i,k,M.f);Pk(U,o)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(M.a=null),U})};function JC(o){return o.l||(o.C=o.c?au(o.c,Dy(o.b)):null,o.l=new qr(o.g,Mr(o.i),o.C),o.f&&Zd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=YC(JC(this)));var g=this;return this.a.then(function(){cy(u);var w=Pc(g.s,g.g,g.b,o,u,pc(),f,g.c,void 0,g.i,d,g.f);Pk(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(g.a=null),w})},e.ma=function(){var o=this;return XC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function Pc(o,u,f,d,g,w,E,k,M,U,ce,Oe){return o=new Oy(o,u,f,d,g,Oe),o.l=w,o.g=E,o.i=k,o.b=_o(M||null),o.f=U,o.zb(ce).toString()}function W8(o){if(!o.v)throw Error("IfcHandler must be initialized!");V8(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=EC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",re(f)}return f.status="ERROR",re(f)})}function K8(o){var u={type:"webStorageSupport"};return XC(o).then(function(){return j8(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Br(this.h,function(u){return u==o})};function ZC(o){if(this.a=o||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=ZC.prototype,e.get=function(o){return re(this.a.getItem(o)).then(function(u){return u&&lu(u)})},e.set=function(o,u){return re(this.a.setItem(o,gc(u)))},e.U=function(o){return re(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function e2(o){this.b=o,this.a={},this.f=L(this.c,this)}var t2=[];function G8(){var o=Vr()?self:null;if(Je(t2,function(f){f.b==o&&(u=f)}),!u){var u=new e2(o);t2.push(u)}return u}e2.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Je(d,function(w){g.push(re().then(function(){return w(o.origin,o.data.data)}))}),ok(g).then(function(w){var E=[];Je(w,function(k){E.push({fulfilled:k.Qb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Je(E,function(k){for(var M in k)typeof k[M]>"u"&&delete k[M]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function n2(o,u,f){Cs(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function r2(o){this.a=o}r2.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function i2(o){this.c=o,this.b=!1,this.a=[]}function o2(o,u,f,d){var g,w=f||{},E,k,M,U=null;if(o.b)return Ke(Error("connection_unavailable"));var ce=d?800:50,Oe=typeof MessageChannel<"u"?new MessageChannel:null;return new _e(function(Ae,Lt){Oe?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Oe.port1.start(),k=setTimeout(function(){Lt(Error("unsupported_event"))},ce),E=function(Wi){Wi.data.eventId===g&&(Wi.data.status==="ack"?(clearTimeout(k),M=setTimeout(function(){Lt(Error("timeout"))},3e3)):Wi.data.status==="done"?(clearTimeout(M),typeof Wi.data.response<"u"?Ae(Wi.data.response):Lt(Error("unknown_error"))):(clearTimeout(k),clearTimeout(M),Lt(Error("invalid_response"))))},U={messageChannel:Oe,onMessage:E},o.a.push(U),Oe.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:g,data:w},[Oe.port2])):Lt(Error("connection_unavailable"))}).then(function(Ae){return My(o,U),Ae}).o(function(Ae){throw My(o,U),Ae})}function My(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Br(o.a,function(g){return g==u})}}i2.prototype.close=function(){for(;0<this.a.length;)My(this,this.a[0]);this.b=!0};function s2(){if(!By())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Vr()&&self?(this.v=G8(),n2(this.v,"keyChanged",function(u,f){return l2(o).then(function(d){return 0<d.length&&Je(o.a,function(g){g(d)}),{keyProcessed:Vi(d,f.key)}})}),n2(this.v,"ping",function(){return re(["keyChanged"])})):l6().then(function(u){(o.h=u)&&(o.g=new i2(new r2(u)),o2(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Vi(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Fy;function Q8(o){return new _e(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){f(Error(g.target.error))}})}function a2(o){return new _e(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){f(w)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):Q8(o).then(function(){return a2(o)}).then(function(w){u(w)}).o(function(w){f(w)})}})}function Uy(o){return o.i||(o.i=a2(o)),o.i}function tp(o,u){function f(g,w){Uy(o).then(u).then(g).o(function(E){if(3<++d)w(E);else return Uy(o).then(function(k){return k.close(),o.i=void 0,f(g,w)}).o(function(k){w(k)})})}var d=0;return new _e(f)}function By(){try{return!!c.indexedDB}catch{return!1}}function Lc(o){return o.objectStore("firebaseLocalStorage")}function Oc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function du(o){return new _e(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=s2.prototype,e.set=function(o,u){var f=this,d=!1;return tp(this,function(g){return g=Lc(Oc(g,!0)),du(g.get(o))}).then(function(g){return tp(f,function(w){if(w=Lc(Oc(w,!0)),g)return g.value=u,du(w.put(g));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,du(w.add(E))})}).then(function(){return f.c[o]=u,u2(f,o)}).oa(function(){d&&f.b--})};function u2(o,u){return o.g&&o.h&&u6()===o.h?o2(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):re()}e.get=function(o){return tp(this,function(u){return du(Lc(Oc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return tp(this,function(d){return f=!0,u.b++,du(Lc(Oc(d,!0)).delete(o))}).then(function(){return delete u.c[o],u2(u,o)}).oa(function(){f&&u.b--})};function l2(o){return Uy(o).then(function(u){var f=Lc(Oc(u,!1));return f.getAll?du(f.getAll()):new _e(function(d,g){var w=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(w.push(k.value),k.continue()):d(w)},E.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=Lk(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&Y8(this),this.a.push(o)},e.ia=function(o){Br(this.a,function(u){return u==o}),this.a.length==0&&c2(this)};function Y8(o){function u(){o.f=setTimeout(function(){o.l=l2(o).then(function(f){0<f.length&&Je(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}c2(o),u()}function c2(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function f2(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=re().then(function(){if(By()){var d=Ds(),g="__sak"+d;return Fy||(Fy=new s2),f=Fy,f.set(g,d).then(function(){return f.get(g)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){Je(u.a,function(w){w(g)})}),d})}e=f2.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Br(this.a,function(u){return u==o})};function Dc(){this.a={},this.type="inMemory"}e=Dc.prototype,e.get=function(o){return re(this.a[o])},e.set=function(o,u){return this.a[o]=u,re()},e.U=function(o){return delete this.a[o],re()},e.ca=function(){},e.ia=function(){};function np(){if(!X8())throw pi()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=h2()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function h2(){try{var o=c.localStorage,u=Ds();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function X8(){var o=pi()=="Node";if(o=h2()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=np.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return lu(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=gc(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&vr(c.window,"storage",o)},e.ia=function(o){c.window&&Xn(c.window,"storage",o)};function jy(){this.type="nullStorage"}e=jy.prototype,e.get=function(){return re(null)},e.set=function(){return re()},e.U=function(){return re()},e.ca=function(){},e.ia=function(){};function Vy(){if(!J8())throw pi()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=d2()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function d2(){try{var o=c.sessionStorage,u=Ds();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function J8(){var o=pi()=="Node";if(o=d2()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Vy.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return lu(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=gc(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function Z8(){var o={};o.Browser=eU,o.Node=tU,o.ReactNative=nU,o.Worker=rU,this.a=o[pi()]}var $y,eU={F:np,cb:Vy},tU={F:np,cb:Vy},nU={F:ZC,cb:jy},rU={F:np,cb:jy},pu={rd:"local",NONE:"none",td:"session"};function iU(o){var u=new x("invalid-persistence-type"),f=new x("unsupported-persistence-type");e:{for(d in pu)if(pu[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(pi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!By()&&o!=="none")throw f;break;default:if(!$0()&&o!=="none")throw f}}function p2(){var o=!!(!jk(zt())&&j0()),u=vc(),f=$0();this.m=o,this.h=u,this.l=f,this.a={},$y||($y=new Z8),o=$y;try{this.g=!U0()&&$k()||!c.indexedDB?new o.a.F:new f2(Vr()?new Dc:new o.a.F)}catch{this.g=new Dc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Dc}this.v=new Dc,this.f=L(this.Zb,this),this.b={}}var qy;function Mc(){return qy||(qy=new p2),qy}function qs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function vu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function oU(o,u,f){var d=vu(u,f),g=qs(o,u.F);return o.get(u,f).then(function(w){var E=null;try{E=lu(c.localStorage.getItem(d))}catch{}if(E&&!w)return c.localStorage.removeItem(d),o.set(u,E,f);E&&w&&g.type!="localStorage"&&c.localStorage.removeItem(d)})}e=p2.prototype,e.get=function(o,u){return qs(this,o.F).get(vu(o,u))};function gu(o,u,f){return f=vu(u,f),u.F=="local"&&(o.b[f]=null),qs(o,u.F).U(f)}e.set=function(o,u,f){var d=vu(o,f),g=this,w=qs(this,o.F);return w.set(d,u).then(function(){return w.get(d)}).then(function(E){o.F=="local"&&(g.b[d]=E)})},e.addListener=function(o,u,f){o=vu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),Cs(this.a)&&(qs(this,"local").ca(this.f),this.h||(U0()||!$k())&&c.indexedDB||!this.l||sU(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=vu(o,u),this.a[o]&&(Br(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),Cs(this.a)&&(qs(this,"local").ia(this.f),zy(this))};function sU(o){zy(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new Rs({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function zy(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var g=c.localStorage.getItem(f);g!==d&&(this.b[f]=g,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?qs(this,"local").ia(this.f):zy(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var w=this;f=function(){(typeof o.a.a<"u"||w.b[u]!==c.localStorage.getItem(u))&&(w.b[u]=c.localStorage.getItem(u),w.nb(u))},jr&&Eo&&Eo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Je(o,L(this.nb,this))},e.nb=function(o){this.a[o]&&Je(this.a[o],function(u){u()})};function aU(o){this.a=o,this.b=Mc()}var Hy={name:"authEvent",F:"local"};function uU(o){return o.b.get(Hy,o.a).then(function(u){return EC(u)})}function lU(){this.a=Mc()}function cU(){this.b=-1}function rp(o,u){this.b=v2,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),ip===void 0&&(c.Int32Array?ip=new Int32Array(y2):ip=y2),this.reset()}var ip;F(rp,cU);for(var v2=64,fU=v2-1,g2=[],Wy=0;Wy<fU;Wy++)g2[Wy]=0;var m2=f0(128,g2);rp.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ks(this.h)};function Ky(o){for(var u=o.f,f=o.l,d=0,g=0;g<u.length;)f[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=f[u-15]|0,d=f[u-2]|0;var w=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=w+E|0}d=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,M=o.a[3]|0,U=o.a[4]|0,ce=o.a[5]|0,Oe=o.a[6]|0;for(w=o.a[7]|0,u=0;64>u;u++){var Ae=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&k^g&k)|0;E=U&ce^~U&Oe,w=w+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,E=E+(ip[u]|0)|0,E=w+(E+(f[u]|0)|0)|0,w=Oe,Oe=ce,ce=U,U=M+E|0,M=k,k=g,g=d,d=E+Ae|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+M|0,o.a[4]=o.a[4]+U|0,o.a[5]=o.a[5]+ce|0,o.a[6]=o.a[6]+Oe|0,o.a[7]=o.a[7]+w|0}function Gy(o,u,f){f===void 0&&(f=u.length);var d=0,g=o.c;if(typeof u=="string")for(;d<f;)o.f[g++]=u.charCodeAt(d++),g==o.b&&(Ky(o),g=0);else if(_(u))for(;d<f;){var w=u[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");o.f[g++]=w,g==o.b&&(Ky(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var y2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w2(){rp.call(this,8,hU)}F(w2,rp);var hU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _2(o,u,f,d,g,w){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=g||null,this.s=w,this.h=u+":"+f,this.C=new lU,this.g=new aU(this.h),this.f=null,this.b=[],this.a=this.c=null}function op(o){return new x("invalid-cordova-configuration",o)}e=_2.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=o6().then(function(){if(typeof Ge("universalLinks.subscribe",c)!="function")throw op("cordova-universal-links-plugin-fix is not installed");if(typeof Ge("BuildInfo.packageName",c)>"u")throw op("cordova-plugin-buildinfo is not installed");if(typeof Ge("cordova.plugins.browsertab.openUrl",c)!="function")throw op("cordova-plugin-browsertab is not installed");if(typeof Ge("cordova.InAppBrowser.open",c)!="function")throw op("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function dU(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function pU(o){var u=new w2;Gy(u,o),o=[];var f=8*u.g;56>u.c?Gy(u,m2,56-u.c):Gy(u,m2,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(Ky(u),d=f=0;d<u.i;d++)for(var g=24;0<=g;g-=8)o[f++]=u.a[d]>>g&255;return I6(o)}e.Pb=function(o,u){return u(new x("operation-not-supported-in-this-environment")),re()},e.Nb=function(){return Ke(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return Ke(new x("redirect-operation-pending"));var g=this,w=c.document,E=null,k=null,M=null,U=null;return this.c=re().then(function(){return cy(u),b2(g)}).then(function(){return vU(g,o,u,f,d)}).then(function(){return new _e(function(ce,Oe){k=function(){var Ae=Ge("cordova.plugins.browsertab.close",c);return ce(),typeof Ae=="function"&&Ae(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),M=function(){E||(E=ru(2e3).then(function(){Oe(new x("redirect-cancelled-by-user"))}))},U=function(){q0()&&M()},w.addEventListener("resume",M,!1),zt().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",U,!1)}).o(function(ce){return Qy(g).then(function(){throw ce})})}).oa(function(){M&&w.removeEventListener("resume",M,!1),U&&w.removeEventListener("visibilitychange",U,!1),E&&E.cancel(),k&&g.Ta(k),g.c=null})};function vU(o,u,f,d,g){var w=dU(),E=new $r(u,d,null,w,new x("no-auth-event"),null,g),k=Ge("BuildInfo.packageName",c);if(typeof k!="string")throw new x("invalid-cordova-configuration");var M=Ge("BuildInfo.displayName",c),U={};if(zt().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=k;else if(zt().toLowerCase().match(/android/))U.apn=k;else return Ke(new x("operation-not-supported-in-this-environment"));M&&(U.appDisplayName=M),w=pU(w),U.sessionId=w;var ce=Pc(o.v,o.i,o.l,u,f,null,d,o.m,U,o.u,g,o.s);return o.ma().then(function(){var Oe=o.h;return o.C.a.set(Hy,E.w(),Oe)}).then(function(){var Oe=Ge("cordova.plugins.browsertab.isAvailable",c);if(typeof Oe!="function")throw new x("invalid-cordova-configuration");var Ae=null;Oe(function(Lt){if(Lt){if(Ae=Ge("cordova.plugins.browsertab.openUrl",c),typeof Ae!="function")throw new x("invalid-cordova-configuration");Ae(ce)}else{if(Ae=Ge("cordova.InAppBrowser.open",c),typeof Ae!="function")throw new x("invalid-cordova-configuration");Lt=zt(),o.a=Ae(ce,Lt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Lt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function E2(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function b2(o){return o.f||(o.f=o.ma().then(function(){return new _e(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),gU(o)})})),o.f}function Qy(o){var u=null;return uU(o.g).then(function(f){return u=f,f=o.g,gu(f.b,Hy,f.a)}).then(function(){return u})}function gU(o){function u(E){d=!0,g&&g.cancel(),Qy(o).then(function(k){var M=f;if(k&&E&&E.url){var U=null;M=dC(E.url),M.indexOf("/__/auth/callback")!=-1&&(U=Bn(M),U=lu(gr(U,"firebaseError")||null),U=(U=typeof U=="object"?pt(U):null)?new $r(k.c,k.b,null,null,U,null,k.T()):new $r(k.c,k.b,M,k.f,null,null,k.T())),M=U||f}E2(o,M)})}var f=new $r("unknown",null,null,null,new x("no-auth-event")),d=!1,g=ru(500).then(function(){return Qy(o).then(function(){d||E2(o,f)})}),w=c.handleOpenURL;c.handleOpenURL=function(E){if(E.toLowerCase().indexOf(Ge("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:E}),typeof w=="function")try{w(E)}catch(k){console.error(k)}},fy||(fy=new L6),O6(u)}e.Ea=function(o){this.b.push(o),b2(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new $r("unknown",null,null,null,new x("no-auth-event")),o(u))})},e.Ta=function(o){Br(this.b,function(u){return u==o})};function mU(o){this.a=o,this.b=Mc()}var Yy={name:"pendingRedirect",F:"session"};function yU(o){return o.b.set(Yy,"pending",o.a)}function Xy(o){return gu(o.b,Yy,o.a)}function wU(o){return o.b.get(Yy,o.a).then(function(u){return u=="pending"})}function sp(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=L(this.s,this),this.b=new up,this.C=new P2,this.g=new mU(A2(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=T2(this.D,this.v,this.m,Fr,this.J)}function T2(o,u,f,d,g){var w=ee.SDK_VERSION||null;return B0()?new _2(o,u,f,w,d,g):new QC(o,u,f,w,d,g)}sp.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=T2(this.D,this.v,this.m,null,this.J),this.i={}};function S2(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function I2(o){o.a.Yb()&&S2(o).o(function(u){var f=new $r("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Zy(u)&&o.s(f)}),o.a.Ub()||R2(o.b)}function ap(o,u){Vi(o.h,u)||o.h.push(u),o.f||wU(o.g).then(function(f){f?Xy(o.g).then(function(){S2(o).o(function(d){var g=new $r("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Zy(d)&&o.s(g)})}):I2(o)}).o(function(){I2(o)})}function Jy(o,u){Br(o.h,function(f){return f==u})}sp.prototype.s=function(o){if(!o)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return R2(this.b),u};var _U=new So(2e3,1e4),EU=new So(3e4,6e4);sp.prototype.ra=function(){return this.b.ra()};function k2(o,u,f,d,g,w,E){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,w,E)}function Zy(o){return!!(o&&o.code=="auth/cordova-not-ready")}function C2(o,u,f,d,g){var w;return yU(o.g).then(function(){return o.a.Ob(u,f,d,g).o(function(E){if(Zy(E))throw new x("operation-not-supported-in-this-environment");return w=E,Xy(o.g).then(function(){throw w})}).then(function(){return o.a.ac()?new _e(function(){}):Xy(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function N2(o,u,f,d,g){return o.a.Pb(d,function(w){u.na(f,null,w,g)},_U.get())}var e1={};function A2(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function t1(o,u,f,d){var g=A2(u,f,d);return e1[g]||(e1[g]=new sp(o,u,f,d)),e1[g]}function up(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}up.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},up.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",w=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!w),f!="unknown"||g||w?o.a?(zs(this,!0,null,o.a),re()):u.Fa(f,d)?bU(this,o,u):Ke(new x("invalid-auth-event")):(zs(this,!1,null,null),re())}else Ke(new x("invalid-auth-event"))};function R2(o){o.g||(o.g=!0,zs(o,!1,null,null))}function lp(o){o.g&&!o.i&&zs(o,!1,null,null)}function bU(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,g=u.f,w=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,g,E,w).then(function(M){zs(o,k,M,null)}).o(function(M){zs(o,k,null,M)})}function TU(o,u){if(o.b=function(){return Ke(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function x2(o,u){if(o.b=function(){return re(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function zs(o,u,f,d){u?d?TU(o,d):x2(o,f):x2(o,{user:null}),o.f=[],o.c=[]}up.prototype.ra=function(){var o=this;return new _e(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),SU(o))})};function SU(o){var u=new x("timeout");o.a&&o.a.cancel(),o.a=ru(EU.get()).then(function(){o.b||(o.g=!0,zs(o,!0,null,u))})}function P2(){}P2.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),re()):u.Fa(f,d)?IU(o,u):Ke(new x("invalid-auth-event"))}else Ke(new x("invalid-auth-event"))};function IU(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(d,g,null,f)}).o(function(g){u.na(d,null,g,f)})}function L2(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function n1(o,u){this.a=u,J(this,"verificationId",o)}n1.prototype.confirm=function(o){return o=_C(this.verificationId,o),this.a(o)};function r1(o,u,f,d){return new zi(o).gb(u,f).then(function(g){return new n1(g,d)})}function kU(o){var u=oC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");_n(this,{token:o,expirationTime:mc(1e3*u.exp),authTime:mc(1e3*u.auth_time),issuedAtTime:mc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function i1(o,u,f){var d=u&&u[D2];if(!d)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=_o(u),this.g=f,this.c=new Ud(null,d),this.b=[];var g=this;Je(u[O2]||[],function(w){(w=Q0(w))&&g.b.push(w)}),J(this,"auth",this.a),J(this,"session",this.c),J(this,"hints",this.b)}var O2="mfaInfo",D2="mfaPendingCredential";i1.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=_o(u.f);return delete d[O2],delete d[D2],Mn(d,f),u.g(d)})};function o1(o,u,f,d){x.call(this,"multi-factor-auth-required",d,u),this.b=new i1(o,u,f),J(this,"resolver",this.b)}F(o1,x);function M2(o,u,f){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new o1(u,o.serverResponse,f,o.message)}catch{}return null}function F2(){}F2.prototype.tb=function(o,u,f){return u.type==Ec?CU(this,o,u,f):NU(this,o,u)};function CU(o,u,f,d){return f.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),Mn(g,{phoneVerificationInfo:bc(o.a)}),Ee(u,g8,g)})}function NU(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Mn(d,{phoneVerificationInfo:bc(o.a)}),Ee(u,m8,d)})}function s1(o){J(this,"factorId",o.fa),this.a=o}F(s1,F2);function U2(o){if(s1.call(this,o),this.a.fa!=zi.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(U2,s1);function mu(o,u){Un.call(this,o);for(var f in u)this[f]=u[f]}F(mu,Un);function a1(o,u){this.a=o,this.b=[],this.c=L(this.yc,this),vr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Je(u.multiFactor.enrolledFactors,function(d){var g=null,w={};if(d){d.uid&&(w[X0]=d.uid),d.displayName&&(w[zk]=d.displayName),d.enrollmentTime&&(w[Y0]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[J0]=d.phoneNumber);try{g=new yc(w)}catch{}d=g}else d=null;d&&f.push(d)}),cp(this,f)}function AU(o){var u=[];return Je(o.mfaInfo||[],function(f){(f=Q0(f))&&u.push(f)}),u}e=a1.prototype,e.yc=function(o){cp(this,AU(o.hd))};function cp(o,u){o.b=u,J(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Ud(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(g){return o.tb(d,g,u)}).then(function(g){return mi(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(g){return Ee(d,F8,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var w=sF(u.b,function(E){return E.uid!=f});return cp(u,w),mi(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:vd(this.b,function(o){return o.w()})}}};function u1(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}u1.prototype.start=function(){this.a=this.c,l1(this,!0)};function RU(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function l1(o,u){o.stop(),o.b=ru(RU(o,u)).then(function(){return a6()}).then(function(){return o.h()}).then(function(){l1(o,!0)}).o(function(f){o.i(f)&&l1(o,!1)})}u1.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function c1(o){this.f=o,this.b=this.a=null,this.c=Date.now()}c1.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function B2(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function j2(o,u){o.b=Md(u[zr]||""),o.a=u.refreshToken,u=u.expiresIn,B2(o,typeof u<"u"?Number(u):void 0)}function xU(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function PU(o,u){return e8(o.f,u).then(function(f){return o.b=Md(f.access_token),o.a=f.refresh_token,B2(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}c1.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Ke(new x("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?PU(this,{grant_type:"refresh_token",refresh_token:this.a}):re(null):re({accessToken:this.b.toString(),refreshToken:this.a})};function fp(o,u){this.a=o||null,this.b=u||null,_n(this,{lastSignInTime:mc(u||null),creationTime:mc(o||null)})}function LU(o){return new fp(o.a,o.b)}fp.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function OU(o,u,f,d,g,w){_n(this,{uid:o,displayName:d||null,photoURL:g||null,email:f||null,phoneNumber:w||null,providerId:u})}function Zn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=ee.SDK_VERSION?au(ee.SDK_VERSION):null;this.a=new qr(this.l,Mr(Fr),d),(this.u=o.emulatorConfig||null)&&Zd(this.a,this.u),this.h=new c1(this.a),m1(this,u[zr]),j2(this.h,u),J(this,"refreshToken",this.h.a),$2(this,f||{}),wn.call(this),this.P=!1,this.s&&Os()&&(this.b=t1(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=DU(this),this.ba=L(this.ib,this);var g=this;this.za=null,this.Pa=function(w){g.xa(w.h)},this.qa=null,this.Ba=function(w){f1(g,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Fc(g,w.f)},this.ja=null,this.S=new a1(this,f),J(this,"multiFactor",this.S)}F(Zn,wn),Zn.prototype.xa=function(o){this.za=o,MC(this.a,o)};function f1(o,u){o.u=u,Zd(o.a,u),o.b&&(u=o.b,o.b=t1(o.s,o.l,o.m,o.u),o.P&&(Jy(u,o),ap(o.b,o)))}Zn.prototype.la=function(){return this.za};function h1(o,u){o.qa&&Xn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&vr(u,"languageCodeChanged",o.Pa)}function d1(o,u){o.$&&Xn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&vr(u,"emulatorConfigChanged",o.Ba)}function Fc(o,u){o.aa=u,FC(o.a,ee.SDK_VERSION?au(ee.SDK_VERSION,o.aa):null)}Zn.prototype.Ga=function(){return ks(this.aa)};function p1(o,u){o.ja&&Xn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&vr(u,"frameworkChanged",o.Oa)}Zn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function v1(o){try{return ee.app(o.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function DU(o){return new u1(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function V2(o){o.J||o.D.b||(o.D.start(),Xn(o,"tokenChanged",o.ba),vr(o,"tokenChanged",o.ba))}function g1(o){Xn(o,"tokenChanged",o.ba),o.D.stop()}function m1(o,u){o.Aa=u,J(o,"_lat",u)}function MU(o,u){Br(o.W,function(f){return f==u})}function Hs(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return ok(u).then(function(){return o})}function Uc(o){o.b&&!o.P&&(o.P=!0,ap(o.b,o))}function $2(o,u){_n(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new fp(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}J(Zn.prototype,"providerId","firebase");function q2(){}function y1(o){return re().then(function(){if(o.J)throw new x("app-deleted")})}function w1(o){return vd(o.providerData,function(u){return u.providerId})}function _1(o,u){u&&(z2(o,u.providerId),o.providerData.push(u))}function z2(o,u){Br(o.providerData,function(f){return f.providerId==u})}function Co(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&J(o,u,f)}function hp(o,u){o!=u&&(_n(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?J(o,"metadata",LU(u.metadata)):J(o,"metadata",new fp),Je(u.providerData,function(f){_1(o,f)}),xU(o.h,u.h),J(o,"refreshToken",o.h.a),cp(o.S,u.S.b))}e=Zn.prototype,e.reload=function(){var o=this;return It(this,y1(this).then(function(){return E1(o).then(function(){return Hs(o)}).then(q2)}))};function E1(o){return o.I().then(function(u){var f=o.isAnonymous;return FU(o,u).then(function(){return f||Co(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new kU(u)})},e.I=function(o){var u=this;return It(this,y1(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new x("internal-error");return f.accessToken!=u.Aa&&(m1(u,f.accessToken),u.dispatchEvent(new mu("tokenChanged"))),Co(u,"refreshToken",f.refreshToken),f.accessToken}))};function mi(o,u){u[zr]&&o.Aa!=u[zr]&&(j2(o.h,u),o.dispatchEvent(new mu("tokenChanged")),m1(o,u[zr]),Co(o,"refreshToken",o.h.a))}function FU(o,u){return Ee(o.a,y8,{idToken:u}).then(L(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new x("internal-error");o=o[0],$2(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=UU(o),f=0;f<u.length;f++)_1(this,u[f]);Co(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new mu("userReloaded",{hd:o}))};function UU(o){return(o=o.providerUserInfo)&&o.length?vd(o,function(u){return new OU(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return z0("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return It(this,o.c(this.a,this.uid).then(function(d){return mi(u,d),f=Bc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function dp(o,u){return E1(o).then(function(){if(Vi(w1(o),u))return Hs(o).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(o){return z0("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return It(this,dp(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=Bc(u,d,"link"),H2(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return It(this,dp(this,"phone").then(function(){return r1(v1(f),o,u,L(f.rb,f))}))},e.Mc=function(o,u){var f=this;return It(this,re().then(function(){return r1(v1(f),o,u,L(f.ub,f))}),!0)};function Bc(o,u,f){var d=ly(u);return u=aC(u),vi({user:o,credential:d,additionalUserInfo:u,operationType:f})}function H2(o,u){return mi(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return It(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return mi(u,f),u.reload()}))},e.ed=function(o){var u=this;return It(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return mi(u,f),u.reload()}))},e.Db=function(o){var u=this;return It(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return mi(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return y1(this);var u=this;return It(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return mi(u,f),Co(u,"displayName",f.displayName||null),Co(u,"photoURL",f.photoUrl||null),Je(u.providerData,function(d){d.providerId==="password"&&(J(d,"displayName",u.displayName),J(d,"photoURL",u.photoURL))}),Hs(u)}).then(q2))},e.cd=function(o){var u=this;return It(this,E1(this).then(function(f){return Vi(w1(u),o)?a8(u.a,f,[o]).then(function(d){var g={};return Je(d.providerUserInfo||[],function(w){g[w.providerId]=!0}),Je(w1(u),function(w){g[w]||z2(u,w)}),g[zi.PROVIDER_ID]||J(u,"phoneNumber",null),Hs(u)}):Hs(u).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var o=this;return It(this,this.I().then(function(u){return Ee(o.a,h8,{idToken:u})}).then(function(){o.dispatchEvent(new mu("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");h1(o,null),d1(o,null),p1(o,null),o.N=[],o.J=!0,g1(o),J(o,"refreshToken",null),o.b&&Jy(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?L(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?L(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?L(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?L(this.Mb,this):null},e.Ec=function(o){var u=this;return W2(this,"linkViaPopup",o,function(){return dp(u,o.providerId).then(function(){return Hs(u)})},!1)},e.Nc=function(o){return W2(this,"reauthViaPopup",o,function(){return re()},!0)};function W2(o,u,f,d,g){if(!Os())return Ke(new x("operation-not-supported-in-this-environment"));if(o.i&&!g)return Ke(o.i);var w=ry(f.providerId),E=Ds(o.uid+":::"),k=null;(!vc()||j0())&&o.s&&f.isOAuthProvider&&(k=Pc(o.s,o.l,o.m,u,f,null,E,ee.SDK_VERSION||null,null,null,o.tenantId,o.u));var M=Dk(k,w&&w.va,w&&w.ua);return d=d().then(function(){if(G2(o),!g)return o.I().then(function(){})}).then(function(){return k2(o.b,M,u,f,E,!!k,o.tenantId)}).then(function(){return new _e(function(U,ce){o.na(u,null,new x("cancelled-popup-request"),o.g||null),o.f=U,o.C=ce,o.g=E,o.c=N2(o.b,o,u,M,E)})}).then(function(U){return M&&Ls(M),U?vi(U):null}).o(function(U){throw M&&Ls(M),U}),It(o,d,g)}e.Fc=function(o){var u=this;return K2(this,"linkViaRedirect",o,function(){return dp(u,o.providerId)},!1)},e.Oc=function(o){return K2(this,"reauthViaRedirect",o,function(){return re()},!0)};function K2(o,u,f,d,g){if(!Os())return Ke(new x("operation-not-supported-in-this-environment"));if(o.i&&!g)return Ke(o.i);var w=null,E=Ds(o.uid+":::");return d=d().then(function(){if(G2(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=E,Hs(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(b1,o.w(),k.a)),k}).then(function(){return C2(o.b,u,f,E,o.tenantId)}).o(function(k){if(w=k,o.ha)return Y2(o.ha);throw w}).then(function(){if(w)throw w}),It(o,d,g)}function G2(o){if(!o.b||!o.P)throw o.b&&!o.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return f=this.I().then(function(E){return Ry(g.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return w=Bc(g,E,"link"),H2(g,E)}).then(function(){return w}),It(this,f)},e.Mb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null,E=re().then(function(){return fu(xy(g.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),g.uid)}).then(function(k){return w=Bc(g,k,"reauthenticate"),mi(g,k),g.i=null,g.reload()}).then(function(){return w});return It(this,E,!0)},e.vb=function(o){var u=this,f=null;return It(this,this.I().then(function(d){return f=d,typeof o>"u"||Cs(o)?{}:Od(new Ld(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return It(this,this.I().then(function(g){return d=g,typeof u>"u"||Cs(u)?{}:Od(new Ld(u))}).then(function(g){return f.a.Fb(d,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function It(o,u,f){var d=BU(o,u,f);return o.N.push(d),d.oa(function(){gd(o.N,d)}),d.o(function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=M2(g.w(),v1(o),L(o.jc,o))),w||g})}e.jc=function(o){var u=null,f=this;return o=fu(re(o),f.uid).then(function(d){return u=Bc(f,d,"reauthenticate"),mi(f,d),f.i=null,f.reload()}).then(function(){return u}),It(this,o,!0)};function BU(o,u,f){return o.i&&!f?(u.cancel(),Ke(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new mu("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Mn(o,this.metadata.w()),Je(this.providerData,function(u){o.providerData.push(c6(u))}),Mn(o,this.S.w()),o};function Q2(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[zr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Zn(u,f,o);return o.providerData&&Je(o.providerData,function(w){w&&_1(g,vi(w))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function jU(o,u,f,d){var g=new Zn(o,u);return f&&(g.ha=f),d&&Fc(g,d),g.reload().then(function(){return g})}function VU(o,u,f,d){var g=o.h,w={};return w[zr]=g.b&&g.b.toString(),w.refreshToken=g.a,u=new Zn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},w),f&&(u.ha=f),d&&Fc(u,d),hp(u,o),u}function $U(o){this.a=o,this.b=Mc()}var b1={name:"redirectUser",F:"session"};function Y2(o){return gu(o.b,b1,o.a)}function qU(o,u){return o.b.get(b1,o.a).then(function(f){return f&&u&&(f.authDomain=u),Q2(f||{})})}function T1(o){this.a=o,this.b=Mc(),this.c=null,this.f=zU(this),this.b.addListener(yi("local"),this.a,L(this.g,this))}T1.prototype.g=function(){var o=this,u=yi("local");yu(this,function(){return re().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return S1(o,"local").then(function(){o.c=u})})})};function S1(o,u){var f=[],d;for(d in pu)pu[d]!==u&&f.push(gu(o.b,yi(pu[d]),o.a));return f.push(gu(o.b,I1,o.a)),LF(f)}function zU(o){var u=yi("local"),f=yi("session"),d=yi("none");return oU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(d,o.a).then(function(w){return w?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(I1,o.a).then(function(k){return k?yi(k):u})})})}).then(function(g){return o.c=g,S1(o,g.F)}).o(function(){o.c||(o.c=u)})}var I1={name:"persistence",F:"session"};function yi(o){return{name:"authUser",F:o}}T1.prototype.yb=function(o){var u=null,f=this;return iU(o),yu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,S1(f,o)}).then(function(){if(f.c=yi(o),u)return f.b.set(f.c,u,f.a)}):re()})};function HU(o){return yu(o,function(){return o.b.set(I1,o.c.F,o.a)})}function X2(o,u){return yu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function J2(o){return yu(o,function(){return gu(o.b,o.c,o.a)})}function Z2(o,u,f){return yu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),Q2(d||{})})})}function yu(o,u){return o.f=o.f.then(u,u),o.f}function Hr(o){if(this.l=!1,J(this,"settings",new L2),J(this,"app",o),Be(this).options&&Be(this).options.apiKey)o=ee.SDK_VERSION?au(ee.SDK_VERSION):null,this.a=new qr(Be(this).options&&Be(this).options.apiKey,Mr(Fr),o);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ee.INTERNAL.createSubscribe(L(this.zc,this)),this.W=void 0,this.ib=ee.INTERNAL.createSubscribe(L(this.Ac,this)),wu(this,null),this.i=new T1(Be(this).options.apiKey+":"+Be(this).name),this.D=new $U(Be(this).options.apiKey+":"+Be(this).name),this.$=ot(this,XU(this)),this.h=ot(this,JU(this)),this.ba=!1,this.ja=L(this.Zc,this),this.Ba=L(this.da,this),this.qa=L(this.mc,this),this.za=L(this.wc,this),this.Aa=L(this.xc,this),this.b=null,GU(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Gc,this),this.u=0,wn.call(this),KU(this),this.J=[],this.R=null}F(Hr,wn);function e9(o){Un.call(this,"languageCodeChanged"),this.h=o}F(e9,Un);function t9(o){Un.call(this,"emulatorConfigChanged"),this.c=o}F(t9,Un);function n9(o){Un.call(this,"frameworkChanged"),this.f=o}F(n9,Un),e=Hr.prototype,e.yb=function(o){return o=this.i.yb(o),ot(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,MC(this.a,this.aa),this.dispatchEvent(new e9(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,WU(u),this.R={url:o,ec:u},this.settings.jb=!0,Zd(this.a,this.R),this.dispatchEvent(new t9(this.R))}};function WU(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&Rd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),FC(this.a,ee.SDK_VERSION?au(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new n9(this.J))},e.Ga=function(){return ks(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function KU(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=Bn(this.R.url);u=vi({protocol:u.c,host:u.a,port:u.g,options:vi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Be(this).options.apiKey,authDomain:Be(this).options.authDomain,appName:Be(this).name,currentUser:de(this)&&de(this).w()}};function k1(o){return o.Oa||Ke(new x("auth-domain-config-required"))}function GU(o){var u=Be(o).options.authDomain,f=Be(o).options.apiKey;u&&Os()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=t1(u,f,Be(o).name,o.R),ap(o.b,o),de(o)&&Uc(de(o)),o.m){Uc(o.m);var d=o.m;d.xa(o.la()),h1(d,o),d=o.m,Fc(d,o.J),p1(d,o),d=o.m,f1(d,o.R),d1(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?L(this.ic,this):null},e.ic=function(o,u,f,d){var g=this,w={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Ws(g,Ay(g.a,w))})},e.Xc=function(o){if(!Os())return Ke(new x("operation-not-supported-in-this-environment"));var u=this,f=ry(o.providerId),d=Ds(),g=null;(!vc()||j0())&&Be(this).options.authDomain&&o.isOAuthProvider&&(g=Pc(Be(this).options.authDomain,Be(this).options.apiKey,Be(this).name,"signInViaPopup",o,null,d,ee.SDK_VERSION||null,null,null,this.T(),this.R));var w=Dk(g,f&&f.va,f&&f.ua);return f=k1(this).then(function(E){return k2(E,w,"signInViaPopup",o,d,!!g,u.T())}).then(function(){return new _e(function(E,k){u.na("signInViaPopup",null,new x("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=N2(u.b,u,"signInViaPopup",w,d)})}).then(function(E){return w&&Ls(w),E?vi(E):null}).o(function(E){throw w&&Ls(w),E}),ot(this,f)},e.Yc=function(o){if(!Os())return Ke(new x("operation-not-supported-in-this-environment"));var u=this,f=k1(this).then(function(){return HU(u.i)}).then(function(){return C2(u.b,"signInViaRedirect",o,void 0,u.T())});return ot(this,f)};function r9(o){if(!Os())return Ke(new x("operation-not-supported-in-this-environment"));var u=k1(o).then(function(){return o.b.ra()}).then(function(f){return f?vi(f):null});return ot(o,u)}e.ra=function(){var o=this;return r9(this).then(function(u){return o.b&&lp(o.b.b),u}).o(function(u){throw o.b&&lp(o.b.b),u})},e.dd=function(o){if(!o)return Ke(new x("null-user"));if(this.S!=o.tenantId)return Ke(new x("tenant-id-mismatch"));var u=this,f={};f.apiKey=Be(this).options.apiKey,f.authDomain=Be(this).options.authDomain,f.appName=Be(this).name;var d=VU(o,f,u.D,u.Ga());return ot(this,this.h.then(function(){if(Be(u).options.apiKey!=o.l)return d.reload()}).then(function(){return de(u)&&o.uid==de(u).uid?(hp(de(u),o),u.da(o)):(wu(u,d),Uc(d),u.da(d))}).then(function(){jc(u)}))};function QU(o,u){var f={};return f.apiKey=Be(o).options.apiKey,f.authDomain=Be(o).options.authDomain,f.appName=Be(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return jU(f,u,o.D,o.Ga())}).then(function(d){return de(o)&&d.uid==de(o).uid?(hp(de(o),d),o.da(d)):(wu(o,d),Uc(d),o.da(d))}).then(function(){jc(o)})}function wu(o,u){de(o)&&(MU(de(o),o.Ba),Xn(de(o),"tokenChanged",o.qa),Xn(de(o),"userDeleted",o.za),Xn(de(o),"userInvalidated",o.Aa),g1(de(o))),u&&(u.W.push(o.Ba),vr(u,"tokenChanged",o.qa),vr(u,"userDeleted",o.za),vr(u,"userInvalidated",o.Aa),0<o.u&&V2(u)),J(o,"currentUser",u),u&&(u.xa(o.la()),h1(u,o),Fc(u,o.J),p1(u,o),f1(u,o.R),d1(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&lp(o.b.b),de(o)?(wu(o,null),J2(o.i).then(function(){jc(o)})):re()});return ot(this,u)};function YU(o){var u=qU(o.D,Be(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),Y2(o.D)});return ot(o,u)}function XU(o){var u=Be(o).options.authDomain,f=YU(o).then(function(){return Z2(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return X2(o.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:J2(o.i)})):null}).then(function(d){wu(o,d||null)});return ot(o,f)}function JU(o){return o.$.then(function(){return r9(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(yi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return Z2(this.i,Be(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=de(o)&&u){f=de(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return hp(de(o),u),de(o).I();(de(o)||u)&&(wu(o,u),u&&(Uc(u),u.ha=o.D),o.b&&ap(o.b,o),jc(o))}})},e.da=function(o){return X2(this.i,o)},e.mc=function(){jc(this),this.da(de(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ws(o,u){var f=null,d=null;return ot(o,u.then(function(g){return f=ly(g),d=aC(g),QU(o,g)},function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=M2(g.w(),o,L(o.kc,o))),w||g}).then(function(){return vi({user:de(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ws(u,re(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(de(u))})},e.Ac=function(o){var u=this;ZU(this,function(){o.next(de(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(de(d)):typeof o.next=="function"&&o.next(de(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(de(d)):typeof o.next=="function"&&o.next(de(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return de(u)?de(u).I(o).then(function(d){return{accessToken:d}}):null});return ot(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ws(u,Ee(u.a,L8,{token:o}))}).then(function(f){var d=f.user;return Co(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ws(f,Ee(f.a,WC,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ws(f,Ee(f.a,c8,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ws(u,o.ka(u.a))})},e.Sc=function(o){return z0("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=de(o);if(u&&u.isAnonymous){var f=vi({providerId:null,isNewUser:!1});return vi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ws(o,o.a.Ab()).then(function(d){var g=d.user;return Co(g,"isAnonymous",!0),o.da(g),d})})};function Be(o){return o.app}function de(o){return o.currentUser}e.getUid=function(){return de(this)&&de(this).uid||null};function pp(o){return de(o)&&de(o)._lat||null}function jc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](pp(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](pp(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&de(this)&&V2(de(this))},e.Pc=function(o){var u=this;Je(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&de(this)&&g1(de(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),ot(this,this.h.then(function(){u.l||Vi(u.s,o)&&o(pp(u))}))},e.removeAuthTokenListener=function(o){Br(this.s,function(u){return u==o})};function ZU(o,u){o.N.push(u),ot(o,o.h.then(function(){!o.l&&Vi(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(pp(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(yi("local"),o.a,this.ja)),this.b&&(Jy(this.b,this),lp(this.b.b)),Promise.resolve()};function ot(o,u){return o.P.push(u),u.oa(function(){gd(o.P,u)}),u}e.hc=function(o){return ot(this,t8(this.a,o))},e.Bc=function(o){return!!uy(o)},e.xb=function(o,u){var f=this;return ot(this,re().then(function(){var d=new Ld(u);if(!d.c)throw new x("argument-error",ty+" must be true when sending sign in link to email");return Od(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return ot(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return ot(this,this.a.Sa(o).then(function(u){return new h6(u)}))},e.kb=function(o){return ot(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return ot(this,re().then(function(){return typeof u>"u"||Cs(u)?{}:Od(new Ld(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return ot(this,r1(this,o,u,L(this.ab,this)))},e.Vc=function(o,u){var f=this;return ot(this,re().then(function(){var d=u||pc(),g=wC(o,d);if(d=uy(d),!d)throw new x("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new x("tenant-id-mismatch");return f.ab(g)}))};function Vc(){}Vc.prototype.render=function(){},Vc.prototype.reset=function(){},Vc.prototype.getResponse=function(){},Vc.prototype.execute=function(){};function _u(){this.a={},this.b=1e12}var C1=null;_u.prototype.render=function(o,u){return this.a[this.b.toString()]=new vp(o,u),this.b++},_u.prototype.reset=function(o){var u=N1(this,o);o=i9(o),u&&o&&(u.delete(),delete this.a[o])},_u.prototype.getResponse=function(o){return(o=N1(this,o))?o.getResponse():null},_u.prototype.execute=function(o){(o=N1(this,o))&&o.execute()};function N1(o,u){return(u=i9(u))&&o.a[u]||null}function i9(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function vp(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ac(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():vr(this.f,"click",this.i)}vp.prototype.getResponse=function(){return A1(this),this.b},vp.prototype.execute=function(){A1(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=s6();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},vp.prototype.delete=function(){A1(this),this.g=!0,clearTimeout(this.a),this.a=null,Xn(this.f,"click",this.i)};function A1(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function R1(){}J(R1,"FACTOR_ID","phone");function x1(){}x1.prototype.g=function(){return C1||(C1=new _u),re(C1)},x1.prototype.c=function(){};var P1=null;function L1(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var eB=new hi(md,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),tB=new So(3e4,6e4);L1.prototype.g=function(o){var u=this;return new _e(function(f,d){var g=setTimeout(function(){d(new x("network-request-failed"))},tB.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var E=c.grecaptcha.render;c.grecaptcha.render=function(k,M){return k=E(k,M),u.b++,k},clearTimeout(g),f(c.grecaptcha)}else clearTimeout(g),d(new x("internal-error"));delete c[u.a]};var w=p0(eB,{onload:u.a,hl:o||""});re(by(w)).o(function(){clearTimeout(g),d(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(c.grecaptcha)})},L1.prototype.c=function(){this.b--};var O1=null;function D1(o,u,f,d,g,w,E){if(J(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(P1||(P1=new x1),E=P1):(O1||(O1=new L1),E=O1),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[a9])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[nB]==="invisible",!c.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ac(u)||!this.i&&ac(u).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new qr(o,w||null,g||null),this.u=d||function(){return null};var k=this;this.l=[];var M=this.a[o9];this.a[o9]=function(ce){if(u9(k,ce),typeof M=="function")M(ce);else if(typeof M=="string"){var Oe=Ge(M,c);typeof Oe=="function"&&Oe(ce)}};var U=this.a[s9];this.a[s9]=function(){if(u9(k,null),typeof U=="function")U();else if(typeof U=="string"){var ce=Ge(U,c);typeof ce=="function"&&ce()}}}var o9="callback",s9="expired-callback",a9="sitekey",nB="size";function u9(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function rB(o,u){Br(o.l,function(f){return f==u})}function M1(o,u){return o.h.push(u),u.oa(function(){gd(o.h,u)}),u}e=D1.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=M1(this,re().then(function(){if(xd()&&!Vr())return Rd();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ee(o.s,S8,{})}).then(function(u){o.a[a9]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){gp(this);var o=this;return M1(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=ac(u);u=AF("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){gp(this);var o=this;return M1(this,this.render().then(function(u){return new _e(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var g=function(w){w&&(rB(o,g),f(w))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){gp(this),this.c!==null&&this.g.reset(this.c)};function gp(o){if(o.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){gp(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=ac(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function F1(o,u,f){var d=!1;try{this.b=f||ee.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new x("invalid-api-key");var g=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=ee.SDK_VERSION?au(ee.SDK_VERSION,w):null,D1.call(this,f,o,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},w,Mr(Fr),d)}F(F1,D1);function l9(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var g=0,w=!1,E=0;E<u.length;E++)if(u[E].optional)w=!0;else{if(w)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(w=u.length,f.length<g||w<f.length)d="Expected "+(g==w?g==1?"1 argument":g+" arguments":g+"-"+w+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(w=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!w){if(u=u[g],0>g||g>=c9.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");f=c9[g],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new x("argument-error",o+" failed: "+d)}var c9="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function X(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function U1(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function vt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:C}}function Eu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function wi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function iB(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function oB(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Hr)}}}function sB(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ee.app.App)}}}function No(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function f9(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function bu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function B1(o,u){return C(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function h9(o){return C(o)&&typeof o.uid=="string"}function mp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ct(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(g){return o.M(g)||u.M(g)}}}function Ze(o,u){for(var f in u){var d=u[f].name;o[d]=p9(d,o[f],u[f].j)}}function d9(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:j(function(g){return this[g]},f),set:j(function(g,w,E,k){l9(g,[E],[k],!0),this[w]=k},d,f,u[f].lb),enumerable:!0})}}function ft(o,u,f,d){o[u]=p9(u,f,d)}function p9(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return l9(g,f,E),u.apply(this,E)}if(!f)return u;var g=aB(o),w;for(w in u)d[w]=u[w];for(w in u.prototype)d.prototype[w]=u.prototype[w];return d}function aB(o){return o=o.split("."),o[o.length-1]}Ze(Hr.prototype,{kb:{name:"applyActionCode",j:[X("code")]},Sa:{name:"checkActionCode",j:[X("code")]},ob:{name:"confirmPasswordReset",j:[X("code"),X("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[X("email"),X("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[X("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[X("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ct(vt(),Eu(),"nextOrObserver"),Eu("opt_error",!0),Eu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ct(vt(),Eu(),"nextOrObserver"),Eu("opt_error",!0),Eu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[X("email"),ct(vt("opt_actionCodeSettings",!0),wi(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[X("email"),vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[X("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[No()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[No()]},Tc:{name:"signInWithCustomToken",j:[X("token")]},Uc:{name:"signInWithEmailAndPassword",j:[X("email"),X("password")]},Vc:{name:"signInWithEmailLink",j:[X("email"),X("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[X("phoneNumber"),mp()]},Xc:{name:"signInWithPopup",j:[bu()]},Yc:{name:"signInWithRedirect",j:[bu()]},dd:{name:"updateCurrentUser",j:[ct(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Zn)}}}(),wi(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[X(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[X("url"),vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[X("code")]}}),d9(Hr.prototype,{lc:{name:"languageCode",lb:ct(X(),wi(),"languageCode")},ti:{name:"tenantId",lb:ct(X(),wi(),"tenantId")}}),Hr.Persistence=pu,Hr.Persistence.LOCAL="local",Hr.Persistence.SESSION="session",Hr.Persistence.NONE="none",Ze(Zn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[U1("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[U1("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[No()]},rb:{name:"linkWithCredential",j:[No()]},Dc:{name:"linkWithPhoneNumber",j:[X("phoneNumber"),mp()]},Ec:{name:"linkWithPopup",j:[bu()]},Fc:{name:"linkWithRedirect",j:[bu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[No()]},ub:{name:"reauthenticateWithCredential",j:[No()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[X("phoneNumber"),mp()]},Nc:{name:"reauthenticateWithPopup",j:[bu()]},Oc:{name:"reauthenticateWithRedirect",j:[bu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ct(vt("opt_actionCodeSettings",!0),wi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[X(null,!0)]},cd:{name:"unlink",j:[X("provider")]},Cb:{name:"updateEmail",j:[X("email")]},Db:{name:"updatePassword",j:[X("password")]},ed:{name:"updatePhoneNumber",j:[No("phone")]},Eb:{name:"updateProfile",j:[vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[X("email"),ct(vt("opt_actionCodeSettings",!0),wi(null,!0),"opt_actionCodeSettings",!0)]}}),Ze(_u.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ze(Vc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ze(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),d9(L2.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:U1("appVerificationDisabledForTesting")}}),Ze(n1.prototype,{confirm:{name:"confirm",j:[X("verificationCode")]}}),ft(cu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[R6,x6,P6,A6],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[ct(X(),vt(),"json")]),ft(mr,"credential",function(o,u){return new Io(o,u)},[X("email"),X("password")]),Ze(Io.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Ze(Us.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(Us,"credential",vC,[ct(X(),vt(),"token")]),ft(mr,"credentialWithLink",wC,[X("email"),X("emailLink")]),Ze(Bs.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(Bs,"credential",gC,[ct(X(),vt(),"token")]),Ze(js.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(js,"credential",mC,[ct(X(),ct(vt(),wi()),"idToken"),ct(X(),wi(),"accessToken",!0)]),Ze(hu.prototype,{Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(hu,"credential",yC,[ct(X(),vt(),"token"),X("secret",!0)]),Ze(Jn.prototype,{Ca:{name:"addScope",j:[X("scope")]},credential:{name:"credential",j:[ct(X(),ct(vt(),wi()),"optionsOrIdToken"),ct(X(),wi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),Ze(qi.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Ze(Ms.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),ft(zi,"credential",_C,[X("verificationId"),X("verificationCode")]),Ze(zi.prototype,{gb:{name:"verifyPhoneNumber",j:[ct(X(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?B1(f.session,Ec)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?B1(f.session,Bd)&&h9(f.multiFactorHint):f.session&&f.multiFactorUid?B1(f.session,Bd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),mp()]}}),Ze(ko.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Ze(x.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ze(Tc.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ze(hy.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ze(o1.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Ze(i1.prototype,{Rc:{name:"resolveSignIn",j:[f9()]}}),Ze(a1.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[f9(),X("displayName",!0)]},bd:{name:"unenroll",j:[ct({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:h9},X(),"multiFactorInfoIdentifier")]}}),Ze(F1.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ft(ey,"parseLink",Xk,[X("link")]),ft(R1,"assertion",function(o){return new U2(o)},[No("phone")]),function(){if(typeof ee<"u"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Z0,VERIFY_AND_CHANGE_EMAIL:wc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Hr,AuthCredential:cu,Error:x};ft(o,"EmailAuthProvider",mr,[]),ft(o,"FacebookAuthProvider",Us,[]),ft(o,"GithubAuthProvider",Bs,[]),ft(o,"GoogleAuthProvider",js,[]),ft(o,"TwitterAuthProvider",hu,[]),ft(o,"OAuthProvider",Jn,[X("providerId")]),ft(o,"SAMLAuthProvider",pC,[X("providerId")]),ft(o,"PhoneAuthProvider",zi,[oB()]),ft(o,"RecaptchaVerifier",F1,[ct(X(),iB(),"recaptchaContainer"),vt("recaptchaParameters",!0),sB()]),ft(o,"ActionCodeURL",ey,[]),ft(o,"PhoneMultiFactorGenerator",R1,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Hr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:L(u.getUid,u),getToken:L(u.nc,u),addAuthTokenListener:L(u.cc,u),removeAuthTokenListener:L(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.8"),ee.INTERNAL.extendNamespace({User:Zn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var a$="@firebase/database",u$="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL="";function iL(e){rL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l$=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Nt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ih(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c$=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return cr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l$(t)}}catch{}return new c$},ia=oL("localStorage"),X_=oL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zu=new ja("@firebase/database"),sL=function(){var e=1;return function(){return e++}}(),aL=function(e){var t=N7(e),n=new S7;n.update(t);var r=n.digest();return im.encodeByteArray(r)},Uh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Uh.apply(null,i):typeof i=="object"?n+=Nt(i):n+=i,n+=" "}return n},da=null,RN=!0,uL=function(e,t){q(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Zu.logLevel=we.VERBOSE,da=Zu.log.bind(Zu),t&&X_.set("logging_enabled",!0)):typeof e=="function"?da=e:(da=null,X_.remove("logging_enabled"))},Ft=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(RN===!0&&(RN=!1,da===null&&X_.get("logging_enabled")===!0&&uL(!0)),da){var n=Uh.apply(null,e);da(n)}},Bh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Ft.apply(void 0,ve([e],Qt(t)))}},J_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Uh.apply(void 0,ve([],Qt(e)));Zu.error(n)},Pi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Uh.apply(void 0,ve([],Qt(e)));throw Zu.error(n),new Error(n)},Jt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Uh.apply(void 0,ve([],Qt(e)));Zu.warn(n)},f$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},h$=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},co="[MIN_NAME]",Li="[MAX_NAME]",Va=function(e,t){if(e===t)return 0;if(e===co||t===Li)return-1;if(t===co||e===Li)return 1;var n=Zv(e),r=Zv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},d$=function(e,t){return e===t?0:e<t?-1:1},Jc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Nt(t))},aT=function(e){if(typeof e!="object"||e===null)return Nt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Nt(t[i]),r+=":",r+=aT(e[t[i]]);return r+="}",r},lL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Pt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var cL=function(e){q(!sm(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},p$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},v$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function g$(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var m$=new RegExp("^-?(0*)\\d{1,10}$"),fL=-2147483648,uT=2147483647,Zv=function(e){if(m$.test(e)){var t=Number(e);if(t>=fL&&t<=uT)return t}return null},$l=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Jt("Exception was thrown by user callback.",n),t},Math.floor(0))}},y$=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},If=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w$=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Jt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(t)},e}(),kf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lT="5",hL="v",dL="s",pL="r",vL="f",gL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mL="ls",E$="p",Z_="ac",yL="websocket",wL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ia.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ia.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function b$(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function _L(e,t,n){q(typeof t=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");var r;if(t===yL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===wL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);b$(e)&&(n.ns=e.namespace);var i=[];return Pt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T$=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),cr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return KP(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gw={},mw={};function fT(e){var t=e.toString();return gw[t]||(gw[t]=new T$),gw[t]}function S$(e,t){var n=e.toString();return mw[n]||(mw[n]=t()),mw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I$=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&$l(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xN="start",k$="close",C$="pLPCommand",N$="pRTLPCB",EL="id",bL="pw",TL="ser",A$="cb",R$="seg",x$="ts",P$="d",L$="dframe",SL=1870,IL=30,O$=SL-IL,D$=25e3,M$=3e4,hT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bh(t),this.stats_=fT(n),this.urlFn=function(h){return c.appCheckToken&&(h[Z_]=c.appCheckToken),_L(n,wL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new I$(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(M$)),h$(function(){if(!r.isClosed_){r.scriptTagHolder=new F$(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Qt(a,5),h=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===xN)r.id=p,r.password=v;else if(h===k$)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Qt(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[xN]="t",i[TL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[A$]=r.scriptTagHolder.uniqueCallbackIdentifier),i[hL]=lT,r.transportSessionId&&(i[dL]=r.transportSessionId),r.lastSessionId&&(i[mL]=r.lastSessionId),r.applicationId&&(i[E$]=r.applicationId),r.appCheckToken&&(i[Z_]=r.appCheckToken),typeof location<"u"&&location.hostname&&gL.test(location.hostname)&&(i[pL]=vL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!p$()&&!v$()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=WP(n),i=lL(r,O$),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[L$]="t",r[EL]=t,r[bL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Nt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),F$=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sL(),window[C$+this.uniqueCallbackIdentifier]=t,window[N$+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Ft("frame writing exception"),c.stack&&Ft(c.stack),Ft(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Ft("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[EL]=this.myID,t[bL]=this.myPW,t[TL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+IL+r.length<=SL){var a=this.pendingSegs.shift();r=r+"&"+R$+i+"="+a.seg+"&"+x$+i+"="+a.ts+"&"+P$+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(D$)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Ft("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U$=16384,B$=45e3,eg=null;typeof MozWebSocket<"u"?eg=MozWebSocket:typeof WebSocket<"u"&&(eg=WebSocket);var Zs=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bh(this.connId),this.stats_=fT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[hL]=lT,typeof location<"u"&&location.hostname&&gL.test(location.hostname)&&(s[pL]=vL),n&&(s[dL]=n),r&&(s[mL]=r),i&&(s[Z_]=i),_L(t,yL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ia.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!YP()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new eg(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&eg!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ia.isInMemoryStorage||ia.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ia.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ih(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=lL(n,U$);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(B$))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j$=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[hT,Zs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Zs&&Zs.isAvailable(),s=i&&!Zs.previouslyFailed();if(t.webSocketOnly&&(i||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zs];else{var a=this.transports_=[];try{for(var l=$t(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V$=6e4,$$=5e3,q$=10*1024,z$=100*1024,yw="t",PN="d",H$="s",LN="r",W$="e",ON="o",DN="a",MN="n",FN="p",K$="h",kL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bh("c:"+this.id+":"),this.transportManager_=new j$(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=If(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>z$?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>q$?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(yw in t){var n=t[yw];n===DN?this.upgradeIfSecondaryHealthy_():n===LN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ON&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Jc("t",t),r=Jc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FN,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Jc("t",t),r=Jc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Jc(yw,t);if(PN in t){var r=t[PN];if(n===K$)this.onHandshake_(r);else if(n===MN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===H$?this.onConnectionShutdown_(r):n===LN?this.onReset_(r):n===W$?J_("Server Error: "+r):n===ON?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):J_("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lT!==r&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),If(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(V$))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):If(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor($$))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FN,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=ve([],Qt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){q(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UN=function(e){K(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(NL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BN=32,jN=768,Le=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function xe(){return new Le("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ls(e){return e.pieces_.length-e.pieceNum_}function je(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Le(e.pieces_,t)}function dT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function G$(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function oh(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function AL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Le(t,0)}function Xe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Le)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Le(n,0)}function me(e){return e.pieceNum_>=e.pieces_.length}function Nn(e,t){var n=ge(e),r=ge(t);if(n===null)return t;if(n===r)return Nn(je(e),je(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Q$(e,t){for(var n=oh(e,0),r=oh(t,0),i=0;i<n.length&&i<r.length;i++){var s=Va(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function pT(e,t){if(ls(e)!==ls(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Tr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ls(e)>ls(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Y$=function(){function e(t,n){this.errorPrefix_=n,this.parts_=oh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=om(this.parts_[r]);RL(this)}return e}();function X$(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=om(t),RL(e)}function J$(e){var t=e.parts_.pop();e.byteLength_-=om(t),e.parts_.length>0&&(e.byteLength_-=1)}function RL(e){if(e.byteLength_>jN)throw new Error(e.errorPrefix_+"has a key path longer than "+jN+" bytes ("+e.byteLength_+").");if(e.parts_.length>BN)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BN+") or object contains a cycle "+Xs(e))}function Xs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z$=function(e){K(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]},t}(NL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=1e3,eq=60*5*1e3,tq=3*1e3,VN=30*1e3,nq=1.3,rq=3e4,iq="server_kill",$N=3,pa=function(e){K(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=Bh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=Zc,p.maxReconnectDelay_=eq,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!YP())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Z$.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&UN.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Nt(a)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Bt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},tq),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&cr(n,"w")){var i=Ia(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Jt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||b7(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VN)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=E7(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Nt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):J_("Unrecognized action received from server: "+Nt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>rq&&(this.reconnectDelay_=Zc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nq)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,_,S,C=this;return N(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(T){q(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(T)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=Qt.apply(void 0,[b.sent(),2]),y=m[0],_=m[1],l?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new kL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){Jt(T+" ("+C.repoInfo_.toString()+")"),C.interrupt(iq)},a)),[3,4];case 3:return S=b.sent(),this.log_("Failed to get token: "+S),l||(this.repoInfo_.nodeAdmin&&Jt(S),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Q_(this.interruptReasons_)&&(this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return aT(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Le(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Ft("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$N&&(this.reconnectDelay_=VN,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Ft("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$N&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=$t(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,$t(c.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){n={error:_}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+rL.replace(/\./g,"-")]=1,tT()?n["framework.cordova"]=1:QP()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=UN.getInstance().currentlyOnline();return Q_(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(CL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Te(co,t),i=new Te(co,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Te.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp,xL=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Dp},set:function(n){Dp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Va(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw jl("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(Li,Dp)},t.prototype.makePost=function(n,r){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new Te(n,Dp)},t.prototype.toString=function(){return".key"},t}(am),Ci=new xL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Jr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Zi.EMPTY_NODE,this.right=s??Zi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Zi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Zi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),oq=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Jr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Zi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Mp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Mp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Mp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Mp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new oq,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(e,t){return Va(e.name,t.name)}function vT(e,t){return Va(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eE;function aq(e){eE=e}var PL=function(e){return typeof e=="number"?"number:"+cL(e):"string:"+e},LL=function(e){if(e.isLeafNode()){var t=e.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&cr(t,".sv"),"Priority must be a string or number.")}else q(e===eE||e.isEmpty(),"priority of unexpected type.");q(e===eE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qN,dl=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return qN},set:function(t){qN=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return me(t)?this:ge(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||ls(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+PL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=cL(this.value_):t+=this.value_,this.lazyHash_=aL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return q(i>=0,"Unknown leaf type: "+n),q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL,DL;function uq(e){OL=e}function lq(e){DL=e}var cq=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Va(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return new Te(Li,new dl("[PRIORITY-POST]",DL))},t.prototype.makePost=function(n,r){var i=OL(n);return new Te(r,new dl("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(am),qe=new cq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fq=Math.log(2),hq=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/fq,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),tg=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,v,m;if(p===0)return null;if(p===1)return v=e[c],m=n?n(v):v,new Jr(m,v.node,Jr.BLACK,null,null);var y=parseInt(p/2,10)+c,_=i(c,y),S=i(y+1,h);return v=e[y],m=n?n(v):v,new Jr(m,v.node,Jr.BLACK,_,S)},s=function(c){for(var h=null,p=null,v=e.length,m=function(b,T){var I=v-b,P=v;v-=b;var D=i(I+1,P),L=e[I],j=n?n(L):L;y(new Jr(j,L.node,T,null,D))},y=function(b){h?(h.left=b,h=b):(p=b,h=b)},_=0;_<c.count;++_){var S=c.nextBitIsOne(),C=Math.pow(2,c.count-(_+1));S?m(C,Jr.BLACK):(m(C,Jr.BLACK),m(C,Jr.RED))}return p},a=new hq(e.length),l=s(a);return new Zi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ww,Su={},ng=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return q(Su&&qe,"ChildrenNode.ts has not been loaded"),ww=ww||new e({".priority":Su},{".priority":qe}),ww},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Ia(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Zi?n:null},e.prototype.hasIndex=function(t){return cr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){q(t!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Te.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=tg(r,t.getCompare()):l=Su;var c=t.toString(),h=ie({},this.indexSet_);h[c]=t;var p=ie({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Xv(this.indexes_,function(s,a){var l=Ia(r.indexSet_,a);if(q(l,"Missing index implementation for "+a),s===Su)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Te.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),tg(c,l.getCompare())}else return Su;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Te(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Xv(this.indexes_,function(i){if(i===Su)return i;var s=n.get(t.name);return s?i.remove(new Te(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef,he=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&LL(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ef||(ef=new e(new Zi(vT),null,ng.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ef},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?ef:n},e.prototype.getChild=function(t){var n=ge(t);return n===null?this:this.getImmediateChild(n).getChild(je(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(q(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Te(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?ef:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ge(t);if(r===null)return n;q(ge(t)!==".priority"||ls(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(je(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(qe,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+PL(this.getPriority().val())+":"),this.forEachChild(qe,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":aL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Te(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Te(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Te.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jh?-1:0},e.prototype.withIndex=function(t){if(t===Ci||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Ci||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(qe),i=n.getIterator(qe),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Ci?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),dq=function(e){K(t,e);function t(){return e.call(this,new Zi(vT),he.EMPTY_NODE,ng.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return he.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(he),jh=new dq;Object.defineProperties(Te,{MIN:{value:new Te(co,he.EMPTY_NODE)},MAX:{value:new Te(Li,jh)}});xL.__EMPTY_NODE=he.EMPTY_NODE;dl.__childrenNodeConstructor=he;aq(jh);lq(jh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pq=!0;function tt(e,t){if(t===void 0&&(t=null),e===null)return he.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new dl(n,tt(t))}if(!(e instanceof Array)&&pq){var r=[],i=!1,s=e;if(Pt(s,function(h,p){if(h.substring(0,1)!=="."){var v=tt(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Te(h,v)))}}),r.length===0)return he.EMPTY_NODE;var a=tg(r,sq,function(h){return h.name},vT);if(i){var l=tg(r,qe.getCompare());return new he(a,tt(t),new ng({".priority":l},{".priority":qe}))}else return new he(a,tt(t),ng.Default)}else{var c=he.EMPTY_NODE;return Pt(e,function(h,p){if(cr(e,h)&&h.substring(0,1)!=="."){var v=tt(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(tt(t))}}uq(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gT=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,q(!me(n)&&ge(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Va(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=tt(n),s=he.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(r,s)},t.prototype.maxPost=function(){var n=he.EMPTY_NODE.updateChild(this.indexPath_,jh);return new Te(Li,n)},t.prototype.toString=function(){return oh(this.indexPath_,0).join("/")},t}(am);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vq=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Va(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Te.MIN},t.prototype.maxPost=function(){return Te.MAX},t.prototype.makePost=function(n,r){var i=tt(n);return new Te(r,i)},t.prototype.toString=function(){return".value"},t}(am),mT=new vq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tE="-",ML="z",FL=786,gq=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=pl.charAt(n%64),n=Math.floor(n/64);q(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=pl.charAt(t[i]);return q(a.length===20,"nextPushId: Length should be 20."),a}}(),zN=function(e){if(e===""+uT)return tE;var t=Zv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<FL)return n.push(tE),n.join("");for(var i=n.length-1;i>=0&&n[i]===ML;)i--;if(i===-1)return Li;var s=n[i],a=pl.charAt(pl.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},HN=function(e){if(e===""+fL)return co;var t=Zv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===tE?n.length===1?""+uT:(delete n[n.length-1],n.join("")):(n[n.length-1]=pl.charAt(pl.indexOf(n[n.length-1])-1),n.join("")+ML.repeat(FL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){return{type:"value",snapshotNode:e}}function vl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ah(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function mq(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(sh(n,l)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(vl(n,r)):a.trackChildChange(ah(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(qe,function(i,s){n.hasChild(i)||r.trackChildChange(sh(i,s))}),n.isLeafNode()||n.forEachChild(qe,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(ah(i,s,a))}else r.trackChildChange(vl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?he.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BL=function(){function e(t){this.indexedFilter_=new yT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Te(n,r))||(r=he.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=he.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(he.EMPTY_NODE);var s=this;return n.forEachChild(qe,function(a,l){s.matches(new Te(a,l))||(i=i.updateImmediateChild(a,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yq=function(){function e(t){this.rangedFilter_=new BL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Te(n,r))||(r=he.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=he.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(he.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(C,b){return m(b,C)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(T,I){return l(I,T)}}else a=this.index_.getCompare();var c=t;q(c.numChildren()===this.limit_,"");var h=new Te(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var _=y==null?1:a(y,h),S=v&&!r.isEmpty()&&_>=0;if(S)return s!=null&&s.trackChildChange(ah(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(sh(n,m));var C=c.updateImmediateChild(n,he.EMPTY_NODE),b=y!=null&&this.rangedFilter_.matches(y);return b?(s!=null&&s.trackChildChange(vl(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(sh(p.name,p.node)),s.trackChildChange(vl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,he.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:co},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===qe},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function wq(e){return e.loadsAllData()?new yT(e.getIndex()):e.hasLimit()?new yq(e):new BL(e)}function _q(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Eq(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function nE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function bq(e,t,n){var r;if(e.index_===Ci)typeof t=="string"&&(t=zN(t)),r=nE(e,t,n);else{var i=void 0;n==null?i=Li:i=zN(n),r=nE(e,t,i)}return r.startAfterSet_=!0,r}function rE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Tq(e,t,n){var r,i;return e.index_===Ci?(typeof t=="string"&&(t=HN(t)),i=rE(e,t,n)):(n==null?r=co:r=HN(n),i=rE(e,t,r)),i.endBeforeSet_=!0,i}function um(e,t){var n=e.copy();return n.index_=t,n}function WN(e){var t={};if(e.isDefault())return t;var n;return e.index_===qe?n="$priority":e.index_===mT?n="$value":e.index_===Ci?n="$key":(q(e.index_ instanceof gT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Nt(n),e.startSet_&&(t.startAt=Nt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Nt(e.indexStartName_))),e.endSet_&&(t.endAt=Nt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Nt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function KN(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==qe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sq=function(e){K(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Bh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=WN(n._queryParams);this.restRequest_(l+".json",p,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),Ia(a.listens_,c)===h){var _;v?v===401?_="permission_denied":_="rest_error:"+v:_="ok",s(_,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=WN(n._queryParams),s=n._path.toString(),a=new Bt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Qt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+T7(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=ih(v.responseText)}catch{Jt("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&Jt("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(CL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iq=function(){function e(){this.rootNode_=he.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){return{value:null,children:new Map}}function ql(e,t,n){if(me(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,rg());var i=e.children.get(r);t=je(t),ql(i,t,n)}}function iE(e,t){if(me(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(qe,function(s,a){ql(e,new Le(s),a)}),iE(e,t)}else if(e.children.size>0){var r=ge(t);if(t=je(t),e.children.has(r)){var i=iE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function oE(e,t,n){e.value!==null?n(t,e.value):kq(e,function(r,i){var s=new Le(t.toString()+"/"+r);oE(i,s,n)})}function kq(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ie({},t);return this.last_&&Pt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GN=10*1e3,Cq=30*1e3,Nq=5*60*1e3,Aq=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VL(t);var r=GN+(Cq-GN)*Math.random();If(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Pt(n,function(s,a){a>0&&cr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),If(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nq))},e}();function Rq(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function wT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _T(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ET(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xq=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ni.ACK_USER_WRITE,this.source=wT()}return e.prototype.operationForChild=function(t){if(me(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Le(t));return new e(xe(),n,this.revert)}else return q(ge(this.path)===t,"operationForChild called for unrelated child."),new e(je(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(){function e(t,n){this.source=t,this.path=n,this.type=ni.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return me(this.path)?new e(this.source,xe()):new e(this.source,je(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lm=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ni.OVERWRITE}return e.prototype.operationForChild=function(t){return me(this.path)?new e(this.source,xe(),this.snap.getImmediateChild(t)):new e(this.source,je(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bT=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ni.MERGE}return e.prototype.operationForChild=function(t){if(me(this.path)){var n=this.children.subtree(new Le(t));return n.isEmpty()?null:n.value?new lm(this.source,xe(),n.value):new e(this.source,xe(),n)}else return q(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,je(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(me(t))return this.isFullyInitialized()&&!this.filtered_;var n=ge(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pq=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function Lq(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(mq(a.childName,a.snapshotNode))}),tf(e,i,"child_removed",t,r,n),tf(e,i,"child_added",t,r,n),tf(e,i,"child_moved",s,r,n),tf(e,i,"child_changed",t,r,n),tf(e,i,"value",t,r,n),i}function tf(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return Dq(e,l,c)}),a.forEach(function(l){var c=Oq(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function Oq(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Dq(e,t,n){if(t.childName==null||n.childName==null)throw jl("Should only compare child_ events.");var r=new Te(t.childName,t.snapshotNode),i=new Te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(e,t){return{eventCache:e,serverCache:t}}function Cf(e,t,n,r){return cm(new cs(t,n,r),e.serverCache)}function qL(e,t,n,r){return cm(e.eventCache,new cs(t,n,r))}function ig(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ka(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _w,Mq=function(){return _w||(_w=new Zi(d$)),_w},fr=function(){function e(t,n){n===void 0&&(n=Mq()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Pt(t,function(r,i){n=n.set(new Le(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:xe(),value:this.value};if(me(t))return null;var r=ge(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(je(t),n);if(s!=null){var a=Xe(new Le(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(me(t))return this;var n=ge(t),r=this.children.get(n);return r!==null?r.subtree(je(t)):new e(null)},e.prototype.set=function(t,n){if(me(t))return new e(n,this.children);var r=ge(t),i=this.children.get(r)||new e(null),s=i.set(je(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(me(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(je(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(me(t))return this.value;var n=ge(t),r=this.children.get(n);return r?r.get(je(t)):null},e.prototype.setTree=function(t,n){if(me(t))return n;var r=ge(t),i=this.children.get(r)||new e(null),s=i.setTree(je(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(xe(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Xe(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,xe(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(me(t))return null;var s=ge(t),a=this.children.get(s);return a?a.findOnPath_(je(t),Xe(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,xe(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(me(t))return this;this.value&&r(n,this.value);var i=ge(t),s=this.children.get(i);return s?s.foreachOnPath_(je(t),Xe(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(xe(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Xe(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new fr(null))},e}();function Nf(e,t,n){if(me(t))return new ro(new fr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Nn(i,t);return s=s.updateChild(a,n),new ro(e.writeTree_.set(i,s))}else{var l=new fr(n),c=e.writeTree_.setTree(t,l);return new ro(c)}}function sE(e,t,n){var r=e;return Pt(n,function(i,s){r=Nf(r,Xe(t,i),s)}),r}function QN(e,t){if(me(t))return ro.empty();var n=e.writeTree_.setTree(t,new fr(null));return new ro(n)}function aE(e,t){return $a(e,t)!=null}function $a(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Nn(n.path,t)):null}function YN(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,function(r,i){t.push(new Te(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Te(r,i.value))}),t}function ns(e,t){if(me(t))return e;var n=$a(e,t);return n!=null?new ro(new fr(n)):new ro(e.writeTree_.subtree(t))}function uE(e){return e.writeTree_.isEmpty()}function gl(e,t){return zL(xe(),e.writeTree_,t)}function zL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=zL(Xe(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Xe(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(e,t){return GL(t,e)}function Fq(e,t,n,r,i){q(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Nf(e.visibleWrites,t,n)),e.lastWriteId=r}function Uq(e,t,n,r){q(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=sE(e.visibleWrites,t,n),e.lastWriteId=r}function Bq(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function jq(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});q(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&Vq(l,r.path)?i=!1:Tr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return $q(e),!0;if(r.snap)e.visibleWrites=QN(e.visibleWrites,r.path);else{var c=r.children;Pt(c,function(h){e.visibleWrites=QN(e.visibleWrites,Xe(r.path,h))})}return!0}else return!1}function Vq(e,t){if(e.snap)return Tr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Tr(Xe(e.path,n),t))return!0;return!1}function $q(e){e.visibleWrites=HL(e.allWrites,qq,xe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function qq(e){return e.visible}function HL(e,t,n){for(var r=ro.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)Tr(n,a)?(l=Nn(n,a),r=Nf(r,l,s.snap)):Tr(a,n)&&(l=Nn(a,n),r=Nf(r,xe(),s.snap.getChild(l)));else if(s.children){if(Tr(n,a))l=Nn(n,a),r=sE(r,l,s.children);else if(Tr(a,n))if(l=Nn(a,n),me(l))r=sE(r,xe(),s.children);else{var c=Ia(s.children,ge(l));if(c){var h=c.getChild(je(l));r=Nf(r,xe(),h)}}}else throw jl("WriteRecord should have .snap or .children")}}return r}function WL(e,t,n,r,i){if(!r&&!i){var s=$a(e.visibleWrites,t);if(s!=null)return s;var a=ns(e.visibleWrites,t);if(uE(a))return n;if(n==null&&!aE(a,xe()))return null;var l=n||he.EMPTY_NODE;return gl(a,l)}else{var c=ns(e.visibleWrites,t);if(!i&&uE(c))return n;if(!i&&n==null&&!aE(c,xe()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Tr(m.path,t)||Tr(t,m.path))},p=HL(e.allWrites,h,t),l=n||he.EMPTY_NODE;return gl(p,l)}}function zq(e,t,n){var r=he.EMPTY_NODE,i=$a(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(qe,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=ns(e.visibleWrites,t);return n.forEachChild(qe,function(l,c){var h=gl(ns(s,new Le(l)),c);r=r.updateImmediateChild(l,h)}),YN(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=ns(e.visibleWrites,t);return YN(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function Hq(e,t,n,r,i){q(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Xe(t,n);if(aE(e.visibleWrites,s))return null;var a=ns(e.visibleWrites,s);return uE(a)?i.getChild(n):gl(a,i.getChild(n))}function Wq(e,t,n,r){var i=Xe(t,n),s=$a(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=ns(e.visibleWrites,i);return gl(a,r.getNode().getImmediateChild(n))}else return null}function Kq(e,t){return $a(e.visibleWrites,t)}function Gq(e,t,n,r,i,s,a){var l,c=ns(e.visibleWrites,t),h=$a(c,xe());if(h!=null)l=h;else if(n!=null)l=gl(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],v=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function Qq(){return{visibleWrites:ro.empty(),allWrites:[],lastWriteId:-1}}function og(e,t,n,r){return WL(e.writeTree,e.treePath,t,n,r)}function TT(e,t){return zq(e.writeTree,e.treePath,t)}function XN(e,t,n,r){return Hq(e.writeTree,e.treePath,t,n,r)}function sg(e,t){return Kq(e.writeTree,Xe(e.treePath,t))}function Yq(e,t,n,r,i,s){return Gq(e.writeTree,e.treePath,t,n,r,i,s)}function ST(e,t,n){return Wq(e.writeTree,e.treePath,t,n)}function KL(e,t){return GL(Xe(e.treePath,t),e.writeTree)}function GL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xq=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ah(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,vl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ah(r,t.snapshotNode,i.oldSnap));else throw jl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jq=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),QL=new Jq,IT=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ST(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ka(this.viewCache_),s=Yq(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(e){return{filter:e}}function ez(e,t){q(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function tz(e,t,n,r,i){var s=new Xq,a,l;if(n.type===ni.OVERWRITE){var c=n;c.source.fromUser?a=lE(e,t,c.path,c.snap,r,i,s):(q(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!me(c.path),a=ag(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===ni.MERGE){var h=n;h.source.fromUser?a=rz(e,t,h.path,h.children,r,i,s):(q(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=cE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===ni.ACK_USER_WRITE){var p=n;p.revert?a=sz(e,t,p.path,r,i,s):a=iz(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===ni.LISTEN_COMPLETE)a=oz(e,t,n.path,r,s);else throw jl("Unknown operation type: "+n.type);var v=s.getChanges();return nz(t,a,v),{viewCache:a,changes:v}}function nz(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ig(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(UL(ig(t)))}}function YL(e,t,n,r,i,s){var a=t.eventCache;if(sg(r,n)!=null)return t;var l=void 0,c=void 0;if(me(n))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=ka(t),p=h instanceof he?h:he.EMPTY_NODE,v=TT(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=og(r,ka(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=ge(n);if(y===".priority"){q(ls(n)===1,"Can't have a priority with additional path components");var _=a.getNode();c=t.serverCache.getNode();var S=XN(r,n,_,c);S!=null?l=e.filter.updatePriority(_,S):l=a.getNode()}else{var C=je(n),b=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var T=XN(r,n,a.getNode(),c);T!=null?b=a.getNode().getImmediateChild(y).updateChild(C,T):b=a.getNode().getImmediateChild(y)}else b=ST(r,y,t.serverCache);b!=null?l=e.filter.updateChild(a.getNode(),y,b,C,i,s):l=a.getNode()}}return Cf(t,l,a.isFullyInitialized()||me(n),e.filter.filtersNodes())}function ag(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(me(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),v,null)}else{var m=ge(n);if(!c.isCompleteForPath(n)&&ls(n)>1)return t;var y=je(n),_=c.getNode().getImmediateChild(m),S=_.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),S):h=p.updateChild(c.getNode(),m,S,y,QL,null)}var C=qL(t,h,c.isFullyInitialized()||me(n),p.filtersNodes()),b=new IT(i,C,s);return YL(e,C,n,i,b,l)}function lE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new IT(i,t,s);if(me(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=Cf(t,h,!0,e.filter.filtersNodes());else{var v=ge(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=Cf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=je(n),y=l.getNode().getImmediateChild(v),_=void 0;if(me(m))_=r;else{var S=p.getCompleteChild(v);S!=null?dT(m)===".priority"&&S.getChild(AL(m)).isEmpty()?_=S:_=S.updateChild(m,r):_=he.EMPTY_NODE}if(y.equals(_))c=t;else{var C=e.filter.updateChild(l.getNode(),v,_,m,p,a);c=Cf(t,C,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function JN(e,t){return e.eventCache.isCompleteForChild(t)}function rz(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Xe(n,c);JN(t,ge(p))&&(l=lE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Xe(n,c);JN(t,ge(p))||(l=lE(e,l,p,h,i,s,a))}),l}function ZN(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function cE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;me(n)?h=r:h=new fr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),_=ZN(e,y,m);c=ag(e,c,new Le(v),_,i,s,a,l)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!p.hasChild(v)&&!y){var _=t.serverCache.getNode().getImmediateChild(v),S=ZN(e,_,m);c=ag(e,c,new Le(v),S,i,s,a,l)}}),c}function iz(e,t,n,r,i,s,a){if(sg(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(me(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ag(e,t,n,c.getNode().getChild(n),i,s,l,a);if(me(n)){var h=new fr(null);return c.getNode().forEachChild(Ci,function(v,m){h=h.set(new Le(v),m)}),cE(e,t,n,h,i,s,l,a)}else return t}else{var p=new fr(null);return r.foreach(function(v,m){var y=Xe(n,v);c.isCompleteForPath(y)&&(p=p.set(v,c.getNode().getChild(y)))}),cE(e,t,n,p,i,s,l,a)}}function oz(e,t,n,r,i){var s=t.serverCache,a=qL(t,s.getNode(),s.isFullyInitialized()||me(n),s.isFiltered());return YL(e,a,n,r,QL,i)}function sz(e,t,n,r,i,s){var a;if(sg(r,n)!=null)return t;var l=new IT(r,t,i),c=t.eventCache.getNode(),h=void 0;if(me(n)||ge(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=og(r,ka(t));else{var v=t.serverCache.getNode();q(v instanceof he,"serverChildren would be complete if leaf node"),p=TT(r,v)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=ge(n),y=ST(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,je(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,he.EMPTY_NODE,je(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=og(r,ka(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||sg(r,xe())!=null,Cf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var az=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new yT(r.getIndex()),s=wq(r);this.processor_=Zq(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(he.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(he.EMPTY_NODE,l.getNode(),null),p=new cs(c,a.isFullyInitialized(),i.filtersNodes()),v=new cs(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=cm(v,p),this.eventGenerator_=new Pq(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function uz(e){return e.viewCache_.serverCache.getNode()}function lz(e){return ig(e.viewCache_)}function cz(e,t){var n=ka(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!me(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function eA(e){return e.eventRegistrations_.length===0}function fz(e,t){e.eventRegistrations_.push(t)}function tA(e,t,n){var r=[];if(n){q(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function nA(e,t,n,r){t.type===ni.MERGE&&t.source.queryId!==null&&(q(ka(e.viewCache_),"We should always have a full cache before handling merges"),q(ig(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=tz(e.processor_,i,t,n,r);return ez(e.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,XL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function hz(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(qe,function(s,a){r.push(vl(s,a))})}return n.isFullyInitialized()&&r.push(UL(n.getNode())),XL(e,r,n.getNode(),t)}function XL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return Lq(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ug,JL=function(){function e(){this.views=new Map}return e}();function dz(e){q(!ug,"__referenceConstructor has already been defined"),ug=e}function pz(){return q(ug,"Reference.ts has not been loaded"),ug}function vz(e){return e.views.size===0}function kT(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return q(l!=null,"SyncTree gave us an op for an invalid query."),nA(l,t,n,r)}else{var c=[];try{for(var h=$t(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(nA(l,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function ZL(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=og(n,i?r:null),c=!1;l?c=!0:r instanceof he?(l=TT(n,r),c=!1):(l=he.EMPTY_NODE,c=!1);var h=cm(new cs(l,c,!1),new cs(r,i,!1));return new az(t,h)}return a}function gz(e,t,n,r,i,s){var a=ZL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),fz(a,n),hz(a,n)}function mz(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=fs(e);if(a==="default")try{for(var p=$t(e.views.entries()),v=p.next();!v.done;v=p.next()){var m=Qt(v.value,2),y=m[0],_=m[1];c=c.concat(tA(_,n,r)),eA(_)&&(e.views.delete(y),_.query._queryParams.loadsAllData()||l.push(_.query))}}catch(S){i={error:S}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var _=e.views.get(a);_&&(c=c.concat(tA(_,n,r)),eA(_)&&(e.views.delete(a),_.query._queryParams.loadsAllData()||l.push(_.query)))}return h&&!fs(e)&&l.push(new(pz())(t._repo,t._path)),{removed:l,events:c}}function eO(e){var t,n,r=[];try{for(var i=$t(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function rs(e,t){var n,r,i=null;try{for(var s=$t(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||cz(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function tO(e,t){var n=t._queryParams;if(n.loadsAllData())return hm(e);var r=t._queryIdentifier;return e.views.get(r)}function nO(e,t){return tO(e,t)!=null}function fs(e){return hm(e)!=null}function hm(e){var t,n;try{for(var r=$t(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lg;function yz(e){q(!lg,"__referenceConstructor has already been defined"),lg=e}function wz(){return q(lg,"Reference.ts has not been loaded"),lg}var _z=1,rA=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new fr(null),this.pendingWriteTree_=Qq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function CT(e,t,n,r,i){return Fq(e.pendingWriteTree_,t,n,r,i),i?zl(e,new lm(wT(),t,n)):[]}function Ez(e,t,n,r){Uq(e.pendingWriteTree_,t,n,r);var i=fr.fromObject(n);return zl(e,new bT(wT(),t,i))}function Ko(e,t,n){n===void 0&&(n=!1);var r=Bq(e.pendingWriteTree_,t),i=jq(e.pendingWriteTree_,t);if(i){var s=new fr(null);return r.snap!=null?s=s.set(xe(),!0):Pt(r.children,function(a){s=s.set(new Le(a),!0)}),zl(e,new xq(r.path,s,n))}else return[]}function Vh(e,t,n){return zl(e,new lm(_T(),t,n))}function bz(e,t,n){var r=fr.fromObject(n);return zl(e,new bT(_T(),t,r))}function Tz(e,t){return zl(e,new $L(_T(),t))}function Sz(e,t,n){var r=NT(e,n);if(r){var i=AT(r),s=i.path,a=i.queryId,l=Nn(s,t),c=new $L(ET(a),l);return RT(e,s,c)}else return[]}function fE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||nO(s,t))){var l=mz(s,t,n,r);vz(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(T,I){return fs(I)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=Nz(v),y=0;y<m.length;++y){var _=m[y],S=_.query,C=oO(e,_);e.listenProvider_.startListening(Af(S),cg(e,S),C.hashFn,C.onComplete)}}if(!p&&c.length>0&&!r)if(h){var b=null;e.listenProvider_.stopListening(Af(t),b)}else c.forEach(function(T){var I=e.queryToTagMap.get(pm(T));e.listenProvider_.stopListening(Af(T),I)});Az(e,c)}return a}function Iz(e,t,n,r){var i=NT(e,r);if(i!=null){var s=AT(i),a=s.path,l=s.queryId,c=Nn(a,t),h=new lm(ET(l),c,n);return RT(e,a,h)}else return[]}function kz(e,t,n,r){var i=NT(e,r);if(i){var s=AT(i),a=s.path,l=s.queryId,c=Nn(a,t),h=fr.fromObject(n),p=new bT(ET(l),c,h);return RT(e,a,p)}else return[]}function iA(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(S,C){var b=Nn(S,r);i=i||rs(C,b),s=s||fs(C)});var a=e.syncPointTree_.get(r);a?(s=s||fs(a),i=i||rs(a,xe())):(a=new JL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=he.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(S,C){var b=rs(C,xe());b&&(i=i.updateImmediateChild(S,b))})}var h=nO(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=pm(t);q(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=Rz();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var m=fm(e.pendingWriteTree_,r),y=gz(a,t,n,m,i,l);if(!h&&!s){var _=tO(a,t);y=y.concat(xz(e,t,_))}return y}function dm(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Nn(a,t),h=rs(l,c);if(h)return h});return WL(i,t,s,n,r)}function Cz(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=Nn(h,n);r=r||rs(p,v)});var i=e.syncPointTree_.get(n);i?r=r||rs(i,xe()):(i=new JL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new cs(r,!0,!1):null,l=fm(e.pendingWriteTree_,t._path),c=ZL(i,t,l,s?a.getNode():he.EMPTY_NODE,s);return lz(c)}function zl(e,t){return rO(t,e.syncPointTree_,null,fm(e.pendingWriteTree_,xe()))}function rO(e,t,n,r){if(me(e.path))return iO(e,t,n,r);var i=t.get(xe());n==null&&i!=null&&(n=rs(i,xe()));var s=[],a=ge(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=KL(r,a);s=s.concat(rO(l,c,h,p))}return i&&(s=s.concat(kT(i,e,r,n))),s}function iO(e,t,n,r){var i=t.get(xe());n==null&&i!=null&&(n=rs(i,xe()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=KL(r,a),p=e.operationForChild(a);p&&(s=s.concat(iO(p,l,c,h)))}),i&&(s=s.concat(kT(i,e,r,n))),s}function oO(e,t){var n=t.query,r=cg(e,n);return{hashFn:function(){var i=uz(t)||he.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?Sz(e,n._path,r):Tz(e,n._path);var s=g$(i,n);return fE(e,n,null,s)}}}function cg(e,t){var n=pm(t);return e.queryToTagMap.get(n)}function pm(e){return e._path.toString()+"$"+e._queryIdentifier}function NT(e,t){return e.tagToQueryMap.get(t)}function AT(e){var t=e.indexOf("$");return q(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Le(e.substr(0,t))}}function RT(e,t,n){var r=e.syncPointTree_.get(t);q(r,"Missing sync point for query tag that we're tracking");var i=fm(e.pendingWriteTree_,t);return kT(r,n,i,null)}function Nz(e){return e.fold(function(t,n,r){if(n&&fs(n)){var i=hm(n);return[i]}else{var s=[];return n&&(s=eO(n)),Pt(r,function(a,l){s=s.concat(l)}),s}})}function Af(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(wz())(e._repo,e._path):e}function Az(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=pm(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function Rz(){return _z++}function xz(e,t,n){var r=t._path,i=cg(e,t),s=oO(e,n),a=e.listenProvider_.startListening(Af(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)q(!fs(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,m,y){if(!me(v)&&m&&fs(m))return[hm(m).query];var _=[];return m&&(_=_.concat(eO(m).map(function(S){return S.query}))),Pt(y,function(S,C){_=_.concat(C)}),_}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(Af(p),cg(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pz=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Lz=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Xe(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return dm(this.syncTree_,this.path_)},e}(),Oz=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},oA=function(e,t,n){if(!e||typeof e!="object")return e;if(q(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Dz(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Mz(e[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Dz=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+e)}},Mz=function(e,t,n){e.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);var i=t.node();if(q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},sO=function(e,t,n,r){return PT(t,new Lz(n,e),r)},xT=function(e,t,n){return PT(e,new Pz(t),n)};function PT(e,t,n){var r=e.getPriority().val(),i=oA(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=oA(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new dl(l,tt(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new dl(i))),c.forEachChild(qe,function(h,p){var v=PT(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LT=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function vm(e,t){for(var n=t instanceof Le?t:new Le(t),r=e,i=ge(n);i!==null;){var s=Ia(r.node.children,i)||{children:{},childCount:0};r=new LT(i,r,s),n=je(n),i=ge(n)}return r}function qa(e){return e.node.value}function OT(e,t){e.node.value=t,hE(e)}function aO(e){return e.node.childCount>0}function Fz(e){return qa(e)===void 0&&!aO(e)}function gm(e,t){Pt(e.node.children,function(n,r){t(new LT(n,e,r))})}function uO(e,t,n,r){n&&!r&&t(e),gm(e,function(i){uO(i,t,!0,r)}),n&&r&&t(e)}function Uz(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $h(e){return new Le(e.parent===null?e.name:$h(e.parent)+"/"+e.name)}function hE(e){e.parent!==null&&Bz(e.parent,e.name,e)}function Bz(e,t,n){var r=Fz(n),i=cr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,hE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jz=/[\[\].#$\/\u0000-\u001F\u007F]/,Vz=/[\[\].#$\u0000-\u001F\u007F]/,Ew=10*1024*1024,mm=function(e){return typeof e=="string"&&e.length!==0&&!jz.test(e)},lO=function(e){return typeof e=="string"&&e.length!==0&&!Vz.test(e)},$z=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),lO(e)},uh=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!sm(e)||e&&typeof e=="object"&&cr(e,".sv")},Oi=function(e,t,n,r){r&&t===void 0||qh(Kn(e,"value"),t,n)},qh=function(e,t,n){var r=n instanceof Le?new Y$(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Xs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Xs(r)+" with contents = "+t.toString());if(sm(t))throw new Error(e+"contains "+t.toString()+" "+Xs(r));if(typeof t=="string"&&t.length>Ew/3&&om(t)>Ew)throw new Error(e+"contains a string greater than "+Ew+" utf8 bytes "+Xs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Pt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!mm(a)))throw new Error(e+" contains an invalid key ("+a+") "+Xs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X$(r,a),qh(e,l,r),J$(r)}),i&&s)throw new Error(e+' contains ".value" child '+Xs(r)+" in addition to actual children.")}},qz=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=oh(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!mm(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Q$);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Tr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},cO=function(e,t,n,r){if(!(r&&t===void 0)){var i=Kn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Pt(t,function(a,l){var c=new Le(a);if(qh(i,l,Xe(n,c)),dT(c)===".priority"&&!uh(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),qz(i,s)}},DT=function(e,t,n){if(!(n&&t===void 0)){if(sm(t))throw new Error(Kn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uh(t))throw new Error(Kn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zz=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Kn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zh=function(e,t,n,r){if(!(r&&n===void 0)&&!mm(n))throw new Error(Kn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},lh=function(e,t,n,r){if(!(r&&n===void 0)&&!lO(n))throw new Error(Kn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Hz=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lh(e,t,n,r)},Sr=function(e,t){if(ge(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},fO=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!mm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$z(n))throw new Error(Kn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},Wz=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Kn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kz=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function ym(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!pT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function MT(e,t,n){ym(e,n),hO(e,function(r){return pT(r,t)})}function Lr(e,t,n){ym(e,n),hO(e,function(r){return Tr(r,t)||Tr(t,r)})}function hO(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(Gz(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Gz(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();da&&Ft("event: "+n.toString()),$l(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dO="repo_interrupt",Qz=25,Yz=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rg(),this.transactionQueueTree_=new LT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Xz(e,t,n){if(e.stats_=fT(e.repoInfo_),e.forceRestClient_||y$())e.server_=new Sq(e.repoInfo_,function(r,i,s,a){sA(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return aA(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new pa(e.repoInfo_,t,function(r,i,s,a){sA(e,r,i,s,a)},function(r){aA(e,r)},function(r){Zz(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=S$(e.repoInfo_,function(){return new Aq(e.stats_,e.server_)}),e.infoData_=new Iq,e.infoSyncTree_=new rA({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Vh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),FT(e,"connected",!1),e.serverSyncTree_=new rA({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Lr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function pO(e){var t=e.infoData_.getNode(new Le(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Hh(e){return Oz({timestamp:pO(e)})}function sA(e,t,n,r,i){e.dataUpdateCount++;var s=new Le(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Xv(n,function(m){return tt(m)});a=kz(e.serverSyncTree_,s,l,i)}else{var c=tt(n);a=Iz(e.serverSyncTree_,s,c,i)}else if(r){var h=Xv(n,function(m){return tt(m)});a=bz(e.serverSyncTree_,s,h)}else{var p=tt(n);a=Vh(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=ml(e,s)),Lr(e.eventQueue_,v,a)}function Jz(e,t){e.interceptServerDataCallback_=t}function aA(e,t){FT(e,"connected",t),t===!1&&nH(e)}function Zz(e,t){Pt(t,function(n,r){FT(e,n,r)})}function FT(e,t,n){var r=new Le("/.info/"+t),i=tt(n);e.infoData_.updateSnapshot(r,i);var s=Vh(e.infoSyncTree_,r,i);Lr(e.eventQueue_,r,s)}function wm(e){return e.nextWriteId_++}function eH(e,t){var n=Cz(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=tt(r).withIndex(t._queryParams.getIndex()),s=Vh(e.serverSyncTree_,t._path,i);return MT(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Hl(e,"get for query "+Nt(t)+" failed: "+r),Promise.reject(new Error(r))})}function UT(e,t,n,r,i){Hl(e,"set",{path:t.toString(),value:n,priority:r});var s=Hh(e),a=tt(n,r),l=dm(e.serverSyncTree_,t),c=xT(a,l,s),h=wm(e),p=CT(e.serverSyncTree_,t,c,h,!0);ym(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var _=m==="ok";_||Jt("set at "+t+" failed: "+m);var S=Ko(e.serverSyncTree_,h,!_);Lr(e.eventQueue_,t,S),hs(e,i,m,y)});var v=jT(e,t);ml(e,v),Lr(e.eventQueue_,v,[])}function tH(e,t,n,r){Hl(e,"update",{path:t.toString(),value:n});var i=!0,s=Hh(e),a={};if(Pt(n,function(h,p){i=!1,a[h]=sO(Xe(t,h),tt(p),e.serverSyncTree_,s)}),i)Ft("update() called with empty data.  Don't do anything."),hs(e,r,"ok",void 0);else{var l=wm(e),c=Ez(e.serverSyncTree_,t,a,l);ym(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||Jt("update at "+t+" failed: "+h);var m=Ko(e.serverSyncTree_,l,!v),y=m.length>0?ml(e,t):t;Lr(e.eventQueue_,y,m),hs(e,r,h,p)}),Pt(n,function(h){var p=jT(e,Xe(t,h));ml(e,p)}),Lr(e.eventQueue_,t,[])}}function nH(e){Hl(e,"onDisconnectEvents");var t=Hh(e),n=rg();oE(e.onDisconnect_,xe(),function(i,s){var a=sO(i,s,e.serverSyncTree_,t);ql(n,i,a)});var r=[];oE(n,xe(),function(i,s){r=r.concat(Vh(e.serverSyncTree_,i,s));var a=jT(e,i);ml(e,a)}),e.onDisconnect_=rg(),Lr(e.eventQueue_,xe(),r)}function rH(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&iE(e.onDisconnect_,t),hs(e,n,r,i)})}function uA(e,t,n,r){var i=tt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&ql(e.onDisconnect_,t,i),hs(e,r,s,a)})}function iH(e,t,n,r,i){var s=tt(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&ql(e.onDisconnect_,t,s),hs(e,i,a,l)})}function oH(e,t,n,r){if(Q_(n)){Ft("onDisconnect().update() called with empty data.  Don't do anything."),hs(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Pt(n,function(a,l){var c=tt(l);ql(e.onDisconnect_,Xe(t,a),c)}),hs(e,r,i,s)})}function sH(e,t,n){var r;ge(t._path)===".info"?r=iA(e.infoSyncTree_,t,n):r=iA(e.serverSyncTree_,t,n),MT(e.eventQueue_,t._path,r)}function dE(e,t,n){var r;ge(t._path)===".info"?r=fE(e.infoSyncTree_,t,n):r=fE(e.serverSyncTree_,t,n),MT(e.eventQueue_,t._path,r)}function vO(e){e.persistentConnection_&&e.persistentConnection_.interrupt(dO)}function aH(e){e.persistentConnection_&&e.persistentConnection_.resume(dO)}function uH(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new VL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Pt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function lH(e,t){e.stats_.incrementCounter(t),Rq(e.statsReporter_,t)}function Hl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Ft.apply(void 0,ve([r],Qt(t)))}function hs(e,t,n,r){t&&$l(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function cH(e,t,n,r,i,s){Hl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:sL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=BT(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{qh("transaction failed: Data returned ",c,a.path),a.status=0;var h=vm(e.transactionQueueTree_,t),p=qa(h)||[];p.push(a),OT(h,p);var v=void 0;if(typeof c=="object"&&c!==null&&cr(c,".priority"))v=Ia(c,".priority"),q(uh(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=dm(e.serverSyncTree_,t)||he.EMPTY_NODE;v=m.getPriority().val()}var y=Hh(e),_=tt(c,v),S=xT(_,l,y);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=S,a.currentWriteId=wm(e);var C=CT(e.serverSyncTree_,t,S,a.currentWriteId,a.applyLocally);Lr(e.eventQueue_,t,C),_m(e,e.transactionQueueTree_)}}function BT(e,t,n){return dm(e.serverSyncTree_,t,n)||he.EMPTY_NODE}function _m(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Em(e,t),qa(t)){var n=mO(e,t);q(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&fH(e,$h(t),n)}else aO(t)&&gm(t,function(i){_m(e,i)})}function fH(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=BT(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];q(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Nn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(m){Hl(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var _=[],S=function(b){n[b].status=2,y=y.concat(Ko(e.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&_.push(function(){return n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)}),n[b].unwatcher()},C=0;C<n.length;C++)S(C);Em(e,vm(e.transactionQueueTree_,t)),_m(e,e.transactionQueueTree_),Lr(e.eventQueue_,t,y);for(var C=0;C<_.length;C++)$l(_[C])}else{if(m==="datastale")for(var C=0;C<n.length;C++)n[C].status===3?n[C].status=4:n[C].status=0;else{Jt("transaction at "+v.toString()+" failed: "+m);for(var C=0;C<n.length;C++)n[C].status=4,n[C].abortReason=m}ml(e,t)}},a)}function ml(e,t){var n=gO(e,t),r=$h(n),i=mO(e,n);return hH(e,i,r),r}function hH(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],v=Nn(n,p.path),m=!1,y;if(q(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=Qz)m=!0,y="maxretry",i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0));else{var _=BT(e,p.path,a);p.currentInputSnapshot=_;var S=t[h].update(_.val());if(S!==void 0){qh("transaction failed: Data returned ",S,p.path);var C=tt(S),b=typeof S=="object"&&S!=null&&cr(S,".priority");b||(C=C.updatePriority(_.getPriority()));var T=p.currentWriteId,I=Hh(e),P=xT(C,_,I);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=P,p.currentWriteId=wm(e),a.splice(a.indexOf(T),1),i=i.concat(CT(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(Ko(e.serverSyncTree_,T,!0))}else m=!0,y="nodata",i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0))}Lr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(D){setTimeout(D,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Em(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)$l(r[c]);_m(e,e.transactionQueueTree_)}}function gO(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);n!==null&&qa(r)===void 0;)r=vm(r,n),t=je(t),n=ge(t);return r}function mO(e,t){var n=[];return yO(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function yO(e,t,n){var r=qa(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);gm(t,function(s){yO(e,s,n)})}function Em(e,t){var n=qa(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,OT(t,n.length>0?n:void 0)}gm(t,function(s){Em(e,s)})}function jT(e,t){var n=$h(gO(e,t)),r=vm(e.transactionQueueTree_,t);return Uz(r,function(i){bw(e,i)}),bw(e,r),uO(r,function(i){bw(e,i)}),n}function bw(e,t){var n=qa(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(q(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(q(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ko(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?OT(t,void 0):n.length=s+1,Lr(e.eventQueue_,$h(t),i);for(var a=0;a<r.length;a++)$l(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function pH(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=$t(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Jt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var pE=function(e,t){var n=vH(e),r=n.namespace;n.domain==="firebase.com"&&Pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||f$();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Le(n.pathString)}},vH=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=dH(e.substring(p,v)));var m=pH(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wO=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())},e}(),_O=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EO=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gH=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Bt;return rH(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Sr("OnDisconnect.remove",this._path);var t=new Bt;return uA(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Sr("OnDisconnect.set",this._path),Oi("OnDisconnect.set",t,this._path,!1);var n=new Bt;return uA(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Sr("OnDisconnect.setWithPriority",this._path),Oi("OnDisconnect.setWithPriority",t,this._path,!1),DT("OnDisconnect.setWithPriority",n,!1);var r=new Bt;return iH(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Sr("OnDisconnect.update",this._path),cO("OnDisconnect.update",t,this._path,!1);var n=new Bt;return oH(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return me(this._path)?null:dT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Fi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=KN(this._queryParams),n=aT(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return KN(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=pe(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=pT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+G$(this._path)},e}();function bm(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ys(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ci){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==co)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Li)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===qe){if(t!=null&&!uh(t)||n!=null&&!uh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(e.getIndex()instanceof gT||e.getIndex()===mT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tm(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Fi=function(e){K(t,e);function t(n,r){return e.call(this,n,r,new jL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=AL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Dr),Sm=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Le(t),r=Ca(this.ref,t);return new e(this._node.getChild(n),r,qe)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,Ca(n.ref,i),qe))})},e.prototype.hasChild=function(t){var n=new Le(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function bO(e,t){return e=pe(e),e._checkNotDeleted("ref"),t!==void 0?Ca(e._root,t):e._root}function lA(e,t){e=pe(e),e._checkNotDeleted("refFromURL");var n=pE(t,e._repo.repoInfo_.nodeAdmin);fO("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Pi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),bO(e,n.path.toString())}function Ca(e,t){return e=pe(e),ge(e._path)===null?Hz("child","path",t,!1):lh("child","path",t,!1),new Fi(e._repo,Xe(e._path,t))}function mH(e,t){e=pe(e),Sr("push",e._path),Oi("push",t,e._path,!0);var n=pO(e._repo),r=gq(n),i=Ca(e,r),s=Ca(e,r),a;return t!=null?a=VT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function yH(e){return Sr("remove",e._path),VT(e,null)}function VT(e,t){e=pe(e),Sr("set",e._path),Oi("set",t,e._path,!1);var n=new Bt;return UT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function wH(e,t){e=pe(e),Sr("setPriority",e._path),DT("setPriority",t,!1);var n=new Bt;return UT(e._repo,Xe(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function _H(e,t,n){if(Sr("setWithPriority",e._path),Oi("setWithPriority",t,e._path,!1),DT("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Bt;return UT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function EH(e,t){cO("update",t,e._path,!1);var n=new Bt;return tH(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function bH(e){return e=pe(e),eH(e._repo,e).then(function(t){return new Sm(t,new Fi(e._repo,e._path),e._queryParams.getIndex())})}var TO=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new wO("value",this,new Sm(t.snapshotNode,new Fi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new _O(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),SO=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new _O(this,t,n):null},e.prototype.createEvent=function(t,n){q(t.childName!=null,"Child events should have a childName.");var r=Ca(new Fi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new wO(t.type,this,new Sm(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Wh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,v){dE(e._repo,e,h),a(p,v)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new EO(n,s||void 0),h=t==="value"?new TO(c):new SO(t,c);return sH(e._repo,e,h),function(){return dE(e._repo,e,h)}}function vE(e,t,n,r){return Wh(e,"value",t,n,r)}function cA(e,t,n,r){return Wh(e,"child_added",t,n,r)}function fA(e,t,n,r){return Wh(e,"child_changed",t,n,r)}function hA(e,t,n,r){return Wh(e,"child_moved",t,n,r)}function dA(e,t,n,r){return Wh(e,"child_removed",t,n,r)}function pA(e,t,n){var r=null,i=n?new EO(n):null;t==="value"?r=new TO(i):t&&(r=new SO(t,i)),dE(e._repo,e,r)}var li=function(){function e(){}return e}(),IO=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Oi("endAt",this._value,n._path,!0);var r=rE(n._queryParams,this._value,this._key);if(Tm(r),ys(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Dr(n._repo,n._path,r,n._orderByCalled)},t}(li);function TH(e,t){return zh("endAt","key",t,!0),new IO(e,t)}var SH=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Oi("endBefore",this._value,n._path,!1);var r=Tq(n._queryParams,this._value,this._key);if(Tm(r),ys(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Dr(n._repo,n._path,r,n._orderByCalled)},t}(li);function IH(e,t){return zh("endBefore","key",t,!0),new SH(e,t)}var kO=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Oi("startAt",this._value,n._path,!0);var r=nE(n._queryParams,this._value,this._key);if(Tm(r),ys(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Dr(n._repo,n._path,r,n._orderByCalled)},t}(li);function kH(e,t){return e===void 0&&(e=null),zh("startAt","key",t,!0),new kO(e,t)}var CH=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Oi("startAfter",this._value,n._path,!1);var r=bq(n._queryParams,this._value,this._key);if(Tm(r),ys(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Dr(n._repo,n._path,r,n._orderByCalled)},t}(li);function NH(e,t){return zh("startAfter","key",t,!0),new CH(e,t)}var AH=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Dr(n._repo,n._path,_q(n._queryParams,this._limit),n._orderByCalled)},t}(li);function RH(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new AH(e)}var xH=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Dr(n._repo,n._path,Eq(n._queryParams,this._limit),n._orderByCalled)},t}(li);function PH(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xH(e)}var LH=function(e){K(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){bm(n,"orderByChild");var r=new Le(this._path);if(me(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new gT(r),s=um(n._queryParams,i);return ys(s),new Dr(n._repo,n._path,s,!0)},t}(li);function OH(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lh("orderByChild","path",e,!1),new LH(e)}var DH=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){bm(n,"orderByKey");var r=um(n._queryParams,Ci);return ys(r),new Dr(n._repo,n._path,r,!0)},t}(li);function MH(){return new DH}var FH=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){bm(n,"orderByPriority");var r=um(n._queryParams,qe);return ys(r),new Dr(n._repo,n._path,r,!0)},t}(li);function UH(){return new FH}var BH=function(e){K(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){bm(n,"orderByValue");var r=um(n._queryParams,mT);return ys(r),new Dr(n._repo,n._path,r,!0)},t}(li);function jH(){return new BH}var VH=function(e){K(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Oi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new IO(this._value,this._key)._apply(new kO(this._value,this._key)._apply(n))},t}(li);function $H(e,t){return zh("equalTo","key",t,!0),new VH(e,t)}function Kr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=pe(e);try{for(var a=$t(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}dz(Fi);yz(Fi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qH="FIREBASE_DATABASE_EMULATOR_HOST",gE={},CO=!1;function zH(e,t,n,r){e.repoInfo_=new cT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function NO(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=pE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[qH]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=pE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new kf(kf.OWNER):new _$(e.name,e.options,t);fO("Invalid Firebase Database URL",a),me(a.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=WH(l,e,p,new w$(e.name,n));return new GH(v,e)}function HH(e,t){var n=gE[t];(!n||n[e.key]!==e)&&Pi("Database "+t+"("+e.repoInfo_+") has already been deleted."),vO(e),delete n[e.key]}function WH(e,t,n,r){var i=gE[t.name];i||(i={},gE[t.name]=i);var s=i[e.toURLString()];return s&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Yz(e,CO,n,r),i[e.toURLString()]=s,s}function KH(e){CO=e}var GH=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Xz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,xe())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(HH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Pi("Cannot call "+t+" on a deleted database.")},e}();function QH(e,t,n,r){r===void 0&&(r={}),e=pe(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Pi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new kf(kf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:eT(r.mockUserToken,e.app.options.projectId);s=new kf(a)}zH(i,t,n,s)}function YH(e){e=pe(e),e._checkNotDeleted("goOffline"),vO(e._repo)}function XH(e){e=pe(e),e._checkNotDeleted("goOnline"),aH(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JH={".sv":"timestamp"};function ZH(){return JH}function eW(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tW=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function nW(e,t,n){var r;if(e=pe(e),Sr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Bt,a=function(c,h,p){var v=null;c?s.reject(c):(v=new Sm(p,new Fi(e._repo,e._path),qe),s.resolve(new tW(h,v)))},l=vE(e,function(){});return cH(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rW=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){oe("OnDisconnect.cancel",0,1,arguments.length),Mt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){oe("OnDisconnect.remove",0,1,arguments.length),Mt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){oe("OnDisconnect.set",1,2,arguments.length),Mt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){oe("OnDisconnect.setWithPriority",2,3,arguments.length),Mt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(oe("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Jt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iW=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return oe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return oe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return oe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return oe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return oe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return oe("DataSnapshot.child",0,1,arguments.length),t=String(t),lh("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return oe("DataSnapshot.hasChild",1,1,arguments.length),lh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return oe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return oe("DataSnapshot.forEach",1,1,arguments.length),Mt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return oe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return oe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return oe("DataSnapshot.ref",0,0,arguments.length),new oa(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),AO=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;oe("Query.on",2,4,arguments.length),Mt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(l.context,new Rf(s.database,p),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return vE(this._delegate,c,h),n;case"child_added":return cA(this._delegate,c,h),n;case"child_removed":return dA(this._delegate,c,h),n;case"child_changed":return fA(this._delegate,c,h),n;case"child_moved":return hA(this._delegate,c,h),n;default:throw new Error(Kn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(oe("Query.off",0,3,arguments.length),zz("Query.off",t,!0),Mt("Query.off","callback",n,!0),NN("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,pA(this._delegate,t,i)}else pA(this._delegate,t)},e.prototype.get=function(){var t=this;return bH(this._delegate).then(function(n){return new Rf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;oe("Query.once",1,4,arguments.length),Mt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Bt,c=function(p,v){var m=new Rf(s.database,p);n&&n.call(a.context,m,v),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":vE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":cA(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":dA(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":fA(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":hA(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Kn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return oe("Query.limitToFirst",1,1,arguments.length),new e(this.database,Kr(this._delegate,RH(t)))},e.prototype.limitToLast=function(t){return oe("Query.limitToLast",1,1,arguments.length),new e(this.database,Kr(this._delegate,PH(t)))},e.prototype.orderByChild=function(t){return oe("Query.orderByChild",1,1,arguments.length),new e(this.database,Kr(this._delegate,OH(t)))},e.prototype.orderByKey=function(){return oe("Query.orderByKey",0,0,arguments.length),new e(this.database,Kr(this._delegate,MH()))},e.prototype.orderByPriority=function(){return oe("Query.orderByPriority",0,0,arguments.length),new e(this.database,Kr(this._delegate,UH()))},e.prototype.orderByValue=function(){return oe("Query.orderByValue",0,0,arguments.length),new e(this.database,Kr(this._delegate,jH()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),oe("Query.startAt",0,2,arguments.length),new e(this.database,Kr(this._delegate,kH(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),oe("Query.startAfter",0,2,arguments.length),new e(this.database,Kr(this._delegate,NH(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),oe("Query.endAt",0,2,arguments.length),new e(this.database,Kr(this._delegate,TH(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),oe("Query.endBefore",0,2,arguments.length),new e(this.database,Kr(this._delegate,IH(t,n)))},e.prototype.equalTo=function(t,n){return oe("Query.equalTo",1,2,arguments.length),new e(this.database,Kr(this._delegate,$H(t,n)))},e.prototype.toString=function(){return oe("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return oe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(oe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Mt(t,"cancel",i.cancel,!0),i.context=r,NN(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Kn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new oa(this.database,new Fi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),oa=function(e){K(t,e);function t(n,r){var i=e.call(this,n,new Dr(r._repo,r._path,new jL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return oe("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return oe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,Ca(this._delegate,n))},t.prototype.getParent=function(){oe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return oe("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){oe("Reference.set",1,2,arguments.length),Mt("Reference.set","onComplete",r,!0);var i=VT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(oe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Jt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sr("Reference.update",this._delegate._path),Mt("Reference.update","onComplete",r,!0);var a=EH(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){oe("Reference.setWithPriority",2,3,arguments.length),Mt("Reference.setWithPriority","onComplete",i,!0);var s=_H(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){oe("Reference.remove",0,1,arguments.length),Mt("Reference.remove","onComplete",n,!0);var r=yH(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;oe("Reference.transaction",1,3,arguments.length),Mt("Reference.transaction","transactionUpdate",n,!1),Mt("Reference.transaction","onComplete",r,!0),Wz("Reference.transaction","applyLocally",i,!0);var a=nW(this._delegate,n,{applyLocally:i}).then(function(l){return new iW(l.committed,new Rf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){oe("Reference.setPriority",1,2,arguments.length),Mt("Reference.setPriority","onComplete",r,!0);var i=wH(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;oe("Reference.push",0,2,arguments.length),Mt("Reference.push","onComplete",r,!0);var s=mH(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return Sr("Reference.onDisconnect",this._delegate._path),new rW(new gH(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(AO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fg=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),QH(this._delegate,t,n,r)},e.prototype.ref=function(t){if(oe("database.ref",0,1,arguments.length),t instanceof oa){var n=lA(this._delegate,t.toString());return new oa(this,n)}else{var n=bO(this._delegate,t);return new oa(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";oe(n,1,1,arguments.length);var r=lA(this._delegate,t);return new oa(this,r)},e.prototype.goOffline=function(){return oe("database.goOffline",0,0,arguments.length),YH(this._delegate)},e.prototype.goOnline=function(){return oe("database.goOnline",0,0,arguments.length),XH(this._delegate)},e.ServerValue={TIMESTAMP:ZH(),increment:function(t){return eW(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oW=function(){Zs.forceDisallow(),hT.forceAllow()},sW=function(){hT.forceDisallow()},aW=function(){return Zs.isAvailable()},uW=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},lW=function(e,t){uH(e._delegate._repo,t)},cW=function(e,t){lH(e._delegate._repo,t)},fW=function(e){return e._delegate._repo.dataUpdateCount},hW=function(e,t){return Jz(e._delegate._repo,t)};function dW(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;iL(r);var c=new JP("auth-internal",new ZP("database-standalone"));return c.setComponent(new gn("auth-internal",function(){return i},"PRIVATE")),{instance:new fg(NO(t,c,void 0,n,l),t),namespace:s}}var pW=Object.freeze({__proto__:null,forceLongPolling:oW,forceWebSockets:sW,isWebSocketsAvailable:aW,setSecurityDebugCallback:uW,stats:lW,statsIncrementCounter:cW,dataUpdateCount:fW,interceptServerData:hW,initStandalone:dW});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vW=pa;pa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};pa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var gW=kL,mW=function(e){var t=pa.prototype.put;return pa.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){pa.prototype.put=t}},yW=cT,wW=function(e){return e._delegate._queryIdentifier},_W=function(e){KH(e)},EW=Object.freeze({__proto__:null,DataConnection:vW,RealTimeConnection:gW,hijackHash:mW,ConnectionTarget:yW,queryIdentifier:wW,forceRestClient:_W});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bW=fg.ServerValue;function TW(e){iL(e.SDK_VERSION),e.INTERNAL.registerComponent(new gn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new fg(NO(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:oa,Query:AO,Database:fg,DataSnapshot:Rf,enableLogging:uL,INTERNAL:pW,ServerValue:bW,TEST_ACCESS:EW}).setMultipleInstances(!0)),e.registerVersion(a$,u$)}TW(ee);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mE=function(e,t){return mE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mE(e,t)};function SW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function RO(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var IW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,$T=$T||{},fe=IW||self;function hg(){}function yE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Kh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function kW(e){return Object.prototype.hasOwnProperty.call(e,Tw)&&e[Tw]||(e[Tw]=++CW)}var Tw="closure_uid_"+(1e9*Math.random()>>>0),CW=0;function NW(e,t,n){return e.call.apply(e.bind,arguments)}function AW(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Zt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=NW:Zt=AW,Zt.apply(null,arguments)}function Fp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function ws(){this.s=this.s,this.o=this.o}var RW=0;ws.prototype.s=!1;ws.prototype.na=function(){!this.s&&(this.s=!0,this.M(),RW!=0)&&kW(this)};ws.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xO=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},PO=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function xW(e){e:{for(var t=bK,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function vA(e){return Array.prototype.concat.apply([],arguments)}function qT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function dg(e){return/^[\s\xa0]*$/.test(e)}var gA=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function Sw(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var mA=fe.navigator;if(mA){var yA=mA.userAgent;if(yA){Cn=yA;break e}}Cn=""}function zT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function LO(e){var t={};for(var n in e)t[n]=e[n];return t}var wA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OO(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<wA.length;s++)n=wA[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function HT(e){return HT[" "](e),e}HT[" "]=hg;function PW(e){var t=DW;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var LW=kn(Cn,"Opera"),yl=kn(Cn,"Trident")||kn(Cn,"MSIE"),DO=kn(Cn,"Edge"),wE=DO||yl,MO=kn(Cn,"Gecko")&&!(kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge"))&&!(kn(Cn,"Trident")||kn(Cn,"MSIE"))&&!kn(Cn,"Edge"),OW=kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge");function FO(){var e=fe.document;return e?e.documentMode:void 0}var pg;e:{var Iw="",kw=function(){var e=Cn;if(MO)return/rv:([^\);]+)(\)|;)/.exec(e);if(DO)return/Edge\/([\d\.]+)/.exec(e);if(yl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(OW)return/WebKit\/(\S+)/.exec(e);if(LW)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(kw&&(Iw=kw?kw[1]:""),yl){var Cw=FO();if(Cw!=null&&Cw>parseFloat(Iw)){pg=String(Cw);break e}}pg=Iw}var DW={};function MW(){return PW(function(){for(var e=0,t=gA(String(pg)).split("."),n=gA("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Sw(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Sw(s[2].length==0,a[2].length==0)||Sw(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var _E;if(fe.document&&yl){var _A=FO();_E=_A||parseInt(pg,10)||void 0}else _E=void 0;var FW=_E,UW=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fe.addEventListener("test",hg,t),fe.removeEventListener("test",hg,t)}catch{}return e}();function hn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};function ch(e,t){if(hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(MO){e:{try{HT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:BW[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ch.Z.h.call(this)}}rn(ch,hn);var BW={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gh="closure_listenable_"+(1e6*Math.random()|0),jW=0;function VW(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++jW,this.ca=this.fa=!1}function Im(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function km(e){this.src=e,this.g={},this.h=0}km.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=bE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new VW(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function EE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=xO(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Im(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function bE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var WT="closure_lm_"+(1e6*Math.random()|0),Nw={};function UO(e,t,n,r,i){if(r&&r.once)return jO(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)UO(e,t[s],n,r,i);return null}return n=QT(n),e&&e[Gh]?e.N(t,n,Kh(r)?!!r.capture:!!r,i):BO(e,t,n,!1,r,i)}function BO(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Kh(i)?!!i.capture:!!i,l=GT(e);if(l||(e[WT]=l=new km(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=$W(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)UW||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($O(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $W(){function e(n){return t.call(e.src,e.listener,n)}var t=qW;return e}function jO(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)jO(e,t[s],n,r,i);return null}return n=QT(n),e&&e[Gh]?e.O(t,n,Kh(r)?!!r.capture:!!r,i):BO(e,t,n,!0,r,i)}function VO(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)VO(e,t[s],n,r,i);else r=Kh(r)?!!r.capture:!!r,n=QT(n),e&&e[Gh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=bE(s,n,r,i),-1<n&&(Im(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=GT(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bE(t,n,r,i)),(n=-1<e?t[e]:null)&&KT(n))}function KT(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Gh])EE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($O(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=GT(t))?(EE(n,e),n.h==0&&(n.src=null,t[WT]=null)):Im(e)}}}function $O(e){return e in Nw?Nw[e]:Nw[e]="on"+e}function qW(e,t){if(e.ca)e=!0;else{t=new ch(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&KT(e),e=n.call(r,t)}return e}function GT(e){return e=e[WT],e instanceof km?e:null}var Aw="__closure_events_fn_"+(1e9*Math.random()>>>0);function QT(e){return typeof e=="function"?e:(e[Aw]||(e[Aw]=function(t){return e.handleEvent(t)}),e[Aw])}function qt(){ws.call(this),this.i=new km(this),this.P=this,this.I=null}rn(qt,ws);qt.prototype[Gh]=!0;qt.prototype.removeEventListener=function(e,t,n,r){VO(this,e,t,n,r)};function en(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new hn(t,e);else if(t instanceof hn)t.target=t.target||e;else{var i=t;t=new hn(r,e),OO(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Up(a,r,!0,t)&&i}if(a=t.g=e,i=Up(a,r,!0,t)&&i,i=Up(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Up(a,r,!1,t)&&i}qt.prototype.M=function(){if(qt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Im(n[r]);delete e.g[t],e.h--}}this.I=null};qt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};qt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Up(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&EE(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var YT=fe.JSON.stringify;function zW(){var e=zO,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var HW=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=qO.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),qO=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new WW},function(e){return e.reset()}),WW=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function KW(e){fe.setTimeout(function(){throw e},0)}function XT(e,t){TE||GW(),SE||(TE(),SE=!0),zO.add(e,t)}var TE;function GW(){var e=fe.Promise.resolve(void 0);TE=function(){e.then(QW)}}var SE=!1,zO=new HW;function QW(){for(var e;e=zW();){try{e.h.call(e.g)}catch(n){KW(n)}var t=qO;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}SE=!1}function Cm(e,t){qt.call(this),this.h=e||1,this.g=t||fe,this.j=Zt(this.kb,this),this.l=Date.now()}rn(Cm,qt);Q=Cm.prototype;Q.da=!1;Q.S=null;Q.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),en(this,"tick"),this.da&&(JT(this),this.start()))}};Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function JT(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Q.M=function(){Cm.Z.M.call(this),JT(this),delete this.g};function ZT(e,t,n){if(typeof e=="function")n&&(e=Zt(e,n));else if(e&&typeof e.handleEvent=="function")e=Zt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:fe.setTimeout(e,t||0)}function HO(e){e.g=ZT(function(){e.g=null,e.i&&(e.i=!1,HO(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var YW=function(e){SW(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:HO(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ws);function fh(e){ws.call(this),this.h=e,this.g={}}rn(fh,ws);var EA=[];function WO(e,t,n,r){Array.isArray(n)||(n&&(EA[0]=n.toString()),n=EA);for(var i=0;i<n.length;i++){var s=UO(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function KO(e){zT(e.g,function(t,n){this.g.hasOwnProperty(n)&&KT(t)},e),e.g={}}fh.prototype.M=function(){fh.Z.M.call(this),KO(this)};fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nm(){this.g=!0}Nm.prototype.Aa=function(){this.g=!1};function XW(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function JW(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Hu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+eK(e,n)+(r?" "+r:"")})}function ZW(e,t){e.info(function(){return"TIMEOUT: "+t})}Nm.prototype.info=function(){};function eK(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return YT(n)}catch{return t}}var za={},bA=null;function Am(){return bA=bA||new qt}za.Ma="serverreachability";function GO(e){hn.call(this,za.Ma,e)}rn(GO,hn);function hh(e){var t=Am();en(t,new GO(t))}za.STAT_EVENT="statevent";function QO(e,t){hn.call(this,za.STAT_EVENT,e),this.stat=t}rn(QO,hn);function An(e){var t=Am();en(t,new QO(t,e))}za.Na="timingevent";function YO(e,t){hn.call(this,za.Na,e),this.size=t}rn(YO,hn);function Qh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){e()},t)}var Rm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},XO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eS(){}eS.prototype.h=null;function TA(e){return e.h||(e.h=e.i())}function JO(){}var Yh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tS(){hn.call(this,"d")}rn(tS,hn);function nS(){hn.call(this,"c")}rn(nS,hn);var IE;function xm(){}rn(xm,eS);xm.prototype.g=function(){return new XMLHttpRequest};xm.prototype.i=function(){return{}};IE=new xm;function Xh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fh(this),this.P=tK,e=wE?125:void 0,this.W=new Cm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ZO}function ZO(){this.i=null,this.g="",this.h=!1}var tK=45e3,kE={},vg={};Q=Xh.prototype;Q.setTimeout=function(e){this.P=e};function CE(e,t,n){e.K=1,e.v=Lm(fo(t)),e.s=n,e.U=!0,eD(e,null)}function eD(e,t){e.F=Date.now(),Jh(e),e.A=fo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),aD(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ZO,e.g=CD(e.l,n?t:null,!e.s),0<e.O&&(e.L=new YW(Zt(e.Ia,e,e.g),e.O)),WO(e.V,e.g,"readystatechange",e.gb),t=e.H?LO(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hh(),XW(e.j,e.u,e.A,e.m,e.X,e.s)}Q.gb=function(e){e=e.target;var t=this.L;t&&eo(e)==3?t.l():this.Ia(e)};Q.Ia=function(e){try{if(e==this.g)e:{var t=eo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||wE||this.g&&(this.h.h||this.g.ga()||CA(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?hh(3):hh(2)),Pm(this);var i=this.g.ba();this.N=i;t:if(tD(this)){var s=CA(this.g);e="";var a=s.length,l=eo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),xf(this);var c="";break t}this.h.i=new fe.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,JW(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dg(h)){var v=h;break t}}v=null}if(i=v)Hu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,NE(this,i);else{this.i=!1,this.o=3,An(12),sa(this),xf(this);break e}}this.U?(nD(this,t,c),wE&&this.i&&t==3&&(WO(this.V,this.W,"tick",this.fb),this.W.start())):(Hu(this.j,this.m,c,null),NE(this,c)),t==4&&sa(this),this.i&&!this.I&&(t==4?TD(this.l,this):(this.i=!1,Jh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),sa(this),xf(this)}}}catch{}finally{}};function tD(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function nD(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=nK(e,n),i==vg){t==4&&(e.o=4,An(14),r=!1),Hu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==kE){e.o=4,An(15),Hu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Hu(e.j,e.m,i,null),NE(e,i);tD(e)&&i!=vg&&i!=kE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,An(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fS(t),t.L=!0,An(11))):(Hu(e.j,e.m,n,"[Invalid Chunked Response]"),sa(e),xf(e))}Q.fb=function(){if(this.g){var e=eo(this.g),t=this.g.ga();this.C<t.length&&(Pm(this),nD(this,e,t),this.i&&e!=4&&Jh(this))}};function nK(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?vg:(n=Number(t.substring(n,r)),isNaN(n)?kE:(r+=1,r+n>t.length?vg:(t=t.substr(r,n),e.C=r+n,t)))}Q.cancel=function(){this.I=!0,sa(this)};function Jh(e){e.Y=Date.now()+e.P,rD(e,e.P)}function rD(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Qh(Zt(e.eb,e),t)}function Pm(e){e.B&&(fe.clearTimeout(e.B),e.B=null)}Q.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(ZW(this.j,this.A),this.K!=2&&(hh(),An(17)),sa(this),this.o=2,xf(this)):rD(this,this.Y-e)};function xf(e){e.l.G==0||e.I||TD(e.l,e)}function sa(e){Pm(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,JT(e.W),KO(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function NE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||AE(n.i,e))){if(n.I=e.N,!e.J&&AE(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)wg(n),Mm(n);else break e;cS(n),An(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Qh(Zt(n.ab,n),6e3));if(1>=cD(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else aa(n,11)}else if((e.J||n.g==e)&&wg(n),!dg(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(kn(p,"spdy")||kn(p,"quic")||kn(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(oS(v,v.h),v.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ye(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=kD(r,r.H?r.la:null,r.W),y.J){fD(r.i,y);var _=y,S=r.K;S&&_.setTimeout(S),_.B&&(Pm(_),Jh(_)),r.g=y}else ED(r);0<n.l.length&&Fm(n)}else s[0]!="stop"&&s[0]!="close"||aa(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?aa(n,7):lS(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}hh(4)}catch{}}function rK(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(yE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function rS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yE(e)||typeof e=="string")PO(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(yE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=rK(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Wl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Q=Wl.prototype;Q.R=function(){iS(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Q.T=function(){return iS(this),this.g.concat()};function iS(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Na(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Na(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Q.get=function(e,t){return Na(this.h,e)?this.h[e]:t};Q.set=function(e,t){Na(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Q.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var iD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iK(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Aa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Aa){this.g=t!==void 0?t:e.g,gg(this,e.j),this.s=e.s,mg(this,e.i),yg(this,e.m),this.l=e.l,t=e.h;var n=new dh;n.i=t.i,t.g&&(n.g=new Wl(t.g),n.h=t.h),SA(this,n),this.o=e.o}else e&&(n=String(e).match(iD))?(this.g=!!t,gg(this,n[1]||"",!0),this.s=Pf(n[2]||""),mg(this,n[3]||"",!0),yg(this,n[4]),this.l=Pf(n[5]||"",!0),SA(this,n[6]||"",!0),this.o=Pf(n[7]||"")):(this.g=!!t,this.h=new dh(null,this.g))}Aa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ff(t,IA,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ff(t,IA,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ff(n,n.charAt(0)=="/"?lK:uK,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ff(n,fK)),e.join("")};function fo(e){return new Aa(e)}function gg(e,t,n){e.j=n?Pf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mg(e,t,n){e.i=n?Pf(t,!0):t}function yg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function SA(e,t,n){t instanceof dh?(e.h=t,hK(e.h,e.g)):(n||(t=ff(t,cK)),e.h=new dh(t,e.g))}function Ye(e,t,n){e.h.set(t,n)}function Lm(e){return Ye(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function oK(e){return e instanceof Aa?fo(e):new Aa(e,void 0)}function sK(e,t,n,r){var i=new Aa(null,void 0);return e&&gg(i,e),t&&mg(i,t),n&&yg(i,n),r&&(i.l=r),i}function Pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ff(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,aK),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function aK(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var IA=/[#\/\?@]/g,uK=/[#\?:]/g,lK=/[#\?]/g,cK=/[#\?@]/g,fK=/#/g;function dh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _s(e){e.g||(e.g=new Wl,e.h=0,e.i&&iK(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Q=dh.prototype;Q.add=function(e,t){_s(this),this.i=null,e=Kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function oD(e,t){_s(e),t=Kl(e,t),Na(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Na(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&iS(e)))}function sD(e,t){return _s(e),t=Kl(e,t),Na(e.g.h,t)}Q.forEach=function(e,t){_s(this),this.g.forEach(function(n,r){PO(n,function(i){e.call(t,i,r,this)},this)},this)};Q.T=function(){_s(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Q.R=function(e){_s(this);var t=[];if(typeof e=="string")sD(this,e)&&(t=vA(t,this.g.get(Kl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=vA(t,e[n])}return t};Q.set=function(e,t){return _s(this),this.i=null,e=Kl(this,e),sD(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Q.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function aD(e,t,n){oD(e,t),0<n.length&&(e.i=null,e.g.set(Kl(e,t),qT(n)),e.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function hK(e,t){t&&!e.j&&(_s(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oD(this,r),aD(this,i,n))},e)),e.j=t}var dK=function(){function e(t,n){this.h=t,this.g=n}return e}();function uD(e){this.l=e||pK,fe.PerformanceNavigationTiming?(e=fe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(fe.g&&fe.g.Ea&&fe.g.Ea()&&fe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pK=10;function lD(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function cD(e){return e.h?1:e.g?e.g.size:0}function AE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function oS(e,t){e.g?e.g.add(t):e.h=t}function fD(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}uD.prototype.cancel=function(){var e,t;if(this.i=hD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=RO(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function hD(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=RO(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return qT(e.i)}function sS(){}sS.prototype.stringify=function(e){return fe.JSON.stringify(e,void 0)};sS.prototype.parse=function(e){return fe.JSON.parse(e,void 0)};function vK(){this.g=new sS}function gK(e,t,n){var r=n||"";try{rS(e,function(i,s){var a=i;Kh(i)&&(a=YT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mK(e,t){var n=new Nm;if(fe.Image){var r=new Image;r.onload=Fp(Bp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fp(Bp,n,r,"TestLoadImage: error",!1,t),r.onabort=Fp(Bp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fp(Bp,n,r,"TestLoadImage: timeout",!1,t),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Bp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Zh(e){this.l=e.$b||null,this.j=e.ib||!1}rn(Zh,eS);Zh.prototype.g=function(){return new Om(this.l,this.j)};Zh.prototype.i=function(e){return function(){return e}}({});function Om(e,t){qt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=aS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn(Om,qt);var aS=0;Q=Om.prototype;Q.open=function(e,t){if(this.readyState!=aS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ph(this)};Q.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ed(this)),this.readyState=aS};Q.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ph(this)),this.g&&(this.readyState=3,ph(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dD(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function dD(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Q.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ed(this):ph(this),this.readyState==3&&dD(this)}};Q.Ua=function(e){this.g&&(this.response=this.responseText=e,ed(this))};Q.Ta=function(e){this.g&&(this.response=e,ed(this))};Q.ha=function(){this.g&&ed(this)};function ed(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ph(e)}Q.setRequestHeader=function(e,t){this.v.append(e,t)};Q.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ph(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Om.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var yK=fe.JSON.parse;function bt(e){qt.call(this),this.headers=new Wl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pD,this.K=this.L=!1}rn(bt,qt);var pD="",wK=/^https?$/i,_K=["POST","PUT"];Q=bt.prototype;Q.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IE.g(),this.C=this.u?TA(this.u):TA(IE),this.g.onreadystatechange=Zt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){kA(this,s);return}e=n||"";var i=new Wl(this.headers);r&&rS(r,function(s,a){i.set(a,s)}),r=xW(i.T()),n=fe.FormData&&e instanceof fe.FormData,!(0<=xO(_K,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mD(this),0<this.B&&((this.K=EK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.pa,this)):this.A=ZT(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){kA(this,s)}};function EK(e){return yl&&MW()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function bK(e){return e.toLowerCase()=="content-type"}Q.pa=function(){typeof $T<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))};function kA(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vD(e),Dm(e)}function vD(e){e.D||(e.D=!0,en(e,"complete"),en(e,"error"))}Q.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,en(this,"complete"),en(this,"abort"),Dm(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dm(this,!0)),bt.Z.M.call(this)};Q.Fa=function(){this.s||(this.F||this.v||this.l?gD(this):this.cb())};Q.cb=function(){gD(this)};function gD(e){if(e.h&&typeof $T<"u"&&(!e.C[1]||eo(e)!=4||e.ba()!=2)){if(e.v&&eo(e)==4)ZT(e.Fa,0,e);else if(en(e,"readystatechange"),eo(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(iD)[1]||null;if(!s&&fe.self&&fe.self.location){var a=fe.self.location.protocol;s=a.substr(0,a.length-1)}i=!wK.test(s?s.toLowerCase():"")}r=i}if(r)en(e,"complete"),en(e,"success");else{e.m=6;try{var l=2<eo(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",vD(e)}}finally{Dm(e)}}}}function Dm(e,t){if(e.g){mD(e);var n=e.g,r=e.C[0]?hg:null;e.g=null,e.C=null,t||en(e,"ready");try{n.onreadystatechange=r}catch{}}}function mD(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fe.clearTimeout(e.A),e.A=null)}function eo(e){return e.g?e.g.readyState:0}Q.ba=function(){try{return 2<eo(this)?this.g.status:-1}catch{return-1}};Q.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),yK(t)}};function CA(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case pD:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Da=function(){return this.m};Q.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function TK(e){var t="";return zT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function uS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TK(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ye(e,t,n))}function nf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yD(e){this.za=0,this.l=[],this.h=new Nm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nf("baseRetryDelayMs",5e3,e),this.$a=nf("retryDelaySeedMs",1e4,e),this.Ya=nf("forwardChannelMaxRetries",2,e),this.ra=nf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new uD(e&&e.concurrentRequestLimit),this.Ca=new vK,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Q=yD.prototype;Q.ma=8;Q.G=1;function lS(e){if(wD(e),e.G==3){var t=e.V++,n=fo(e.F);Ye(n,"SID",e.J),Ye(n,"RID",t),Ye(n,"TYPE","terminate"),td(e,n),t=new Xh(e,e.h,t,void 0),t.K=2,t.v=Lm(fo(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon&&(n=fe.navigator.sendBeacon(t.v.toString(),"")),!n&&fe.Image&&(new Image().src=t.v,n=!0),n||(t.g=CD(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Jh(t)}ID(e)}Q.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Mm(e){e.g&&(fS(e),e.g.cancel(),e.g=null)}function wD(e){Mm(e),e.u&&(fe.clearTimeout(e.u),e.u=null),wg(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&fe.clearTimeout(e.m),e.m=null)}function Rw(e,t){e.l.push(new dK(e.Za++,t)),e.G==3&&Fm(e)}function Fm(e){lD(e.i)||e.m||(e.m=!0,XT(e.Ha,e),e.C=0)}function SK(e,t){return cD(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Qh(Zt(e.Ha,e,t),SD(e,e.C)),e.C++,!0)}Q.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=LO(n),OO(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_D(this,t,r),i=fo(this.F),Ye(i,"RID",e),Ye(i,"CVER",22),this.D&&Ye(i,"X-HTTP-Session-Id",this.D),td(this,i),this.o&&n&&uS(i,this.o,n),oS(this.i,t),this.Ra&&Ye(i,"TYPE","init"),this.ja?(Ye(i,"$req",r),Ye(i,"SID","null"),t.$=!0,CE(t,i,null)):CE(t,i,r),this.G=2}}else this.G==3&&(e?NA(this,e):this.l.length==0||lD(this.i)||NA(this))};function NA(e,t){var n;t?n=t.m:n=e.V++;var r=fo(e.F);Ye(r,"SID",e.J),Ye(r,"RID",n),Ye(r,"AID",e.U),td(e,r),e.o&&e.s&&uS(r,e.o,e.s),n=new Xh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_D(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),oS(e.i,n),CE(n,r,t)}function td(e,t){e.j&&rS({},function(n,r){Ye(t,r,n)})}function _D(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{gK(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ED(e){e.g||e.u||(e.Y=1,XT(e.Ga,e),e.A=0)}function cS(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Qh(Zt(e.Ga,e),SD(e,e.A)),e.A++,!0)}Q.Ga=function(){if(this.u=null,bD(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qh(Zt(this.bb,this),e)}};Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),Mm(this),bD(this))};function fS(e){e.B!=null&&(fe.clearTimeout(e.B),e.B=null)}function bD(e){e.g=new Xh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=fo(e.oa);Ye(t,"RID","rpc"),Ye(t,"SID",e.J),Ye(t,"CI",e.N?"0":"1"),Ye(t,"AID",e.U),td(e,t),Ye(t,"TYPE","xmlhttp"),e.o&&e.s&&uS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Lm(fo(t)),n.s=null,n.U=!0,eD(n,e)}Q.ab=function(){this.v!=null&&(this.v=null,Mm(this),cS(this),An(19))};function wg(e){e.v!=null&&(fe.clearTimeout(e.v),e.v=null)}function TD(e,t){var n=null;if(e.g==t){wg(e),fS(e),e.g=null;var r=2}else if(AE(e.i,t))n=t.D,fD(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Am(),en(r,new YO(r,n)),Fm(e)}else ED(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&SK(e,t)||r==2&&cS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:aa(e,5);break;case 4:aa(e,10);break;case 3:aa(e,6);break;default:aa(e,2)}}}function SD(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function aa(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Zt(e.jb,e);n||(n=new Aa("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||gg(n,"https"),Lm(n)),mK(n.toString(),r)}else An(2);e.G=0,e.j&&e.j.va(t),ID(e),wD(e)}Q.jb=function(e){e?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))};function ID(e){e.G=0,e.I=-1,e.j&&((hD(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,qT(e.l),e.l.length=0),e.j.ua())}function kD(e,t,n){var r=oK(n);if(r.i!="")t&&mg(r,t+"."+r.i),yg(r,r.m);else{var i=fe.location;r=sK(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&zT(e.aa,function(s,a){Ye(r,a,s)}),t=e.D,n=e.sa,t&&n&&Ye(r,t,n),Ye(r,"VER",e.ma),td(e,r),r}function CD(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new bt(new Zh({ib:!0})):new bt(e.qa),t.L=e.H,t}function ND(){}Q=ND.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Oa=function(){};function _g(){if(yl&&!(10<=Number(FW)))throw Error("Environmental error: no available transport.")}_g.prototype.g=function(e,t){return new hr(e,t)};function hr(e,t){qt.call(this),this.g=new yD(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!dg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dg(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gl(this)}rn(hr,qt);hr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),XT(Zt(e.hb,e,t))),An(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=kD(e,null,e.W),Fm(e)};hr.prototype.close=function(){lS(this.g)};hr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Rw(this.g,t)}else this.v?(t={},t.__data__=YT(e),Rw(this.g,t)):Rw(this.g,e)};hr.prototype.M=function(){this.g.j=null,delete this.j,lS(this.g),delete this.g,hr.Z.M.call(this)};function AD(e){tS.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rn(AD,tS);function RD(){nS.call(this),this.status=1}rn(RD,nS);function Gl(e){this.g=e}rn(Gl,ND);Gl.prototype.xa=function(){en(this.g,"a")};Gl.prototype.wa=function(e){en(this.g,new AD(e))};Gl.prototype.va=function(e){en(this.g,new RD)};Gl.prototype.ua=function(){en(this.g,"b")};_g.prototype.createWebChannel=_g.prototype.g;hr.prototype.send=hr.prototype.u;hr.prototype.open=hr.prototype.m;hr.prototype.close=hr.prototype.close;Rm.NO_ERROR=0;Rm.TIMEOUT=8;Rm.HTTP_ERROR=6;XO.COMPLETE="complete";JO.EventType=Yh;Yh.OPEN="a";Yh.CLOSE="b";Yh.ERROR="c";Yh.MESSAGE="d";qt.prototype.listen=qt.prototype.N;bt.prototype.listenOnce=bt.prototype.O;bt.prototype.getLastError=bt.prototype.La;bt.prototype.getLastErrorCode=bt.prototype.Da;bt.prototype.getStatus=bt.prototype.ba;bt.prototype.getResponseJson=bt.prototype.Qa;bt.prototype.getResponseText=bt.prototype.ga;bt.prototype.send=bt.prototype.ea;var IK=function(){return new _g},kK=function(){return Am()},xw=Rm,CK=XO,NK=za,AA={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AK=Zh,jp=JO,RK=bt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();or.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return K(t,e),t}(Error),oi=new ja("@firebase/firestore");function RE(){return oi.logLevel}function z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oi.logLevel<=we.DEBUG){var r=t.map(hS);oi.debug.apply(oi,ve(["Firestore (8.10.1): "+e],r))}}function wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oi.logLevel<=we.ERROR){var r=t.map(hS);oi.error.apply(oi,ve(["Firestore (8.10.1): "+e],r))}}function vh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oi.logLevel<=we.WARN){var r=t.map(hS);oi.warn.apply(oi,ve(["Firestore (8.10.1): "+e],r))}}function hS(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw wt(t),new Error(t)}function ue(e,t){e||te()}function W(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xD=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=xK(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function be(e,t){return e<t?-1:e>t?1:0}function wl(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function PD(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new B(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new B(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?be(this.nanoseconds,t.nanoseconds):be(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ye=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Gn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ha(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LD(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OD=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&te(),r===void 0?r=t.length-n:r>t.length-n&&te(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Pe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new B(O.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(OD),PK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ui=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return PK.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new B(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new B(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new B(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new B(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(OD),_l=function(){function e(t){this.fields=t,t.sort(ui.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return wl(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),xn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return be(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();xn.EMPTY_BYTE_STRING=new xn("");var LK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(e){if(ue(!!e),typeof e=="string"){var t=0,n=LK.exec(e);if(ue(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mt(e.seconds),nanos:mt(e.nanos)}}function mt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function El(e){return typeof e=="string"?xn.fromBase64String(e):xn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DD(e){var t=e.mapValue.fields.__previous_value__;return dS(t)?DD(t):t}function gh(e){var t=ds(e.mapValue.fields.__local_write_time__.timestampValue);return new Gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e){return e==null}function Eg(e){return e===0&&1/e==-1/0}function MD(e){return typeof e=="number"&&Number.isInteger(e)&&!Eg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Pe.fromString(t))},e.fromName=function(t){return new e(Pe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Pe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Pe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Pe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dS(e)?4:10:te()}function Di(e,t){var n=Ra(e);if(n!==Ra(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gh(e).isEqual(gh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ds(r.timestampValue),a=ds(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return El(r.bytesValue).isEqual(El(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return mt(r.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(r.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return mt(r.integerValue)===mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=mt(r.doubleValue),a=mt(i.doubleValue);return s===a?Eg(s)===Eg(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return wl(e.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(RA(s)!==RA(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Di(s[l],a[l])))return!1;return!0}(e,t);default:return te()}}function mh(e,t){return(e.values||[]).find(function(n){return Di(n,t)})!==void 0}function bl(e,t){var n=Ra(e),r=Ra(t);if(n!==r)return be(n,r);switch(n){case 0:return 0;case 1:return be(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=mt(i.integerValue||i.doubleValue),l=mt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return xA(e.timestampValue,t.timestampValue);case 4:return xA(gh(e),gh(t));case 5:return be(e.stringValue,t.stringValue);case 6:return function(i,s){var a=El(i),l=El(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=be(a[c],l[c]);if(h!==0)return h}return be(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=be(mt(i.latitude),mt(s.latitude));return a!==0?a:be(mt(i.longitude),mt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=bl(a[c],l[c]);if(h)return h}return be(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=be(l[p],h[p]);if(v!==0)return v;var m=bl(a[l[p]],c[h[p]]);if(m!==0)return m}return be(l.length,h.length)}(e.mapValue,t.mapValue);default:throw te()}}function xA(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return be(e,t);var n=ds(e),r=ds(t),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function pS(e){return xE(e)}function xE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ds(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?El(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ne.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=xE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+xE(r.fields[c])}return i+"}"}(e.mapValue):te();var t,n}function bg(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function PE(e){return!!e&&"integerValue"in e}function vS(e){return!!e&&"arrayValue"in e}function PA(e){return!!e&&"nullValue"in e}function LA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pv(e){return!!e&&"mapValue"in e}function Lf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ha(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=Lf(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lf(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!pv(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lf(n)},e.prototype.setAll=function(t){var n=this,r=ui.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=Lf(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());pv(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Di(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];pv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ha(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(Lf(this.value))},e}();function FD(e){var t=[];return Ha(e.fields,function(n,r){var i=new ui([n]);if(pv(r)){var s=FD(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new _l(t)}var nn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,ye.min(),rr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,rr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,rr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=rr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=rr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),OK=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new OK(e,t,n,r,i,s,a)}function nd(e){var t=W(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+pS(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Wa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Sg(t.startAt)),t.endAt&&(n+="|ub:",n+=Sg(t.endAt)),t.h=n}return t.h}function Um(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$K(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Di(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!MA(e.startAt,t.startAt)&&MA(e.endAt,t.endAt)}function Tg(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var sr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return K(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new DK(n,r,i):r==="array-contains"?new UK(n,i):r==="in"?new BK(n,i):r==="not-in"?new jK(n,i):r==="array-contains-any"?new VK(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new MK(n,i):new FK(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(bl(r,this.value)):r!==null&&Ra(this.value)===Ra(r)&&this.m(bl(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return te()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),DK=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ne.fromName(i.referenceValue),s}return K(t,e),t.prototype.matches=function(n){var r=ne.comparator(n.key,this.key);return this.m(r)},t}(sr),MK=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=UD("in",r),i}return K(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(sr),FK=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=UD("not-in",r),i}return K(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(sr);function UD(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ne.fromName(r.referenceValue)})}var UK=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return vS(r)&&mh(r.arrayValue,this.value)},t}(sr),BK=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return K(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&mh(this.value.arrayValue,r)},t}(sr),jK=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return K(t,e),t.prototype.matches=function(n){if(mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!mh(this.value.arrayValue,r)},t}(sr),VK=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return K(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!vS(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return mh(r.value.arrayValue,s)})},t}(sr),yh=function(e,t){this.position=e,this.before=t};function Sg(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return pS(t)}).join(",")}var el=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function $K(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function DA(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ne.comparator(ne.fromName(a.referenceValue),n.key):bl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function MA(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Di(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function BD(e,t,n,r,i,s,a,l){return new mo(e,t,n,r,i,s,a,l)}function Ql(e){return new mo(e)}function vv(e){return!Wa(e.limit)&&e.limitType==="F"}function Ig(e){return!Wa(e.limit)&&e.limitType==="L"}function gS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mS(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function yS(e){return e.collectionGroup!==null}function Tl(e){var t=W(e);if(t.p===null){t.p=[];var n=mS(t),r=gS(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new el(n)),t.p.push(new el(ui.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new el(ui.keyField(),c))}}}return t.p}function Or(e){var t=W(e);if(!t.T)if(t.limitType==="F")t.T=OA(t.path,t.collectionGroup,Tl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Tl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new el(s.field,a))}var l=t.endAt?new yh(t.endAt.position,!t.endAt.before):null,c=t.startAt?new yh(t.startAt.position,!t.startAt.before):null;t.T=OA(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function jD(e,t,n){return new mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rd(e,t){return Um(Or(e),Or(t))&&e.limitType===t.limitType}function VD(e){return nd(Or(e))+"|lt:"+e.limitType}function LE(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+pS(i.value);var i}).join(", ")+"]"),Wa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Sg(t.startAt)),t.endAt&&(n+=", endAt: "+Sg(t.endAt)),"Target("+n+")"}(Or(e))+"; limitType="+e.limitType+")"}function id(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!DA(n.startAt,Tl(n),r))&&(!n.endAt||!DA(n.endAt,Tl(n),r))}(e,t)}function $D(e){return function(t,n){for(var r=!1,i=0,s=Tl(e);i<s.length;i++){var a=s[i],l=qK(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function qK(e,t,n){var r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?bl(l,c):te()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(t)?"-0":t}}function zD(e){return{integerValue:""+e}}function HD(e,t){return MD(t)?zD(t):qD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bm=function(){this._=void 0};function zK(e,t,n){return e instanceof Sl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof xa?KD(e,t):e instanceof Pa?GD(e,t):function(r,i){var s=WD(r,i),a=FA(s)+FA(r.A);return PE(s)&&PE(r.A)?zD(a):qD(r.R,a)}(e,t)}function HK(e,t,n){return e instanceof xa?KD(e,t):e instanceof Pa?GD(e,t):n}function WD(e,t){return e instanceof Il?PE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Sl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t}(Bm),xa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(Bm);function KD(e,t){for(var n=QD(t),r=function(a){n.some(function(l){return Di(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Pa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return K(t,e),t}(Bm);function GD(e,t){for(var n=QD(t),r=function(a){n=n.filter(function(l){return!Di(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Il=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return K(t,e),t}(Bm);function FA(e){return mt(e.integerValue||e.doubleValue)}function QD(e){return vS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od=function(e,t){this.field=e,this.transform=t},WK=function(e,t){this.version=e,this.transformResults=t},fn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function gv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var jm=function(){};function KK(e,t,n){e instanceof sd?function(r,i,s){var a=r.value.clone(),l=jA(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Es?function(r,i,s){if(gv(r.precondition,i)){var a=jA(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(YD(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function OE(e,t,n){e instanceof sd?function(r,i,s){if(gv(r.precondition,i)){var a=r.value.clone(),l=VA(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(BA(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Es?function(r,i,s){if(gv(r.precondition,i)){var a=VA(r.fieldTransforms,s,i),l=i.data;l.setAll(YD(r)),l.setAll(a),i.convertToFoundDocument(BA(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){gv(r.precondition,i)&&i.convertToNoDocument(ye.min())}(e,t)}function GK(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=WD(s.transform,a||null);l!=null&&(n==null&&(n=rr.empty()),n.set(s.field,l))}return n||null}function UA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&wl(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof xa&&h instanceof xa||c instanceof Pa&&h instanceof Pa?wl(c.elements,h.elements,Di):c instanceof Il&&h instanceof Il?Di(c.A,h.A):c instanceof Sl&&h instanceof Sl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function BA(e){return e.isFoundDocument()?e.version:ye.min()}var sd=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return K(t,e),t}(jm),Es=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return K(t,e),t}(jm);function YD(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function jA(e,t,n){var r=new Map;ue(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,HK(a,l,n[i]))}return r}function VA(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,zK(l,c,t))}return r}var gt,ke,ad=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return K(t,e),t}(jm),wS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return K(t,e),t}(jm),QK=function(e){this.count=e};function XD(e){switch(e){case O.OK:return te();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return te()}}function JD(e){if(e===void 0)return wt("GRPC error has no .code"),O.UNKNOWN;switch(e){case gt.OK:return O.OK;case gt.CANCELLED:return O.CANCELLED;case gt.UNKNOWN:return O.UNKNOWN;case gt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case gt.INTERNAL:return O.INTERNAL;case gt.UNAVAILABLE:return O.UNAVAILABLE;case gt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case gt.NOT_FOUND:return O.NOT_FOUND;case gt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case gt.ABORTED:return O.ABORTED;case gt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case gt.DATA_LOSS:return O.DATA_LOSS;default:return te()}}(ke=gt||(gt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=function(){function e(t,n){this.comparator=t,this.root=n||jo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Vp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Vp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Vp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Vp(this.root,t,this.comparator,!0)},e}(),Vp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),jo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();var t=this.left.check();if(t!==this.right.check())throw te();return t+(this.isRed()?0:1)},e}();jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw te()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new jo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(){function e(t){this.comparator=t,this.data=new yn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new $A(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new $A(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),$A=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),YK=new yn(ne.comparator);function Ar(){return YK}var XK=new yn(ne.comparator);function DE(){return XK}var JK=new yn(ne.comparator);function ZD(){return JK}var ZK=new xt(ne.comparator);function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ZK,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var eG=new xt(be);function Vm(){return eG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _S=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ES.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ye.min(),r,Vm(),Ar(),Me())},e}(),ES=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(xn.EMPTY_BYTE_STRING,n,Me(),Me(),Me())},e}(),mv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},e3=function(e,t){this.targetId=e,this.V=t},t3=function(e,t,n,r){n===void 0&&(n=xn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},qA=function(){function e(){this.S=0,this.D=HA(),this.C=xn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Me(),n=Me(),r=Me();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new ES(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=HA()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),tG=function(){function e(t){this.W=t,this.G=new Map,this.H=Ar(),this.J=zA(),this.Y=new xt(be)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:te()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(Tg(s))if(r===0){var a=new ne(s.path);this.tt(n,a,nn.newNoDocument(a,ye.min()))}else ue(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&Tg(c.target)){var h=new ne(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,nn.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Me();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new _S(t,r,this.Y,this.H,i);return this.H=Ar(),this.J=zA(),this.Y=new xt(be),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new qA,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new xt(be),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new qA),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function zA(){return new yn(ne.comparator)}function HA(){return new yn(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nG={asc:"ASCENDING",desc:"DESCENDING"},rG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iG=function(e,t){this.databaseId=e,this.I=t};function wh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function n3(e,t){return e.I?t.toBase64():t.toUint8Array()}function oG(e,t){return wh(e,t.toTimestamp())}function jt(e){return ue(!!e),ye.fromTimestamp(function(t){var n=ds(t);return new Gn(n.seconds,n.nanos)}(e))}function bS(e,t){return function(n){return new Pe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function r3(e){var t=Pe.fromString(e);return ue(f3(t)),t}function _h(e,t){return bS(e.databaseId,t.path)}function Ni(e,t){var n=r3(t);if(n.get(1)!==e.databaseId.projectId)throw new B(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new B(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne(o3(n))}function ME(e,t){return bS(e.databaseId,t)}function i3(e){var t=r3(e);return t.length===4?Pe.emptyPath():o3(t)}function Eh(e){return new Pe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function o3(e){return ue(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function WA(e,t,n){return{name:_h(e,t),fields:n.value.mapValue.fields}}function s3(e,t,n){var r=Ni(e,t.name),i=jt(t.updateTime),s=new rr({mapValue:{fields:t.fields}}),a=nn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function kg(e,t){var n;if(t instanceof sd)n={update:WA(e,t.key,t.value)};else if(t instanceof ad)n={delete:_h(e,t.key)};else if(t instanceof Es)n={update:WA(e,t.key,t.data),updateMask:cG(t.fieldMask)};else{if(!(t instanceof wS))return te();n={verify:_h(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Sl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Il)return{fieldPath:s.field.canonicalString(),increment:a.A};throw te()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:oG(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(e,t.precondition)),n}function KA(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?fn.updateTime(jt(h.updateTime)):h.exists!==void 0?fn.exists(h.exists):fn.none()}(t.currentDocument):fn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var m=null;if("setToServerValue"in v)ue(v.setToServerValue==="REQUEST_TIME"),m=new Sl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new xa(y)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];m=new Pa(_)}else"increment"in v?m=new Il(p,v.increment):te();var S=ui.fromServerFormat(v.fieldPath);return new od(S,m)}(e,h)}):[];if(t.update){t.update.name;var i=Ni(e,t.update.name),s=new rr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new _l(p.map(function(v){return ui.fromServerFormat(v)}))}(t.updateMask);return new Es(i,s,a,n,r)}return new sd(i,s,n,r)}if(t.delete){var l=Ni(e,t.delete);return new ad(l,n)}if(t.verify){var c=Ni(e,t.verify);return new wS(c,n)}return te()}function a3(e,t){return{documents:[ME(e,t.path)]}}function u3(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ME(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ME(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(LA(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NAN"}};if(PA(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(LA(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NOT_NAN"}};if(PA(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(p.field),op:aG(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:Iu(h.field),direction:sG(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Wa(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=GA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=GA(t.endAt)),n}function l3(e){var t=i3(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=c3(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new el(Wu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var c=null;n.limit&&(c=function(v){var m;return Wa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=QA(n.startAt));var p=null;return n.endAt&&(p=QA(n.endAt)),BD(t,i,l,a,c,"F",h,p)}function c3(e){return e?e.unaryFilter!==void 0?[lG(e)]:e.fieldFilter!==void 0?[uG(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return c3(t)}).reduce(function(t,n){return t.concat(n)}):te():[]}function GA(e){return{before:e.before,values:e.position}}function QA(e){var t=!!e.before,n=e.values||[];return new yh(n,t)}function sG(e){return nG[e]}function aG(e){return rG[e]}function Iu(e){return{fieldPath:e.canonicalString()}}function Wu(e){return ui.fromServerFormat(e.fieldPath)}function uG(e){return sr.create(Wu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}function lG(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Wu(e.unaryFilter.field);return sr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Wu(e.unaryFilter.field);return sr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wu(e.unaryFilter.field);return sr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wu(e.unaryFilter.field);return sr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return te()}}function cG(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function f3(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=YA(t)),t=fG(e.get(n),t);return YA(t)}function fG(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function YA(e){return e+""}function to(e){var t=e.length;if(ue(t>=2),t===2)return ue(e.charAt(0)===""&&e.charAt(1)===""),Pe.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&te(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:te()}s=a+2}return new Pe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hG=function(e,t){this.seconds=e,this.nanoseconds=t},tr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};tr.store="owner",tr.key="owner";var is=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};is.store="mutationQueues",is.keyPath="userId";var He=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};He.store="mutations",He.keyPath="batchId",He.userMutationsIndex="userMutationsIndex",He.userMutationsKeyPath=["userId","batchId"];var cn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,si(n)]},e.key=function(t,n,r){return[t,si(n),r]},e}();cn.store="documentMutations",cn.PLACEHOLDER=new cn;var dG=function(e,t){this.path=e,this.readTime=t},pG=function(e,t){this.path=e,this.version=t},at=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};at.store="remoteDocuments",at.readTimeIndex="readTimeIndex",at.readTimeIndexPath="readTime",at.collectionReadTimeIndex="collectionReadTimeIndex",at.collectionReadTimeIndexPath=["parentPath","readTime"];var Si=function(e){this.byteSize=e};Si.store="remoteDocumentGlobal",Si.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var Yt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Yt.store="targetDocuments",Yt.keyPath=["targetId","path"],Yt.documentTargetsIndex="documentTargetsIndex",Yt.documentTargetsKeyPath=["path","targetId"];var nr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};nr.key="targetGlobalKey",nr.store="targetGlobal";var va=function(e,t){this.collectionId=e,this.parent=t};va.store="collectionParents",va.keyPath=["collectionId","parent"];var io=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};io.store="clientMetadata",io.keyPath="clientId";var kl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};kl.store="bundles",kl.keyPath="bundleId";var Cl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Cl.store="namedQueries",Cl.keyPath="name";var vG=ve(ve([],ve(ve([],ve(ve([],ve(ve([],[is.store,He.store,cn.store,at.store,qn.store,tr.store,nr.store,Yt.store]),[io.store])),[Si.store])),[va.store])),[kl.store,Cl.store]),h3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",d3=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),mn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),p3=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new mn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Of(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=TS(i.target.error);r.ft.reject(new Of(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Of(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(z("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new mG(n)},e}(),Nl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Sa())===12.2&&wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return z("SimpleDb","Removing database:",t),ea(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Sa(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(z("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new B(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Of(t,h))},l.onupgradeneeded=function(c){z("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){z("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var v,m,y,_,S;return N(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=C.sent(),v=p3.open(c.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(b){return v.abort(b),V.reject(b)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(C.sent(),m),y)];case 4:return _=C.sent(),S=_.name!=="FirebaseError"&&a<3,z("SimpleDb","Transaction failed with error:",_.message,"Retrying:",S),c.close(),S?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gG=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ea(this.Pt.delete())},e}(),Of=function(e){function t(n,r){var i=this;return(i=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return K(t,e),t}(B);function Ka(e){return e.name==="IndexedDbTransactionError"}var mG=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ea(r)},e.prototype.add=function(t){return z("SimpleDb","ADD",this.store.name,t,t),ea(this.store.add(t))},e.prototype.get=function(t){var n=this;return ea(this.store.get(t)).next(function(r){return r===void 0&&(r=null),z("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return z("SimpleDb","DELETE",this.store.name,t),ea(this.store.delete(t))},e.prototype.count=function(){return z("SimpleDb","COUNT",this.store.name),ea(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){z("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new V(function(r,i){n.onerror=function(s){var a=TS(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new gG(l),h=n(l.primaryKey,l.value,c);if(h instanceof V){var p=h.catch(function(v){return c.done(),V.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ea(e){return new V(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=TS(r.target.error);n(i)}})}var XA=!1;function TS(e){var t=Nl._t(Sa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new B("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return XA||(XA=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return K(t,e),t}(d3);function Yn(e,t){var n=W(e);return Nl.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SS=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&KK(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&OE(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&OE(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(ye.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Me())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,function(n,r){return UA(n,r)})&&wl(this.baseMutations,t.baseMutations,function(n,r){return UA(n,r)})},e}(),yG=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ue(t.mutations.length===r.length);for(var i=ZD(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),$m=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ye.min()),a===void 0&&(a=ye.min()),l===void 0&&(l=xn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),v3=function(e){this.Lt=e};function FE(e,t){if(t.document)return s3(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ne.fromSegments(t.noDocument.path),r=Rl(t.noDocument.readTime),i=nn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ne.fromSegments(t.unknownDocument.path);return r=Rl(t.unknownDocument.version),nn.newUnknownDocument(s,r)}return te()}function ZA(e,t,n){var r=IS(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:_h(v,m.key),fields:m.data.value.mapValue.fields,updateTime:wh(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new at(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=Al(t.version);return a=t.hasCommittedMutations,new at(null,new dG(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=Al(t.version);return new at(new pG(h,p),null,null,!0,r,i)}return te()}function IS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function g3(e){var t=new Gn(e[0],e[1]);return ye.fromTimestamp(t)}function Al(e){var t=e.toTimestamp();return new hG(t.seconds,t.nanoseconds)}function Rl(e){var t=new Gn(e.seconds,e.nanoseconds);return ye.fromTimestamp(t)}function Au(e,t){for(var n=(t.baseMutations||[]).map(function(c){return KA(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return KA(e.Lt,c)}),l=Gn.fromMillis(t.localWriteTimeMs);return new SS(t.batchId,l,n,a)}function hf(e){var t,n,r=Rl(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Rl(e.lastLimboFreeSnapshotVersion):ye.min();return e.query.documents!==void 0?(ue((n=e.query).documents.length===1),t=Or(Ql(i3(n.documents[0])))):t=function(s){return Or(l3(s))}(e.query),new $m(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xn.fromBase64String(e.resumeToken))}function m3(e,t){var n,r=Al(t.snapshotVersion),i=Al(t.lastLimboFreeSnapshotVersion);n=Tg(t.target)?a3(e.Lt,t.target):u3(e.Lt,t.target);var s=t.resumeToken.toBase64();return new qn(t.targetId,nd(t.target),r,s,t.sequenceNumber,i,n)}function kS(e){var t=l3({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jD(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wG=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return eR(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Rl(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return eR(t).put({bundleId:(r=n).id,createTime:Al(jt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return tR(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:kS(i.bundledQuery),readTime:Rl(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return tR(t).put(function(r){return{name:r.name,readTime:Al(jt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function eR(e){return Yn(e,kl.store)}function tR(e){return Yn(e,Cl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _G=function(){function e(){this.Bt=new CS}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),CS=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new xt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new xt(Pe.comparator)).toArray()},e}(),EG=function(){function e(){this.qt=new CS}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:si(s)};return nR(t).put(a)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[PD(n),""],!1,!0);return nR(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(to(c.parent))}return r})},e}();function nR(e){return Yn(e,va.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(e,t,n){var r=e.store(He.store),i=e.store(cn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(_,S,C){return l++,C.delete()});s.push(c.next(function(){ue(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],y=cn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return V.waitFor(s).next(function(){return h})}function Cg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw te();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);var bG=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ue(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Po(t).$t({index:He.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Ru(t),l=Po(t);return l.add({}).next(function(c){ue(typeof c=="number");for(var h=new SS(c,n,r,i),p=function(b,T,I){var P=I.baseMutations.map(function(L){return kg(b.Lt,L)}),D=I.mutations.map(function(L){return kg(b.Lt,L)});return new He(T,I.batchId,I.localWriteTime.toMillis(),P,D)}(s.R,s.userId,h),v=[],m=new xt(function(b,T){return be(b.canonicalString(),T.canonicalString())}),y=0,_=i;y<_.length;y++){var S=_[y],C=cn.key(s.userId,S.key.path,c);m=m.add(S.key.path.popLast()),v.push(l.put(p)),v.push(a.put(C,cn.PLACEHOLDER))}return m.forEach(function(b){v.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),V.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Po(t).get(n).next(function(i){return i?(ue(i.userId===r.userId),Au(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?V.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Po(t).$t({index:He.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ue(c.batchId>=i),a=Au(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Po(t).$t({index:He.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Po(t).Nt(He.userMutationsIndex,r).next(function(i){return i.map(function(s){return Au(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=cn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Ru(t).$t({range:s},function(l,c,h){var p=l[0],v=l[1],m=l[2],y=to(v);if(p===r.userId&&n.path.isEqual(y))return Po(t).get(m).next(function(_){if(!_)throw te();ue(_.userId===r.userId),a.push(Au(r.R,_))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new xt(be),s=[];return n.forEach(function(a){var l=cn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Ru(t).$t({range:c},function(p,v,m){var y=p[0],_=p[1],S=p[2],C=to(_);y===r.userId&&a.path.isEqual(C)?i=i.add(S):m.done()});s.push(h)}),V.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=cn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new xt(be);return Ru(t).$t({range:l},function(h,p,v){var m=h[0],y=h[1],_=h[2],S=to(y);m===r.userId&&i.isPrefixOf(S)?S.length===s&&(c=c.add(_)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Po(t).get(a).next(function(l){if(l===null)throw te();ue(l.userId===r.userId),i.push(Au(r.R,l))}))}),V.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return y3(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var i=IDBKeyRange.lowerBound(cn.prefixForUser(n.userId)),s=[];return Ru(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=to(a[1]);s.push(h)}else c.done()}).next(function(){ue(s.length===0)})})},e.prototype.containsKey=function(t,n){return w3(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return _3(t).get(this.userId).next(function(r){return r||new is(n.userId,-1,"")})},e}();function w3(e,t,n){var r=cn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Ru(e).$t({range:s,Ft:!0},function(l,c,h){var p=l[0],v=l[1];l[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Po(e){return Yn(e,He.store)}function Ru(e){return Yn(e,cn.store)}function _3(e){return Yn(e,is.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ng=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),TG=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Ng(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return ye.fromTimestamp(new Gn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ku(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ue(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return ku(t).$t(function(l,c){var h=hf(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return V.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ku(t).$t(function(r,i){var s=hf(i);n(s)})},e.prototype.Xt=function(t){return iR(t).get(nr.key).next(function(n){return ue(n!==null),n})},e.prototype.Zt=function(t,n){return iR(t).put(nr.key,n)},e.prototype.te=function(t,n){return ku(t).put(m3(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=nd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ku(t).$t({range:i,index:qn.queryTargetsIndexName},function(a,l,c){var h=hf(l);Um(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Vo(t);return n.forEach(function(l){var c=si(l.path);s.push(a.put(new Yt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),V.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Vo(t);return V.forEach(n,function(a){var l=si(a.path);return V.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Vo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vo(t),s=Me();return i.$t({range:r,Ft:!0},function(a,l,c){var h=to(a[1]),p=new ne(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=si(n.path),i=IDBKeyRange.bound([r],[PD(r)],!1,!0),s=0;return Vo(t).$t({index:Yt.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ku(t).get(n).next(function(r){return r?hf(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){return Yn(e,qn.store)}function iR(e){return Yn(e,nr.store)}function Vo(e){return Yn(e,Yt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e){return A(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==h3)throw e;return z("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=be(n,i);return a===0?be(r,s):a}var SG=function(){function e(t){this.ne=t,this.buffer=new xt(oR),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();oR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),IG=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;z("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ka(i=s.sent())?(z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ga(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),kG=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(or.o);var i=new SG(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(rR)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),rR):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),RE()<=we.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),CG=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new kG(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return $p(t,r)},e.prototype.removeReference=function(t,n,r){return $p(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return $p(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return _3(r).Ot(function(a){return w3(r,a,i).next(function(l){return l&&(s=!0),V.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),Vo(t).delete([0,si(l.path)])})});s.push(h)}}).next(function(){return V.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return $p(t,n)},e.prototype.we=function(t,n){var r,i=Vo(t),s=or.o;return i.$t({index:Yt.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==or.o&&n(new ne(to(r)),s),s=p,r=h):s=or.o}).next(function(){s!==or.o&&n(new ne(to(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function $p(e,t){return Vo(e).put(function(n,r){return new Yt(0,si(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ha(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return LD(this.inner)},e}(),E3=function(){function e(){this.changes=new Yl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:ye.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:nn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),NG=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Fo(t).put(qp(n),r)},e.prototype.removeEntry=function(t,n){var r=Fo(t),i=qp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Fo(t).get(qp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Fo(t).get(qp(n)).next(function(i){return{document:r.ye(n,i),size:Cg(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Ar();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Ar(),s=new yn(ne.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,Cg(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Fo(t).$t({range:i},function(l,c,h){for(var p=ne.fromSegments(l);a&&ne.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Ar(),a=n.path.length+1,l={};if(r.isEqual(ye.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=IS(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=at.collectionReadTimeIndex}return Fo(t).$t(l,function(v,m,y){if(v.length===a){var _=FE(i.R,m);n.path.isPrefixOf(_.key.path)?id(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new AG(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return sR(t).get(Si.key).next(function(n){return ue(!!n),n})},e.prototype.me=function(t,n){return sR(t).put(Si.key,n)},e.prototype.ye=function(t,n){if(n){var r=FE(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(ye.min()))return r}return nn.newInvalidDocument(t)},e}(),AG=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Yl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new xt(function(l,c){return be(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=ZA(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=Cg(p);s+=v-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=ZA(r.Ie.R,nn.newNoDocument(l,ye.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),V.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(E3);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(e){return Yn(e,Si.store)}function Fo(e){return Yn(e,at.store)}function qp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RG=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ue(r<i&&r>=0&&i<=11);var a=new p3("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(tr.store)}(t),function(c){c.createObjectStore(is.store,{keyPath:is.keyPath}),c.createObjectStore(He.store,{keyPath:He.keyPath,autoIncrement:!0}).createIndex(He.userMutationsIndex,He.userMutationsKeyPath,{unique:!0}),c.createObjectStore(cn.store)}(t),aR(t),function(c){c.createObjectStore(at.store)}(t));var l=V.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Yt.store),c.deleteObjectStore(qn.store),c.deleteObjectStore(nr.store)}(t),aR(t)),l=l.next(function(){return function(c){var h=c.store(nr.store),p=new nr(0,0,ye.min().toTimestamp(),0);return h.put(nr.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(He.store).Nt().next(function(p){c.deleteObjectStore(He.store),c.createObjectStore(He.store,{keyPath:He.keyPath,autoIncrement:!0}).createIndex(He.userMutationsIndex,He.userMutationsKeyPath,{unique:!0});var v=h.store(He.store),m=p.map(function(y){return v.put(y)});return V.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(io.store,{keyPath:io.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Si.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(at.store);h.createIndex(at.readTimeIndex,at.readTimeIndexPath,{unique:!1}),h.createIndex(at.collectionReadTimeIndex,at.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(kl.store,{keyPath:kl.keyPath})})(t),function(c){c.createObjectStore(Cl.store,{keyPath:Cl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(at.store).$t(function(r,i){n+=Cg(i)}).next(function(){var r=new Si(n);return t.store(Si.store).put(Si.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(is.store),i=t.store(He.store);return r.Nt().next(function(s){return V.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(He.userMutationsIndex,l).next(function(c){return V.forEach(c,function(h){ue(h.userId===a.userId);var p=Au(n.R,h);return y3(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Yt.store),r=t.store(at.store);return t.store(nr.store).get(nr.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new Pe(a),h=function(p){return[0,si(p)]}(c);s.push(n.get(h).next(function(p){return p?V.resolve():function(v){return n.put(new Yt(0,si(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return V.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(va.store,{keyPath:va.keyPath});var r=n.store(va.store),i=new CS,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:si(c)})}};return n.store(at.store).$t({Ft:!0},function(a,l){var c=new Pe(a);return s(c.popLast())}).next(function(){return n.store(cn.store).$t({Ft:!0},function(a,l){a[0];var c=a[1];a[2];var h=to(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(qn.store);return r.$t(function(i,s){var a=hf(s),l=m3(n.R,a);return r.put(l)})},e}();function aR(e){e.createObjectStore(Yt.store,{keyPath:Yt.keyPath}).createIndex(Yt.documentTargetsIndex,Yt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(nr.store)}var Pw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xG=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new B(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CG(this,i),this.Le=n+"main",this.R=new v3(c),this.Be=new Nl(this.Le,11,new RG(this.R)),this.qe=new TG(this.referenceDelegate,this.R),this.Ut=new EG,this.Ue=function(v,m){return new NG(v,m)}(this.R,this.Ut),this.Ke=new wG,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new B(O.FAILED_PRECONDITION,Pw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new or(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return A(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return A(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return zp(n).put(new io(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ka(n))return z("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return rf(t).get(tr.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return zp(t).delete(this.clientId)},e.prototype.nn=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Yn(l,io.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(m){return p.indexOf(m)===-1});return V.forEach(v,function(m){return c.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):rf(t).get(tr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new B(O.FAILED_PRECONDITION,Pw);return!1}}return!(!n.networkEnabled||!n.inForeground)||zp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&z("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tr.store,io.store],function(r){var i=new JA(r,or.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return zp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return bG.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,vG,function(l){return s=new JA(l,i.Ne?i.Ne.next():or.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw wt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new B(O.FAILED_PRECONDITION,h3);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return rf(t).get(tr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new B(O.FAILED_PRECONDITION,Pw)})},e.prototype.Ze=function(t){var n=new tr(this.clientId,this.allowTabSynchronization,Date.now());return rf(t).put(tr.key,n)},e.yt=function(){return Nl.yt()},e.prototype.Xe=function(t){var n=this,r=rf(t);return r.get(tr.key).next(function(i){return n.tn(i)?(z("IndexedDbPersistence","Releasing primary lease."),r.delete(tr.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(wt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),v7()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return z("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return wt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){wt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function rf(e){return Yn(e,tr.store)}function zp(e){return Yn(e,io.store)}function NS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var PG=function(e,t){this.progress=e,this.wn=t},b3=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):yS(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ne(n)).next(function(r){var i=DE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=DE();return this.Ut.getCollectionParents(t,s).next(function(l){return V.forEach(l,function(c){var h=function(p,v){return new mo(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],m=0,y=v.mutations;m<y.length;m++){var _=y[m],S=_.key,C=i.get(S);C==null&&(C=nn.newInvalidDocument(S),i=i.insert(S,C)),OE(_,C,v.localWriteTime),C.isFoundDocument()||(i=i.remove(S))}})}).next(function(){return i.forEach(function(l,c){id(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Me(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof Es&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),LG=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Me(),i=Me(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),T3=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(ye.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(vv(n)||Ig(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(RE()<=we.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LE(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new xt($D(t));return n.forEach(function(i,s){id(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return RE()<=we.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",LE(n)),this.Sn.getDocumentsMatchingQuery(t,n,ye.min())},e}(),OG=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new yn(be),this.Fn=new Yl(function(s){return nd(s)},Um),this.$n=ye.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new b3(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(e,t,n,r){return new OG(e,t,n,r)}function I3(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=W(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new b3(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],m=Me(),y=0,_=c;y<_.length;y++){var S=_[y];p.push(S.batchId);for(var C=0,b=S.mutations;C<b.length;C++){var T=b[C];m=m.add(T.key)}}for(var I=0,P=h;I<P.length;I++){var D=P[I];v.push(D.batchId);for(var L=0,j=D.mutations;L<j.length;L++){var F=j[L];m=m.add(F.key)}}return i.pn(l,m).next(function(le){return{Ln:le,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function DG(e,t){var n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,v=p.keys(),m=V.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(_){var S=c.docVersions.get(y);ue(S!==null),_.version.compareTo(S)<0&&(p.applyToRemoteDocument(_,c),_.isValidDocument()&&h.addEntry(_,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function k3(e){var t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function MG(e,t){var n=W(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var l=[];t.targetChanges.forEach(function(p,v){var m=i.get(v);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,_),function(S,C,b){return ue(C.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,_,p)&&l.push(n.qe.updateTargetData(s,_))}}});var c=Ar();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(C3(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(ye.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return V.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=i,s})}function C3(e,t,n,r,i){var s=Me();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Ar();return n.forEach(function(c,h){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(ye.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):z("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function FG(e,t){var n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function xl(e,t){var n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,V.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new $m(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Pl(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=W(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ka(a=l.sent()))throw a;return z("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Ag(e,t,n){var r=W(e),i=ye.min(),s=Me();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=W(l),v=p.Fn.get(h);return v!==void 0?V.resolve(p.kn.get(v)):p.qe.getTargetData(c,h)}(r,a,Or(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:ye.min(),n?s:Me())}).next(function(l){return{documents:l,Bn:s}})})}function N3(e,t){var n=W(e),r=W(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function A3(e){var t=W(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=W(r),l=Ar(),c=IS(s),h=Fo(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:at.readTimeIndex,range:p},function(v,m){var y=FE(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:g3(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function UG(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=W(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Fo(i),a=ye.min();return s.$t({index:at.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=g3(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function BG(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(_){switch(_.label){case 0:for(i=W(e),s=Me(),a=Ar(),l=ZD(),c=0,h=n;c<h.length;c++)p=h[c],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),l=l.insert(v,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,xl(i,function(S){return Or(Ql(Pe.fromString("__bundle__/docs/"+S)))}(r))];case 1:return y=_.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(S){return C3(S,m,a,ye.min(),l).next(function(C){return m.apply(S),C}).next(function(C){return i.qe.removeMatchingKeysForTargetId(S,y.targetId).next(function(){return i.qe.addMatchingKeys(S,s,y.targetId)}).next(function(){return i.Mn.En(S,C)}).next(function(){return C})})})]}})})}function jG(e,t,n){return n===void 0&&(n=Me()),A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,xl(e,Or(kS(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=W(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=jt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(xn.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VG=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:jt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:kS(r.bundledQuery),readTime:jt(r.readTime)}}(n)),V.resolve()},e}(),AS=function(){function e(){this.Wn=new xt(Ot.Gn),this.zn=new xt(Ot.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Ot(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Ot(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ne(new Pe([])),i=new Ot(r,t),s=new Ot(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ne(new Pe([])),r=new Ot(n,t),i=new Ot(n,t+1),s=Me();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Ot(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Ot=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ne.comparator(t.key,n.key)||be(t.ns,n.ns)},e.Hn=function(t,n){return be(t.ns,n.ns)||ne.comparator(t.key,n.key)},e}(),$G=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new xt(Ot.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new SS(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Ot(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return V.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return V.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),V.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new xt(be);return n.forEach(function(s){var a=new Ot(s,0),l=new Ot(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),V.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));var a=new Ot(new ne(s),0),l=new xt(be);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),V.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ue(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return V.forEach(n.mutations,function(s){var a=new Ot(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Ot(n,0),i=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),qG=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new yn(ne.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():nn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Ar();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():nn.newInvalidDocument(s))}),V.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Ar(),s=new ne(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||id(n,p)&&(i=i.insert(p.key,p.clone()))}return V.resolve(i)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new zG(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),zG=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return K(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),V.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(E3),HG=function(){function e(t){this.persistence=t,this.ds=new Yl(function(n){return nd(n)},Um),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ws=0,this._s=new AS,this.targetCount=0,this.ys=Ng.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Ng(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),V.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),V.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),WG=function(){function e(t,n){var r=this;this.gs={},this.Ne=new or(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new HG(this),this.Ut=new _G,this.Ue=function(i,s){return new qG(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new v3(n),this.Ke=new VG(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new $G(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;z("MemoryPersistence","Starting transaction:",t);var s=new KG(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),KG=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return K(t,e),t}(d3),GG=function(){function e(t){this.persistence=t,this.As=new AS,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw te()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(i){var s=ne.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Kt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e,t){return"firestore_clients_"+e+"_"+t}function lR(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Lw(e,t){return"firestore_targets_"+e+"_"+t}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");var cR=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new B(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(wt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ow=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new B(i.error.code,i.error.message)),s?new e(t,i.state,r):(wt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),fR=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Vm(),a=0;i&&a<r.activeTargetIds.length;++a)i=MD(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(wt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),QG=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(wt("SharedClientState","Failed to parse online state: "+t),null)},e}(),UE=function(){function e(){this.activeTargetIds=Vm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Dw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new yn(be),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=uR(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new UE),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(uR(this.persistenceKey,i)))&&(a=fR.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)v=p[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Lw(this.persistenceKey,t));if(r){var i=Ow.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Lw(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return z("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){z("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){z("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(z("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var m=or.o;if(v!=null)try{var y=JSON.parse(v);ue(typeof y=="number"),m=y}catch(_){wt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==or.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new cR(this.currentUser,t,n,r),s=lR(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=lR(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Lw(this.persistenceKey,t),s=new Ow(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return fR.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return cR.Vs(new Kt(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Ow.Vs(i,n)},e.prototype.js=function(t){return QG.Vs(t)},e.prototype.ii=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(z("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Vm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),R3=function(){function e(){this.li=new UE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new UE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),YG=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),hR=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),XG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},JG=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),ZG=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return K(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,l){var c=new RK;c.listenOnce(CK.COMPLETE,function(){try{switch(c.getLastErrorCode()){case xw.NO_ERROR:var p=c.getResponseJson();z("Connection","XHR received:",JSON.stringify(p)),a(p);break;case xw.TIMEOUT:z("Connection",'RPC "'+n+'" timed out'),l(new B(O.DEADLINE_EXCEEDED,"Request time out"));break;case xw.HTTP_ERROR:var v=c.getStatus();if(z("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var S=_.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(S)>=0?S:O.UNKNOWN}(m.status);l(new B(y,m.message))}else l(new B(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new B(O.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{z("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=IK(),a=kK(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new AK({})),this.ki(l.initMessageHeaders,r),tT()||QP()||h7()||d7()||p7()||nT()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");z("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,v=!1,m=new JG({Ei:function(_){v?z("Connection","Not sending because WebChannel is closed:",_):(p||(z("Connection","Opening WebChannel transport."),h.open(),p=!0),z("Connection","WebChannel sending:",_),h.send(_))},Ti:function(){return h.close()}}),y=function(_,S,C){_.listen(S,function(b){try{C(b)}catch(T){setTimeout(function(){throw T},0)}})};return y(h,jp.EventType.OPEN,function(){v||z("Connection","WebChannel transport opened.")}),y(h,jp.EventType.CLOSE,function(){v||(v=!0,z("Connection","WebChannel transport closed"),m.Vi())}),y(h,jp.EventType.ERROR,function(_){v||(v=!0,vh("Connection","WebChannel transport errored:",_),m.Vi(new B(O.UNAVAILABLE,"The operation could not be completed")))}),y(h,jp.EventType.MESSAGE,function(_){var S;if(!v){var C=_.data[0];ue(!!C);var b=C,T=b.error||((S=b[0])===null||S===void 0?void 0:S.error);if(T){z("Connection","WebChannel received error:",T);var I=T.status,P=function(L){var j=gt[L];if(j!==void 0)return JD(j)}(I),D=T.message;P===void 0&&(P=O.INTERNAL,D="Unknown error status: "+I+" with message "+T.message),v=!0,m.Vi(new B(P,D)),h.close()}else z("Connection","WebChannel received:",C),m.Si(C)}}),y(a,NK.STAT_EVENT,function(_){_.stat===AA.PROXY?z("Connection","Detected buffering proxy"):_.stat===AA.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);z("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(l){return z("RestConnection","Received: ",l),l},function(l){throw vh("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=XG[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return typeof window<"u"?window:null}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e){return new iG(e,!0)}var RS=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&z("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),P3=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new RS(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(wt(n.toString()),wt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===O.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new B(O.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return A(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return z("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),eQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return K(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:te()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(C,b){return C.I?(ue(b===void 0||typeof b=="string"),xn.fromBase64String(b||"")):(ue(b===void 0||b instanceof Uint8Array),xn.fromUint8Array(b||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(C){var b=C.code===void 0?O.UNKNOWN:JD(C.code);return new B(b,C.message||"")}(m);l=new t3(c,h,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=Ni(s,c.document.name),p=jt(c.document.updateTime);var m=new rr({mapValue:{fields:c.document.fields}}),y=(v=nn.newFoundDocument(h,p,m),c.targetIds||[]),_=c.removedTargetIds||[];l=new mv(y,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=Ni(s,c.document),p=c.readTime?jt(c.readTime):ye.min(),m=nn.newNoDocument(h,p),v=c.removedTargetIds||[],l=new mv([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=Ni(s,c.document),p=c.removedTargetIds||[],l=new mv([],p,h,null);else{if(!("filter"in a))return te();a.filter;var S=a.filter;S.targetId,c=S.count||0,h=new QK(c),p=S.targetId,l=new e3(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return ye.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ye.min():a.readTime?jt(a.readTime):ye.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Eh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=Tg(c)?{documents:a3(s,c)}:{query:u3(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=n3(s,a.resumeToken):a.snapshotVersion.compareTo(ye.min())>0&&(l.readTime=wh(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return te()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Eh(this.R),r.removeTarget=n,this.cr(r)},t}(P3),tQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return K(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ue(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ue(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?jt(c.updateTime):jt(h);return p.isEqual(ye.min())&&(p=jt(h)),new WK(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=jt(n.commitTime);return this.listener.Tr(i,r)}return ue(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Eh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return kg(r.R,s)})};this.cr(i)},t}(P3),nQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return K(t,e),t.prototype.br=function(){if(this.Rr)throw new B(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new B(O.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new B(O.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),rQ=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(wt(n),this.Vr=!1):z("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),iQ=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return bs(this)?(z("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return A(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=W(c)).Or.add(4),[4,Xl(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,ld(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new rQ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!bs(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Xl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function qm(e,t){var n=W(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),LS(n)?PS(n):Zl(n).er()&&xS(n,t))}function bh(e,t){var n=W(e),r=Zl(n);n.$r.delete(t),r.er()&&L3(n,t),n.$r.size===0&&(r.er()?r.ir():bs(n)&&n.Br.set("Unknown"))}function xS(e,t){e.qr.U(t.targetId),Zl(e).mr(t)}function L3(e,t){e.qr.U(t),Zl(e).yr(t)}function PS(e){e.qr=new tG({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Zl(e).start(),e.Br.Sr()}function LS(e){return bs(e)&&!Zl(e).tr()&&e.$r.size>0}function bs(e){return W(e).Or.size===0}function O3(e){e.qr=void 0}function oQ(e){return A(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){xS(e,n)}),[2]})})}function sQ(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){return O3(e),LS(e)?(e.Br.Nr(t),PS(e)):e.Br.set("Unknown"),[2]})})}function aQ(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof t3&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return A(this,void 0,void 0,function(){var h,p,v,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,v=c.targetIds,y.label=1;case 1:return p<v.length?(m=v[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Rg(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof mv?e.qr.X(t):t instanceof e3?e.qr.rt(t):e.qr.et(t),n.isEqual(ye.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,k3(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(v);m&&l.$r.set(v,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var v=l.$r.get(p);if(v){l.$r.set(p,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),L3(l,p);var m=new $m(v.target,p,1,v.sequenceNumber);xS(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return z("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Rg(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Rg(e,t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Ka(t))throw t;return e.Or.add(1),[4,Xl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return k3(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return z("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,ld(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function D3(e,t){return t().catch(function(n){return Rg(e,n,t)})}function Jl(e){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=W(e),n=ps(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return bs(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,FG(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var h=ps(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Rg(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return M3(t)&&F3(t),[2]}})})}function M3(e){return bs(e)&&!ps(e).tr()&&e.Fr.length>0}function F3(e){ps(e).start()}function uQ(e){return A(this,void 0,void 0,function(){return N(this,function(t){return ps(e).Ar(),[2]})})}function lQ(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=ps(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function cQ(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=yG.from(r,t,n),[4,D3(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Jl(e)];case 2:return s.sent(),[2]}})})}function fQ(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&ps(e).pr?[4,function(r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return XD(a=i.code)&&a!==O.ABORTED?(s=r.Fr.shift(),ps(r).sr(),[4,D3(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Jl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return M3(e)&&F3(e),[2]}})})}function BE(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(e),t?(n.Or.delete(2),[4,ld(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Xl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=W(n);return s.br(),new eQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:oQ.bind(null,e),Ri:sQ.bind(null,e),_r:aQ.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),LS(e)?PS(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),O3(e),r.label=3;case 3:return[2]}})})})),e.Ur}function ps(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=W(n);return s.br(),new tQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:uQ.bind(null,e),Ri:fQ.bind(null,e),Ir:lQ.bind(null,e),Tr:cQ.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Jl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(z("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var hQ=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ec(e,t){if(wt("AsyncQueue",t+": "+e),Ka(e))return new B(O.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U3=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ne.comparator(n.key,r.key)}:function(n,r){return ne.comparator(n.key,r.key)},this.keyedMap=DE(),this.sortedSet=new yn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),dR=function(){function e(){this.Qr=new yn(ne.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):te():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),xg=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,U3.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),dQ=function(){this.Wr=void 0,this.listeners=[]},pQ=function(){this.queries=new Yl(function(e){return VD(e)},rd),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=W(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new dQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=ec(l,"Initialization of query '"+LE(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&MS(n),[2]}})})}function DS(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=W(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function vQ(e,t){for(var n=W(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&MS(n)}function gQ(e,t,n){var r=W(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function MS(e){e.Gr.forEach(function(t){t.next()})}var FS=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new xg(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=xg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),mQ=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),pR=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Ni(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?s3(this.R,t.document,!1):nn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return jt(t)},e}(),yQ=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=B3(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new pR(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],v=(n.get(p)||Me()).add(l);n.set(p,v)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,BG(this.localStore,new pR(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,jG(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new PG(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j3=function(e){this.key=e},V3=function(e){this.key=e},$3=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Me(),this.mutatedKeys=Me(),this.lo=$D(t),this.fo=new U3(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new dR,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=vv(this.query)&&s.size===this.query.limit?s.last():null,p=Ig(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),S=id(r.query,y)?y:null,C=!!_&&r.mutatedKeys.has(_.key),b=!!S&&(S.hasLocalMutations||r.mutatedKeys.has(S.key)&&S.hasCommittedMutations),T=!1;_&&S?_.data.isEqual(S.data)?C!==b&&(i.track({type:3,doc:S}),T=!0):r.yo(_,S)||(i.track({type:2,doc:S}),T=!0,(h&&r.lo(S,h)>0||p&&r.lo(S,p)<0)&&(c=!0)):!_&&S?(i.track({type:0,doc:S}),T=!0):_&&!S&&(i.track({type:1,doc:_}),T=!0,(h||p)&&(c=!0)),T&&(S?(l=l.add(S),a=b?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),vv(this.query)||Ig(this.query))for(;l.size>this.query.limit;){var v=vv(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,y){var _=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return _(m)-_(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new xg(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new dR,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Me(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new V3(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new j3(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Me();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return xg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),wQ=function(e,t,n){this.query=e,this.targetId=t,this.view=n},_Q=function(e){this.key=e,this.bo=!1},EQ=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Yl(function(l){return VD(l)},rd),this.Vo=new Map,this.So=new Set,this.Do=new yn(ne.comparator),this.Co=new Map,this.No=new AS,this.xo={},this.ko=new Map,this.Fo=Ng.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function bQ(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=$S(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,xl(n.localStore,Or(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,US(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&qm(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function US(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.Oo=function(v,m,y){return function(_,S,C,b){return A(this,void 0,void 0,function(){var T,I,P;return N(this,function(D){switch(D.label){case 0:return T=S.view._o(C),T.Nn?[4,Ag(_.localStore,S.query,!1).then(function(L){var j=L.documents;return S.view._o(j,T)})]:[3,2];case 1:T=D.sent(),D.label=2;case 2:return I=b&&b.targetChanges.get(S.targetId),P=S.view.applyChanges(T,_.isPrimaryClient,I),[2,(jE(_,S.targetId,P.To),P.snapshot)]}})})}(e,v,m,y)},[4,Ag(e.localStore,t,!0)];case 1:return i=p.sent(),s=new $3(t,i.Bn),a=s._o(i.documents),l=ES.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),jE(e,n,c.To),h=new wQ(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function TQ(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=W(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!rd(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),bh(n.remoteStore,r.targetId),Ll(n,r.targetId)}).catch(Ga)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ll(n,r.targetId),[4,Pl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function SQ(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=qS(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,v=W(c),m=Gn.now(),y=h.reduce(function(_,S){return _.add(S.key)},Me());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,y).next(function(S){p=S;for(var C=[],b=0,T=h;b<T.length;b++){var I=T[b],P=GK(I,p.get(I.key));P!=null&&C.push(new Es(I.key,P,FD(P.value.mapValue),fn.exists(!0)))}return v._n.addMutationBatch(_,m,C,h)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var v=c.xo[c.currentUser.toKey()];v||(v=new yn(be)),v=v.insert(h,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,yo(r,i.changes)];case 3:return l.sent(),[4,Jl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=ec(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function q3(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=W(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,MG(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ue(l.bo):s.removedDocuments.size>0&&(ue(l.bo),l.bo=!1))}),[4,yo(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ga(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function vR(e,t,n){var r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=W(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(c=!0)}),c&&MS(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function IQ(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=W(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new yn(ne.comparator)).insert(s,nn.newNoDocument(s,ye.min())),l=Me().add(s),c=new _S(ye.min(),new Map,new xt(be),a,l),[4,q3(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),VS(r),[3,4];case 2:return[4,Pl(r.localStore,t,!1).then(function(){return Ll(r,t,n)}).catch(Ga)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function kQ(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=W(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,DG(n.localStore,t)];case 2:return i=s.sent(),jS(n,r,null),BS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,yo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function CQ(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=W(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=W(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(v){return ue(v!==null),p=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),jS(r,t,n),BS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,yo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function NQ(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:bs((n=W(e)).remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=W(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=l.sent(),a=ec(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function BS(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function jS(e,t,n){var r=W(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ll(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||z3(e,a)})}function z3(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(bh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),VS(e))}function jE(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof j3?(e.No.addReference(s.key,t),AQ(e,s)):s instanceof V3?(z("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||z3(e,s.key)):te()}}function AQ(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(z("SyncEngine","New document in limbo: "+n),e.So.add(r),VS(e))}function VS(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ne(Pe.fromString(t)),r=e.Fo.next();e.Co.set(r,new _Q(n)),e.Do=e.Do.insert(n,r),qm(e.remoteStore,new $m(Or(Ql(n.path)),r,2,or.o))}}function yo(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=W(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=LG.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return A(this,void 0,void 0,function(){var p,v,m,y,_,S,C,b,T;return N(this,function(I){switch(I.label){case 0:p=W(c),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return V.forEach(h,function(D){return V.forEach(D.bn,function(L){return p.persistence.referenceDelegate.addReference(P,D.targetId,L)}).next(function(){return V.forEach(D.vn,function(L){return p.persistence.referenceDelegate.removeReference(P,D.targetId,L)})})})})];case 2:return I.sent(),[3,4];case 3:if(!Ka(v=I.sent()))throw v;return z("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)_=y[m],S=_.targetId,_.fromCache||(C=p.kn.get(S),b=C.snapshotVersion,T=C.withLastLimboFreeSnapshotVersion(b),p.kn=p.kn.insert(S,T));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function RQ(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=W(e)).currentUser.isEqual(t)?[3,3]:(z("SyncEngine","User change. New user:",t.toKey()),[4,I3(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new B(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,yo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function xQ(e,t){var n=W(e),r=n.Co.get(t);if(r&&r.bo)return Me().add(r.key);var i=Me(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function PQ(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Ag((n=W(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&jE(n,t.targetId,i.To),i)]}})})}function LQ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,A3((t=W(e)).localStore).then(function(r){return yo(t,r)})]})})}function OQ(e,t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=W(l),p=W(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(m){return m?h.Mn.pn(v,m):V.resolve(null)})})}((i=W(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Jl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(jS(i,t,r||null),BS(i,t),function(l,c){W(W(l)._n).Gt(c)}(i.localStore,t)):te(),a.label=4;case 4:return[4,yo(i,s)];case 5:return a.sent(),[3,7];case 6:z("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function DQ(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return $S(n=W(e)),qS(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gR(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,BE(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],qm(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return Ll(n,m),Pl(n.localStore,m,!0)}),bh(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,gR(n,c)];case 5:return p.sent(),function(v){var m=W(v);m.Co.forEach(function(y,_){bh(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new yn(ne.comparator)}(n),n.$o=!1,[4,BE(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function gR(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m,y,_,S,C;return N(this,function(b){switch(b.label){case 0:r=W(e),i=[],s=[],a=0,l=t,b.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,xl(r.localStore,Or(p[0]))]:[3,7]):[3,13];case 2:h=b.sent(),v=0,m=p,b.label=3;case 3:return v<m.length?(y=m[v],_=r.Po.get(y),[4,PQ(r,_)]):[3,6];case 4:(S=b.sent()).snapshot&&s.push(S.snapshot),b.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,N3(r.localStore,c)];case 8:return C=b.sent(),[4,xl(r.localStore,C)];case 9:return h=b.sent(),[4,US(r,H3(C),c,!1)];case 10:b.sent(),b.label=11;case 11:i.push(h),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function H3(e){return BD(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MQ(e){var t=W(e);return W(W(t.localStore).persistence).fn()}function FQ(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=W(e)).$o?(z("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,A3(i.localStore)];case 3:return s=l.sent(),a=_S.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,yo(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Pl(i.localStore,t,!0)];case 6:return l.sent(),Ll(i,t,r),[3,8];case 7:te(),l.label=8;case 8:return[2]}})})}function UQ(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=$S(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(z("SyncEngine","Adding an already active target "+a),[3,5]):[4,N3(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,xl(r.localStore,l)];case 3:return c=y.sent(),[4,US(r,H3(l),c.targetId,!1)];case 4:y.sent(),qm(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(_){return N(this,function(S){switch(S.label){case 0:return r.Vo.has(_)?[4,Pl(r.localStore,_,!1).then(function(){bh(r.remoteStore,_),Ll(r,_)}).catch(Ga)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(m=v[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function $S(e){var t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=q3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IQ.bind(null,t),t.vo._r=vQ.bind(null,t.eventManager),t.vo.Mo=gQ.bind(null,t.eventManager),t}function qS(e){var t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kQ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CQ.bind(null,t),t}function BQ(e,t,n){var r=W(e);(function(i,s,a){return A(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(_,S){var C=W(_),b=jt(S.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",function(T){return C.Ke.getBundleMetadata(T,S.id)}).then(function(T){return!!T&&T.createTime.compareTo(b)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(l)))];case 4:return a._updateProgress(B3(l)),c=new yQ(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,yo(i,v.wn,void 0)];case 12:return y.sent(),[4,function(_,S){var C=W(_);return C.persistence.runTransaction("Save bundle","readwrite",function(b){return C.Ke.saveBundleMetadata(b,S)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return vh("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var W3=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=ud(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return S3(this.persistence,new T3,t.initialUser,this.R)},e.prototype.qo=function(t){return new WG(GG.bs,this.R)},e.prototype.Bo=function(t){return new R3},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),K3=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return K(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,UG(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,qS(this.Qo.syncEngine)];case 4:return i.sent(),[4,Jl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return S3(this.persistence,new T3,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new IG(r,n.asyncQueue)},t.prototype.qo=function(n){var r=NS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new xG(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,x3(),yv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new R3},t}(W3),jQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return K(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Dw?(this.sharedClientState.syncEngine={ui:OQ.bind(null,r),ai:FQ.bind(null,r),hi:UQ.bind(null,r),fn:MQ.bind(null,r),ci:LQ.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,DQ(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=x3();if(!Dw.yt(r))throw new B(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=NS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Dw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(K3),VE=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return vR(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=RQ.bind(null,this.syncEngine),[4,BE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new pQ},e.prototype.createDatastore=function(t){var n,r=ud(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new ZG(n));return function(s,a,l){return new nQ(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return vR(l.syncEngine,c,0)},a=hR.yt()?new hR:new YG,new iQ(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new EQ(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=W(t),z("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Xl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return A(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return A(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),VQ=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new mn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new mQ(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),$Q=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new B(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return A(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return l=W(s),c=Eh(l.R)+"/documents",h={documents:a.map(function(_){return _h(l.R,_)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(_){var S=function(C,b){return"found"in b?function(T,I){ue(!!I.found),I.found.name,I.found.updateTime;var P=Ni(T,I.found.name),D=jt(I.found.updateTime),L=new rr({mapValue:{fields:I.found.fields}});return nn.newFoundDocument(P,D,L)}(C,b):"missing"in b?function(T,I){ue(!!I.missing),ue(!!I.readTime);var P=Ni(T,I.missing),D=jt(I.readTime);return nn.newNoDocument(P,D)}(C,b):te()}(l.R,_);v.set(S.key.toString(),S)}),m=[],[2,(a.forEach(function(_){var S=v.get(_.toString());ue(!!S),m.push(S)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new ad(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ne.fromPath(s);n.mutations.push(new wS(a,n.precondition(a)))}),[4,function(i,s){return A(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=W(i),l=Eh(a.R)+"/documents",c={writes:s.map(function(p){return kg(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw te();n=ye.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new B(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?fn.updateTime(n):fn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ye.min()))throw new B(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(n)}return fn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),qQ=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new RS(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return A(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new $Q(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!XD(n)}return!1},e}(),zQ=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Kt.UNAUTHENTICATED,this.clientId=xD.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return A(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return z("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new B(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=ec(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(e,t){return A(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,I3(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Q3(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,zS(e)];case 1:return n=i.sent(),z("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return A(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=W(a)).asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials"),h=bs(c),c.Or.add(3),[4,Xl(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,ld(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function zS(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(z("FirestoreClient","Using default OfflineComponentProvider"),[4,G3(e,new W3)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Hm(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(z("FirestoreClient","Using default OnlineComponentProvider"),[4,Q3(e,new VE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function yR(e){return zS(e).then(function(t){return t.persistence})}function HS(e){return zS(e).then(function(t){return t.localStore})}function wR(e){return Hm(e).then(function(t){return t.remoteStore})}function WS(e){return Hm(e).then(function(t){return t.syncEngine})}function Ol(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,Hm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=bQ.bind(null,t.syncEngine),n.onUnlisten=TQ.bind(null,t.syncEngine),n)]}})})}function _R(e,t,n){var r=this;n===void 0&&(n={});var i=new mn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new zm({next:function(_){c.enqueueAndForget(function(){return DS(l,y)});var S=_.docs.has(h);!S&&_.fromCache?v.reject(new B(O.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&p&&p.source==="server"?v.reject(new B(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new FS(Ql(h.path),m,{includeMetadataChanges:!0,so:!0});return OS(l,y)},[4,Ol(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function ER(e,t,n){var r=this;n===void 0&&(n={});var i=new mn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new zm({next:function(_){c.enqueueAndForget(function(){return DS(l,y)}),_.fromCache&&p.source==="server"?v.reject(new B(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new FS(h,m,{includeMetadataChanges:!0,so:!0});return OS(l,y)},[4,Ol(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var HQ=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Pg=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),bR=new Map,Y3=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},TR=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Kt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),WQ=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),KQ=function(){function e(t){var n=this;this.currentUser=Kt.UNAUTHENTICATED,this.oc=new mn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){z("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(z("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(z("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ue(typeof i.accessToken=="string"),new Y3(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string"),new Kt(t)},e}(),GQ=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),QQ=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new GQ(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Kt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(e,t,n){if(!n)throw new B(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function GS(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new B(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function X3(e,t,n,r){if(t===!0&&r===!0)throw new B(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function SR(e){if(!ne.isDocumentKey(e))throw new B(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function IR(e){if(ne.isDocumentKey(e))throw new B(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Wm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":te()}function Re(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wm(e);throw new B(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function kR(e,t){if(t<=0)throw new B(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CR=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,X3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Th=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CR({}),this._settingsFrozen=!1,t instanceof Pg?(this._databaseId=t,this._credentials=new TR):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new B(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pg(r.options.projectId)}(t),this._credentials=new KQ(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new B(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new B(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CR(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new TR;switch(n.type){case"gapi":var r=n.client;return ue(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new QQ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new B(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=bR.get(t))&&(z("ComponentProvider","Removing Datastore"),bR.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),nt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new os(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Qn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),os=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Ql(i))||this)._path=i,s.type="collection",s}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new nt(this.firestore,null,new ne(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=pe(e),KS("collection","path",t),e instanceof Th)return IR(n=Pe.fromString.apply(Pe,ve([t],r))),new os(e,null,n);if(!(e instanceof nt||e instanceof os))throw new B(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return IR(n=Pe.fromString.apply(Pe,ve([e.path],r)).child(Pe.fromString(t))),new os(e.firestore,null,n)}function wv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=pe(e),arguments.length===1&&(t=xD.u()),KS("doc","path",t),e instanceof Th)return SR(n=Pe.fromString.apply(Pe,ve([t],r))),new nt(e,null,new ne(n));if(!(e instanceof nt||e instanceof os))throw new B(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SR(n=e._path.child(Pe.fromString.apply(Pe,ve([t],r)))),new nt(e.firestore,e instanceof os?e.converter:null,new ne(n))}function Z3(e,t){return e=pe(e),t=pe(t),(e instanceof nt||e instanceof os)&&(t instanceof nt||t instanceof os)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eM(e,t){return e=pe(e),t=pe(t),e instanceof Qn&&t instanceof Qn&&e.firestore===t.firestore&&rd(e._query,t._query)&&e.converter===t.converter}var YQ=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new RS(this,"async_queue_retry"),this.Ic=function(){var r=yv();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=yv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new mn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ka(t=r.sent()))throw t;return z("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,wt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=hQ.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&te()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Dl(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var XQ=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new mn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),JQ=-1,dt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new YQ,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return K(t,e),t.prototype._terminate=function(){return this._firestoreClient||tM(this),this._firestoreClient.terminate()},t}(Th);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e){return e._firestoreClient||tM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tM(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new HQ(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new zQ(e._credentials,e._queue,r)}function NR(e,t,n){var r=this,i=new mn;return e.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,G3(e,n)];case 1:return a.sent(),[4,Q3(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===O.FAILED_PRECONDITION||l.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function AR(e){if(e._initialized||e._terminated)throw new B(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new B(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),La=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(xn.fromBase64String(t))}catch(n){throw new B(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(xn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qa=function(e){this._methodName=e},Km=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new B(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new B(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return be(this._lat,t._lat)||be(this._long,t._long)},e}(),ZQ=/^__.*__$/,eY=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Es(t,this.data,this.fieldMask,n,this.fieldTransforms):new sd(t,this.data,n,this.fieldTransforms)},e}(),nM=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Es(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var iM=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Lg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(rM(this.Nc)&&ZQ.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),tY=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||ud(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new iM({Nc:t,methodName:n,qc:r,path:ui.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ya(e){var t=e._freezeSettings(),n=ud(e._databaseId);return new tY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);JS("Data must be an object, but it was:",a,r);var l,c,h=aM(r,a);if(s.merge)l=new _l(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,m=s.mergeFields;v<m.length;v++){var y=$E(t,m[v],n);if(!a.contains(y))throw new B(O.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");lM(p,y)||p.push(y)}l=new _l(p),c=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,c=a.fieldTransforms;return new eY(new rr(h),l,c)}var QS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qa);function oM(e,t,n){return new iM({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var nY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype._toFieldTransform=function(n){return new od(n.path,new Sl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qa),rY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=oM(this,n,!0),i=this.Kc.map(function(a){return Xa(a,r)}),s=new xa(i);return new od(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Qa),iY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=oM(this,n,!0),i=this.Kc.map(function(a){return Xa(a,r)}),s=new Pa(i);return new od(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Qa),oY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return K(t,e),t.prototype._toFieldTransform=function(n){var r=new Il(n.R,HD(n.R,this.Qc));return new od(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Qa);function YS(e,t,n,r){var i=e.Uc(1,t,n);JS("Data must be an object, but it was:",i,r);var s=[],a=rr.empty();Ha(r,function(c,h){var p=ZS(t,c,n);h=pe(h);var v=i.Oc(p);if(h instanceof QS)s.push(p);else{var m=Xa(h,v);m!=null&&(s.push(p),a.set(p,m))}});var l=new _l(s);return new nM(a,l,i.fieldTransforms)}function XS(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[$E(t,r,n)],c=[i];if(s.length%2!=0)throw new B(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push($E(t,s[h])),c.push(s[h+1]);for(var p=[],v=rr.empty(),m=l.length-1;m>=0;--m)if(!lM(p,l[m])){var y=l[m],_=c[m];_=pe(_);var S=a.Oc(y);if(_ instanceof QS)p.push(y);else{var C=Xa(_,S);C!=null&&(p.push(y),v.set(y,C))}}var b=new _l(p);return new nM(v,b,a.fieldTransforms)}function sM(e,t,n,r){return r===void 0&&(r=!1),Xa(n,e.Uc(r?4:3,t))}function Xa(e,t){if(uM(e=pe(e)))return JS("Unsupported field value:",t,e),aM(e,t);if(e instanceof Qa)return function(n,r){if(!rM(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Xa(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=pe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HD(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Gn.fromDate(n);return{timestampValue:wh(r.R,i)}}if(n instanceof Gn)return i=new Gn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:wh(r.R,i)};if(n instanceof Km)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof La)return{bytesValue:n3(r.R,n._byteString)};if(n instanceof nt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:bS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Wm(n))}(e,t)}function aM(e,t){var n={};return LD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ha(e,function(r,i){var s=Xa(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Gn||e instanceof Km||e instanceof La||e instanceof nt||e instanceof Qa)}function JS(e,t,n){if(!uM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Wm(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function $E(e,t,n){if((t=pe(t))instanceof Ai)return t._internalPath;if(typeof t=="string")return ZS(e,t);throw Lg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var sY=new RegExp("[~\\*/\\[\\]]");function ZS(e,t,n){if(t.search(sY)>=0)throw Lg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ai.bind.apply(Ai,ve([void 0],t.split("."))))()._internalPath}catch{throw Lg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Lg(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new B(O.INVALID_ARGUMENT,(l+=". ")+e+c)}function lM(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sh=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new nt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new aY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Og("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),aY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Sh);function Og(e,t){return typeof t=="string"?ZS(e,t):t instanceof Ai?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ua=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),oo=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return K(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Og("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Sh),Df=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(oo),$o=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ua(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Df(r._firestore,r._userDataWriter,i.key,i,new ua(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Df(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ua(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Df(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ua(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:uY(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function uY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function cM(e,t){return e instanceof oo&&t instanceof oo?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $o&&t instanceof $o&&e._firestore===t._firestore&&eM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(e){if(Ig(e)&&e.explicitOrderBy.length===0)throw new B(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cd=function(){};function Lo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var lY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return K(t,e),t.prototype._apply=function(n){var r=Ya(n.firestore),i=function(s,a,l,c,h,p,v){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new B(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){OR(v,p);for(var y=[],_=0,S=v;_<S.length;_++){var C=S[_];y.push(LR(c,s,C))}m={arrayValue:{values:y}}}else m=LR(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||OR(v,p),m=sM(l,"where",v,p==="in"||p==="not-in");var b=sr.create(h,p,m);return function(T,I){if(I.g()){var P=mS(T);if(P!==null&&!P.isEqual(I.field))throw new B(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+I.field.toString()+"'");var D=gS(T);D!==null&&dM(T,I.field,D)}var L=function(j,F){for(var le=0,x=j.filters;le<x.length;le++){var pt=x[le];if(F.indexOf(pt.op)>=0)return pt.op}return null}(T,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(L!==null)throw L===I.op?new B(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+I.op.toString()+"' filter."):new B(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+I.op.toString()+"' filters with '"+L.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Qn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(cd),cY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return K(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new B(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new el(s,a);return function(c,h){if(gS(c)===null){var p=mS(c);p!==null&&dM(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Qn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new mo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(cd),RR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return K(t,e),t.prototype._apply=function(n){return new Qn(n.firestore,n.converter,jD(n._query,this.Hc,this.Jc))},t}(cd),xR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return K(t,e),t.prototype._apply=function(n){var r=hM(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(i,s){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(cd),PR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return K(t,e),t.prototype._apply=function(n){var r=hM(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(i,s){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(cd);function hM(e,t,n,r){if(n[0]=pe(n[0]),n[0]instanceof Sh)return function(s,a,l,c,h){if(!c)throw new B(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,m=Tl(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())p.push(bg(a,c.key));else{var _=c.data.field(y.field);if(dS(_))throw new B(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var S=y.field.canonicalString();throw new B(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}p.push(_)}}return new yh(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ya(e.firestore);return function(s,a,l,c,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new B(O.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var _=h[y];if(v[y].field.isKeyField()){if(typeof _!="string")throw new B(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof _);if(!yS(s)&&_.indexOf("/")!==-1)throw new B(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+_+"' contains a slash.");var S=s.path.child(Pe.fromString(_));if(!ne.isDocumentKey(S))throw new B(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var C=new ne(S);m.push(bg(a,C))}else{var b=sM(l,c,_);m.push(b)}}return new yh(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function LR(e,t,n){if(typeof(n=pe(n))=="string"){if(n==="")throw new B(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yS(t)&&n.indexOf("/")!==-1)throw new B(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Pe.fromString(n));if(!ne.isDocumentKey(r))throw new B(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bg(e,new ne(r))}if(n instanceof nt)return bg(e,n._key);throw new B(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wm(n)+".")}function OR(e,t){if(!Array.isArray(e)||e.length===0)throw new B(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new B(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function dM(e,t,n){if(!n.isEqual(t))throw new B(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eI=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(El(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw te()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Ha(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Km(mt(t.latitude),mt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=DD(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ds(t);return new Gn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Pe.fromString(t);ue(f3(r));var i=new Pg(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||wt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fY=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new La(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new nt(this.firestore,null,r)},t}(eI),hY=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ya(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=qo(t,this._firestore),s=Qm(i.converter,n,r),a=Gm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,fn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=qo(t,this._firestore);return a=typeof(n=pe(n))=="string"||n instanceof Ai?XS(this._dataReader,"WriteBatch.update",l._key,n,r,i):YS(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,fn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=qo(t,this._firestore);return this._mutations=this._mutations.concat(new ad(n._key,fn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new B(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e,t){if((e=pe(e)).firestore!==t)throw new B(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new La(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new nt(this.firestore,null,r)},t}(eI);function DR(e,t,n){e=Re(e,nt);var r=Re(e.firestore,dt),i=Qm(e.converter,t,n);return fd(r,[Gm(Ya(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,fn.none())])}function MR(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Re(e,nt);var s=Re(e.firestore,dt),a=Ya(s);return fd(s,[(typeof(t=pe(t))=="string"||t instanceof Ai?XS(a,"updateDoc",e._key,t,n,r):YS(a,"updateDoc",e._key,t)).toMutation(e._key,fn.exists(!0))])}function pM(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=pe(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Dl(i[l])||(a=i[l],l++);var c,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(Dl(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof nt)h=Re(e.firestore,dt),p=Ql(e._key.path),c={next:function(S){i[l]&&i[l](qE(h,e,S))},error:i[l+1],complete:i[l+2]};else{var y=Re(e,Qn);h=Re(y.firestore,dt),p=y._query;var _=new ga(h);c={next:function(S){i[l]&&i[l](new $o(h,_,y,S))},error:i[l+1],complete:i[l+2]},fM(e._query)}return function(S,C,b,T){var I=this,P=new zm(T),D=new FS(C,P,b);return S.asyncQueue.enqueueAndForget(function(){return A(I,void 0,void 0,function(){var L;return N(this,function(j){switch(j.label){case 0:return L=OS,[4,Ol(S)];case 1:return[2,L.apply(void 0,[j.sent(),D])]}})})}),function(){P.Wo(),S.asyncQueue.enqueueAndForget(function(){return A(I,void 0,void 0,function(){var L;return N(this,function(j){switch(j.label){case 0:return L=DS,[4,Ol(S)];case 1:return[2,L.apply(void 0,[j.sent(),D])]}})})})}}(Ut(h),p,v,c)}function fd(e,t){return function(n,r){var i=this,s=new mn;return n.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=SQ,[4,WS(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Ut(e),t)}function qE(e,t,n){var r=n.docs.get(t._key),i=new ga(e);return new oo(e,i,t._key,r,new ua(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return K(t,e),t.prototype.get=function(n){var r=this,i=qo(n,this._firestore),s=new ga(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new oo(r._firestore,s,i._key,a._document,new ua(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ya(t)}return e.prototype.get=function(t){var n=this,r=qo(t,this._firestore),i=new fY(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return te();var a=s[0];if(a.isFoundDocument())return new Sh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Sh(n._firestore,i,r._key,null,r.converter);throw te()})},e.prototype.set=function(t,n,r){var i=qo(t,this._firestore),s=Qm(i.converter,n,r),a=Gm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=qo(t,this._firestore);return a=typeof(n=pe(n))=="string"||n instanceof Ai?XS(this._dataReader,"Transaction.update",l._key,n,r,i):YS(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=qo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){if(typeof Uint8Array>"u")throw new B(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function UR(){if(typeof atob>"u")throw new B(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vM=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return UR(),new e(La.fromBase64String(t))},e.fromUint8Array=function(t){return FR(),new e(La.fromUint8Array(t))},e.prototype.toBase64=function(){return UR(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return FR(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),pY=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){AR(r=Re(r,dt));var s=Ut(r),a=r._freezeSettings(),l=new VE;return NR(s,l,new K3(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){AR(n=Re(n,dt));var r=Ut(n),i=n._freezeSettings(),s=new VE;return NR(r,s,new jQ(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new B(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new mn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return Nl.yt()?(c=l+"main",[4,Nl.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(NS(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),tI=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Pg||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||vh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){var c;l===void 0&&(l={});var h=(i=Re(i,Th))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&vh("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,v;if(typeof l.mockUserToken=="string")p=l.mockUserToken,v=Kt.MOCK_USER;else{p=eT(l.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new B(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Kt(m)}i._credentials=new WQ(new Y3(p,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,yR(t)];case 1:return r=s.sent(),[4,wR(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=W(a);return l.Or.delete(0),ld(l)}(i))]}})})})}(Ut(Re(this._delegate,dt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,yR(t)];case 1:return r=s.sent(),[4,wR(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return A(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=W(a)).Or.add(0),[4,Xl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ut(Re(this._delegate,dt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&X3("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new mn;return t.asyncQueue.enqueueAndForget(function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=NQ,[4,WS(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Ut(Re(this._delegate,dt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new zm(s);return i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){W(p).Gr.add(v),v.next()},[4,Ol(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){W(p).Gr.delete(v)},[4,Ol(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Ut(n=Re(n,dt)),Dl(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new B(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Dg(this,J3(this._delegate,t))}catch(n){throw Sn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ma(this,wv(this._delegate,t))}catch(n){throw Sn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new hd(this,function(n,r){if(n=Re(n,Th),KS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new B(O.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qn(n,null,function(i){return new mo(Pe.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Sn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new mn;return s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(v){return Hm(v).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new qQ(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Ut(r),function(s){return i(new dY(r,s))})}(this._delegate,function(r){return t(new gM(n,r))})},e.prototype.batch=function(){var t=this;return Ut(this._delegate),new mM(new hY(this._delegate,function(n){return fd(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new B(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new B(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ym=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return K(t,e),t.prototype.convertBytes=function(n){return new vM(new La(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ma.eu(r,this.firestore,null)},t}(eI);function vY(e){var t;t=e,oi.setLogLevel(t)}var gM=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ym(t)}return e.prototype.get=function(t){var n=this,r=la(t);return this._delegate.get(r).then(function(i){return new Ih(n._firestore,new oo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=la(t);return r?(GS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=la(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=la(t);return this._delegate.delete(n),this},e}(),mM=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=la(t);return r?(GS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=la(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,ve([l,n,r],s)),this},e.prototype.delete=function(t){var n=la(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Xm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Df(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kh(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Ym(t),n),i.set(n,s)),s},e}();Xm.su=new WeakMap;var ma=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ym(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new B(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new nt(n._delegate,r,new ne(t)))},e.eu=function(t,n,r){return new e(n,new nt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Dg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Dg(this.firestore,J3(this._delegate,t))}catch(n){throw Sn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=pe(t))instanceof nt&&Z3(this._delegate,t)},e.prototype.set=function(t,n){n=GS("DocumentReference.set",n);try{return n?DR(this._delegate,t,n):DR(this._delegate,t)}catch(r){throw Sn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?MR(this._delegate,t):MR.apply(void 0,ve([this._delegate,t,n],r))}catch(s){throw Sn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fd(Re((t=this._delegate).firestore,dt),[new ad(t._key,fn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=yM(n),s=wM(n,function(a){return new Ih(t.firestore,new oo(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return pM(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Re(r,nt);var i=Re(r.firestore,dt),s=Ut(i),a=new ga(i);return function(l,c){var h=this,p=new mn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,_,S){return A(this,void 0,void 0,function(){var C,b;return N(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(I,P){var D=W(I);return D.persistence.runTransaction("read document","readonly",function(L){return D.Mn.mn(L,P)})}(y,_)];case 1:return(b=T.sent()).isFoundDocument()?S.resolve(b):b.isNoDocument()?S.resolve(null):S.reject(new B(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=T.sent(),b=ec(C,"Failed to get document '"+_+" from cache"),S.reject(b),[3,3];case 3:return[2]}})})},[4,HS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new oo(i,a,r._key,l,new ua(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Re(r,nt);var i=Re(r.firestore,dt);return _R(Ut(i),r._key,{source:"server"}).then(function(s){return qE(i,r,s)})}(this._delegate):function(r){r=Re(r,nt);var i=Re(r.firestore,dt);return _R(Ut(i),r._key).then(function(s){return qE(i,r,s)})}(this._delegate)).then(function(r){return new Ih(n.firestore,new oo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Xm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Sn(e,t,n){return e.message=e.message.replace(t,n),e}function yM(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Dl(r))return r}return{}}function wM(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Dl(e[0])?e[0]:Dl(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ih=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ma(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return cM(this._delegate,t._delegate)},e}(),kh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return K(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ih),hd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ym(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lo(this._delegate,function(i,s,a){var l=s,c=Og("where",i);return new lY(c,l,a)}(t,n,r)))}catch(i){throw Sn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Og("orderBy",r);return new cY(a,s)}(t,n)))}catch(r){throw Sn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lo(this._delegate,function(n){return kR("limit",n),new RR("limit",n,"F")}(t)))}catch(n){throw Sn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lo(this._delegate,function(n){return kR("limitToLast",n),new RR("limitToLast",n,"L")}(t)))}catch(n){throw Sn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new xR("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Sn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new xR("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Sn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new PR("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Sn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new PR("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Sn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return eM(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Re(r,Qn);var i=Re(r.firestore,dt),s=Ut(i),a=new ga(i);return function(l,c){var h=this,p=new mn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,_,S){return A(this,void 0,void 0,function(){var C,b,T,I,P;return N(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,Ag(y,_,!0)];case 1:return P=D.sent(),C=new $3(_,P.Bn),b=C._o(P.documents),T=C.applyChanges(b,!1),S.resolve(T.snapshot),[3,3];case 2:return I=D.sent(),P=ec(I,"Failed to execute query '"+_+" against cache"),S.reject(P),[3,3];case 3:return[2]}})})},[4,HS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new $o(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Re(r,Qn);var i=Re(r.firestore,dt),s=Ut(i),a=new ga(i);return ER(s,r._query,{source:"server"}).then(function(l){return new $o(i,a,r,l)})}(this._delegate):function(r){r=Re(r,Qn);var i=Re(r.firestore,dt),s=Ut(i),a=new ga(i);return fM(r._query),ER(s,r._query).then(function(l){return new $o(i,a,r,l)})}(this._delegate)).then(function(r){return new zE(n.firestore,new $o(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=yM(n),s=wM(n,function(a){return new zE(t.firestore,new $o(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return pM(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Xm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),gY=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),zE=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new hd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new kh(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new gY(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new kh(r._firestore,i))})},e.prototype.isEqual=function(t){return cM(this._delegate,t._delegate)},e}(),Dg=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return K(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ma(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ma(this.firestore,n===void 0?wv(this._delegate):wv(this._delegate,n))}catch(r){throw Sn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Re(i.firestore,dt),l=wv(i),c=Qm(i.converter,s);return fd(a,[Gm(Ya(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,fn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new ma(r.firestore,i)})},t.prototype.isEqual=function(n){return Z3(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Xm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(hd);function la(e){return Re(e,nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mY=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ai.bind.apply(Ai,ve([void 0],t)))}return e.documentId=function(){return new e(ui.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=pe(t))instanceof Ai&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),yY=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new nY("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new QS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new rY("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new iY("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new oY("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(e){return function(t,n){var r=Ut(t=Re(t,dt)),i=new XQ;return function(s,a,l,c){var h=this,p=function(v,m){return function(y,_){return new VQ(y,_)}(function(y,_){if(y instanceof Uint8Array)return mR(y,_);if(y instanceof ArrayBuffer)return mR(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(l,ud(a));s.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=BQ,[4,WS(s)];case 1:return v.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function _Y(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var v=W(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Ke.getNamedQuery(m,p)})},[4,HS(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Ut(t=Re(t,dt)),n).then(function(i){return i?new Qn(t,null,i.query):null})).then(function(i){return i?new hd(r,i):null})}var EY={Firestore:tI,GeoPoint:Km,Timestamp:Gn,Blob:vM,Transaction:gM,WriteBatch:mM,DocumentReference:ma,DocumentSnapshot:Ih,Query:hd,QueryDocumentSnapshot:kh,QuerySnapshot:zE,CollectionReference:Dg,FieldPath:mY,FieldValue:yY,setLogLevel:vY,CACHE_SIZE_UNLIMITED:JQ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(e){(function(t,n){t.INTERNAL.registerComponent(new gn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},EY)))})(e,function(t,n){return new tI(t,new dt(t,n),new pY)}),e.registerVersion("@firebase/firestore","2.4.1")}bY(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TY(e){e.prototype.loadBundle=wY,e.prototype.namedQuery=_Y}TY(tI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tl=function(e){K(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function SY(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function IY(e,t,n){var r=SY(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!BR[l])return new tl("internal","internal");r=BR[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new tl(r,i,s)}var kY=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CY="type.googleapis.com/google.protobuf.Int64Value",NY="type.googleapis.com/google.protobuf.UInt64Value";function jR(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var AY=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return jR(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case CY:case NY:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?jR(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new tl("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var VR=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new AY,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new kY(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y,_,S;return N(this,function(C){switch(C.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=C.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=RY(c),p=h.timer,v=h.promise,[4,Promise.race([$R(p,this.postJSON(i,s,a)),v,$R(p,this.cancelAllRequests)])];case 2:if(m=C.sent(),!m)throw new tl("cancelled","Firebase Functions instance was deleted.");if(y=IY(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new tl("internal","Response is not valid JSON object.");if(_=m.json.data,typeof _>"u"&&(_=m.json.result),typeof _>"u")throw new tl("internal","Response is missing data field.");return S=this.serializer.decode(_),[2,{data:S}]}})})},e}();function $R(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xY="functions";function PY(e,t){var n={Functions:VR};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new VR(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new gn(xY,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var LY="@firebase/functions",OY="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */PY(ee,fetch.bind(self));ee.registerVersion(LY,OY);function DY(e){return Array.prototype.slice.call(e)}function _M(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Jm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),_M(r).then(s,a)});return i.request=r,i}function MY(e,t,n){var r=Jm(e,t,n);return r.then(function(i){if(i)return new Ch(i,r.request)})}function tc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function nI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Jm(this[t],i,arguments)})})}function Zm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function EM(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return MY(this[t],i,arguments)})})}function Ja(e){this._index=e}tc(Ja,"_index",["name","keyPath","multiEntry","unique"]);nI(Ja,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);EM(Ja,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Ch(e,t){this._cursor=e,this._request=t}tc(Ch,"_cursor",["direction","key","primaryKey","value"]);nI(Ch,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Ch.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),_M(t._request).then(function(r){if(r)return new Ch(r,t._request)})})})});function Ui(e){this._store=e}Ui.prototype.createIndex=function(){return new Ja(this._store.createIndex.apply(this._store,arguments))};Ui.prototype.index=function(){return new Ja(this._store.index.apply(this._store,arguments))};tc(Ui,"_store",["name","keyPath","indexNames","autoIncrement"]);nI(Ui,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);EM(Ui,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Zm(Ui,"_store",IDBObjectStore,["deleteIndex"]);function dd(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}dd.prototype.objectStore=function(){return new Ui(this._tx.objectStore.apply(this._tx,arguments))};tc(dd,"_tx",["objectStoreNames","mode"]);Zm(dd,"_tx",IDBTransaction,["abort"]);function e0(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new dd(n)}e0.prototype.createObjectStore=function(){return new Ui(this._db.createObjectStore.apply(this._db,arguments))};tc(e0,"_db",["name","version","objectStoreNames"]);Zm(e0,"_db",IDBDatabase,["deleteObjectStore","close"]);function t0(e){this._db=e}t0.prototype.transaction=function(){return new dd(this._db.transaction.apply(this._db,arguments))};tc(t0,"_db",["name","version","objectStoreNames"]);Zm(t0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Ui,Ja].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=DY(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Ja,Ui].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function rI(e,t,n){var r=Jm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new e0(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new t0(s)})}function Mw(e){return Jm(indexedDB,"deleteDatabase",[e])}var FY="@firebase/installations",bM="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TM=1e4,SM="w:"+bM,IM="FIS_v2",UY="https://firebaseinstallations.googleapis.com/v1",BY=60*60*1e3,jY="installations",VY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oo,$Y=(Oo={},Oo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Oo["not-registered"]="Firebase Installation is not registered.",Oo["installation-not-found"]="Firebase Installation not found.",Oo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Oo["app-offline"]="Could not process request. Application offline.",Oo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Oo),ho=new go(jY,VY,$Y);function kM(e){return e instanceof Vl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e){var t=e.projectId;return UY+"/projects/"+t+"/installations"}function CM(e){return{token:e.token,requestStatus:2,expiresIn:qY(e.expiresIn),creationTime:Date.now()}}function oI(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,ho.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function NM(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AM(e,t){var n=t.refreshToken,r=NM(e);return r.append("Authorization",zY(n)),r}function sI(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function qY(e){return Number(e.replace("s","000"))}function zY(e){return IM+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(e,t){var n=t.fid;return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=iI(e),i=NM(e),s={fid:n,authVersion:IM,appId:e.appId,sdkVersion:SM},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,sI(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:CM(c.authToken)},[2,h];case 3:return[4,oI("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(e){var t=btoa(String.fromCharCode.apply(String,ve([],Qt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY=/^[cdef][\w-]{21}$/,HE="";function GY(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=QY(e);return KY.test(n)?n:HE}catch{return HE}}function QY(e){var t=WY(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ml=new Map;function xM(e,t){var n=nc(e);PM(n,t),JY(n,t)}function YY(e,t){LM();var n=nc(e),r=Ml.get(n);r||(r=new Set,Ml.set(n,r)),r.add(t)}function XY(e,t){var n=nc(e),r=Ml.get(n);r&&(r.delete(t),r.size===0&&Ml.delete(n),OM())}function PM(e,t){var n,r,i=Ml.get(e);if(i)try{for(var s=$t(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function JY(e,t){var n=LM();n&&n.postMessage({key:e,fid:t}),OM()}var ca=null;function LM(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=function(e){PM(e.data.key,e.data.fid)}),ca}function OM(){Ml.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZY="firebase-installations-database",eX=1,Oa="firebase-installations-store",Fw=null;function aI(){return Fw||(Fw=rI(ZY,eX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Oa)}})),Fw}function Mg(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=nc(e),[4,aI()];case 1:return r=l.sent(),i=r.transaction(Oa,"readwrite"),s=i.objectStore(Oa),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&xM(e,t.fid),[2,t]}})})}function uI(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=nc(e),[4,aI()];case 1:return n=i.sent(),r=n.transaction(Oa,"readwrite"),[4,r.objectStore(Oa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function pd(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=nc(e),[4,aI()];case 1:return r=c.sent(),i=r.transaction(Oa,"readwrite"),s=i.objectStore(Oa),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&xM(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,pd(e,function(s){var a=tX(s),l=nX(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==HE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function tX(e){var t=e||{fid:GY(),registrationStatus:0};return DM(t)}function nX(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ho.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=rX(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:iX(e)}:{installationEntry:t}}function rX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,HY(e,t)];case 1:return n=i.sent(),[2,Mg(e,n)];case 2:return r=i.sent(),kM(r)&&r.customData.serverCode===409?[4,uI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Mg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function iX(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,qR(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,RM(100)];case 3:return s.sent(),[4,qR(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,lI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function qR(e){return pd(e,function(t){if(!t)throw ho.create("installation-not-found");return DM(t)})}function DM(e){return oX(e)?{fid:e.fid,registrationStatus:0}:e}function oX(e){return e.registrationStatus===1&&e.registrationTime+TM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v;return N(this,function(m){switch(m.label){case 0:return i=aX(n,t),s=AM(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:SM}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,sI(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),v=CM(p),[2,v];case 3:return[4,oI("Generate Auth Token",h)];case 4:throw m.sent()}})})}function aX(e,t){var n=t.fid;return iI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,pd(e.appConfig,function(l){if(!MM(l))throw ho.create("not-registered");var c=l.authToken;if(!t&&cX(c))return l;if(c.requestStatus===1)return n=uX(e,t),l;if(!navigator.onLine)throw ho.create("app-offline");var h=hX(l);return n=lX(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function uX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,zR(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,RM(100)];case 3:return i.sent(),[4,zR(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,cI(e,t)]:[2,r]}})})}function zR(e){return pd(e,function(t){if(!MM(t))throw ho.create("not-registered");var n=t.authToken;return dX(n)?ie(ie({},t),{authToken:{requestStatus:0}}):t})}function lX(e,t){return A(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,sX(e,t)];case 1:return n=s.sent(),i=ie(ie({},t),{authToken:n}),[4,Mg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),kM(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,uI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ie(ie({},t),{authToken:{requestStatus:0}}),[4,Mg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function MM(e){return e!==void 0&&e.registrationStatus===2}function cX(e){return e.requestStatus===2&&!fX(e)}function fX(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+BY}function hX(e){var t={requestStatus:1,requestTime:Date.now()};return ie(ie({},e),{authToken:t})}function dX(e){return e.requestStatus===1&&e.requestTime+TM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,lI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):cI(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,gX(e.appConfig)];case 1:return r.sent(),[4,cI(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function gX(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,lI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=yX(e,t),r=AM(e,t),i={method:"DELETE",headers:r},[4,sI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,oI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function yX(e,t){var n=t.fid;return iI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,pd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ho.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ho.create("app-offline");case 3:return[4,mX(t,n)];case 4:return r.sent(),[4,uI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(e,t){var n=e.appConfig;return YY(n,t),function(){XY(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(e){var t,n;if(!e||!e.options)throw Uw("App Configuration");if(!e.name)throw Uw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=$t(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw Uw(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Uw(e){return ho.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(e){var t="installations";e.INTERNAL.registerComponent(new gn(t,function(n){var r=n.getProvider("app").getImmediate(),i=EX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return pX(a)},getToken:function(c){return vX(a,c)},delete:function(){return wX(a)},onIdChange:function(c){return _X(a,c)}};return l},"PUBLIC")),e.registerVersion(FY,bM)}bX(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,TX=(kt={},kt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kt["only-available-in-window"]="This method is available in a Window context.",kt["only-available-in-sw"]="This method is available in a service worker context.",kt["permission-default"]="The notification permission was not granted and dismissed instead.",kt["permission-blocked"]="The notification permission was not granted and blocked instead.",kt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",kt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",kt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",kt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",kt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",kt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",kt["token-update-no-token"]="FCM returned no token when updating the user to push.",kt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",kt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",kt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",kt["invalid-vapid-key"]="The public VAPID key must be a string.",kt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",kt),De=new go("messaging","Messaging",TX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SX="/firebase-messaging-sw.js",IX="/firebase-cloud-messaging-push-scope",Fg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kX="https://fcmregistrations.googleapis.com/v1",FM="FCM_MSG",CX="FirebaseMessaging: ",NX="google.c.a.e",UM="google.c.a.c_id",AX="google.c.a.ts",RX="google.c.a.c_l",xX=1e3,PX=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Da;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Da||(Da={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,ve([],Qt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LX(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bw="fcm_token_details_db",OX=5,HR="fcm_token_object_Store";function DX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(Bw))return[2,null];a.label=2;case 2:return r=null,[4,rI(Bw,OX,function(l){return A(s,void 0,void 0,function(){var c,h,p,p,p,v;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(HR)?(c=l.transaction.objectStore(HR),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Qi(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Qi(p.auth),p256dh:Qi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Qi(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Qi(p.auth),p256dh:Qi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Qi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Mw(Bw)];case 4:return a.sent(),[4,Mw("fcm_vapid_details_db")];case 5:return a.sent(),[4,Mw("undefined")];case 6:return a.sent(),[2,MX(r)?r:null]}})})}function MX(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FX="firebase-messaging-database",UX=1,Ma="firebase-messaging-store",jw=null;function fI(){return jw||(jw=rI(FX,UX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ma)}})),jw}function Ug(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=dI(e),[4,fI()];case 1:return n=s.sent(),[4,n.transaction(Ma).objectStore(Ma).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,DX(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,hI(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function hI(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=dI(e),[4,fI()];case 1:return r=s.sent(),i=r.transaction(Ma,"readwrite"),[4,i.objectStore(Ma).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function BX(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=dI(e),[4,fI()];case 1:return n=i.sent(),r=n.transaction(Ma,"readwrite"),[4,r.objectStore(Ma).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function dI(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,vI(e)];case 1:n=h.sent(),r=jM(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(pI(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),De.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,De.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw De.create("token-subscribe-no-token");return[2,s.token]}})})}function VX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,vI(e)];case 1:n=h.sent(),r=jM(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(pI(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),De.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,De.create("token-update-failed",{errorInfo:c});if(!s.token)throw De.create("token-update-no-token");return[2,s.token]}})})}function BM(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,vI(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(pI(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,De.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),De.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function pI(e){var t=e.projectId;return kX+"/projects/"+t+"/registrations"}function vI(e){var t=e.appConfig,n=e.installations;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function jM(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Fg&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $X=7*24*60*60*1e3;function WE(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw De.create("permission-blocked");return[4,zX(t,n)];case 1:return r=l.sent(),[4,Ug(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Qi(r.getKey("auth")),p256dh:Qi(r.getKey("p256dh"))},i?[3,3]:[2,WR(e,s)];case 3:if(HX(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,BM(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,WR(e,s)];case 8:return Date.now()>=i.createTime+$X?[2,qX({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Mf(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Ug(e)];case 1:return n=i.sent(),n?[4,BM(e,n.token)]:[3,4];case 2:return i.sent(),[4,BX(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function qX(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,VX(t,e)];case 1:return r=a.sent(),i=ie(ie({},e),{token:r,createTime:Date.now()}),[4,hI(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Mf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function WR(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,jX(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,hI(e,r)];case 2:return i.sent(),[2,r.token]}})})}function zX(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LX(t)})]}})})}function HX(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return KX(t,e),GX(t,e),QX(t,e),t}function KX(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function GX(e,t){t.data&&(e.data=t.data)}function QX(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(e){return typeof e=="object"&&!!e&&UM in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw De.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Ug(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Fg,i.label=2;case 2:return[2,WE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Mf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw De.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw De.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw De.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw De.create("only-available-in-window")},e.prototype.onMessage=function(){throw De.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw De.create("only-available-in-window")},e.prototype.onPush=function(t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=JX(t),n?[4,$M()]:(console.debug(CX+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),eJ(r)?[2,tJ(r,n)]:(i=!1,n.notification?[4,nJ(XX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=WX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,KR(xX)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Mf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Ug(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Mf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,WE(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Fg)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[FM],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=rJ(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,ZX(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,KR(PX)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Da.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function XX(e){var t,n=ie({},e.notification);return n.data=(t={},t[FM]=e,t),n}function JX(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function ZX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,$M()];case 1:t=c.sent();try{for(n=$t(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function eJ(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function tJ(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Da.PUSH_RECEIVED;try{for(var i=$t(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function $M(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function nJ(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function rJ(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(VM(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iJ=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Da.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(sJ(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,VM(r)&&r[NX]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw De.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,WE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Fg),[2]})})},e.prototype.updateSwReg=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw De.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(SX,{scope:IX})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),De.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Mf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?De.create("permission-blocked"):De.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw De.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw De.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw De.create("invalid-sw-registration");if(this.swRegistration)throw De.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw De.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw De.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=oJ(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[UM],message_name:n[RX],message_time:n[AX],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function oJ(e){switch(e){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sJ(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(e){var t,n;if(!e||!e.options)throw Vw("App Configuration Object");if(!e.name)throw Vw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=$t(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw Vw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Vw(e){return De.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uJ="messaging";function lJ(e){var t=e.getProvider("app").getImmediate(),n=aJ(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!qM())throw De.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new YX(s):new iJ(s)}var cJ={isSupported:qM};ee.INTERNAL.registerComponent(new gn(uJ,lJ,"PUBLIC").setServiceProps(cJ));function qM(){return self&&"ServiceWorkerGlobalScope"in self?hJ():fJ()}function fJ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function hJ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zM="firebasestorage.googleapis.com",HM="storageBucket",dJ=2*60*1e3,pJ=10*60*1e3,Tt=function(e){K(t,e);function t(n,r){var i=e.call(this,$w(n),"Firebase Storage: "+r+" ("+$w(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return $w(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Vl);function $w(e){return"storage/"+e}function gI(){var e="An unknown error occurred, please check the error payload for server response.";return new Tt("unknown",e)}function vJ(e){return new Tt("object-not-found","Object '"+e+"' does not exist.")}function gJ(e){return new Tt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mJ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt("unauthenticated",e)}function yJ(){return new Tt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function wJ(e){return new Tt("unauthorized","User does not have permission to access '"+e+"'.")}function _J(){return new Tt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function WM(){return new Tt("canceled","User canceled the upload/download.")}function EJ(e){return new Tt("invalid-url","Invalid URL '"+e+"'.")}function bJ(e){return new Tt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function TJ(){return new Tt("no-default-bucket","No default bucket found. Did you set the '"+HM+"' property when initializing the app?")}function KM(){return new Tt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function SJ(){return new Tt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function IJ(){return new Tt("no-download-url","The given file does not have any download URLs.")}function nl(e){return new Tt("invalid-argument",e)}function GM(){return new Tt("app-deleted","The Firebase app was deleted.")}function QM(e){return new Tt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ff(e,t){return new Tt("invalid-format","String does not match format '"+e+"': "+t)}function Hp(e){throw new Tt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qw=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function YM(e,t){switch(e){case Ir.RAW:return new qw(XM(t));case Ir.BASE64:case Ir.BASE64URL:return new qw(JM(e,t));case Ir.DATA_URL:return new qw(NJ(t),AJ(t))}throw gI()}function XM(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function CJ(e){var t;try{t=decodeURIComponent(e)}catch{throw Ff(Ir.DATA_URL,"Malformed data URL.")}return XM(t)}function JM(e,t){switch(e){case Ir.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Ff(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ir.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Ff(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=kJ(t)}catch{throw Ff(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var ZM=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ff(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=RJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function NJ(e){var t=new ZM(e);return t.base64?JM(Ir.BASE64,t.rest):CJ(t.rest)}function AJ(e){var t=new ZM(e);return t.contentType}function RJ(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xJ={STATE_CHANGED:"state_changed"},In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zw(e){switch(e){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ya||(ya={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PJ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ya.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ya.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ya.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Hp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Hp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Hp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Hp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function LJ(){return new PJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OJ=function(){function e(){}return e.prototype.createConnection=function(){return LJ()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw bJ(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(le){le.path_=decodeURIComponent(le.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+m,"i"),_={bucket:1,path:3},S=n===zM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",b=new RegExp("^https?://"+S+"/"+i+"/"+C,"i"),T={bucket:1,path:2},I=[{regex:l,indices:c,postModify:s},{regex:y,indices:_,postModify:h},{regex:b,indices:T,postModify:h}],P=0;P<I.length;P++){var D=I[P],L=D.regex.exec(t);if(L){var j=L[D.indices.bucket],F=L[D.indices.path];F||(F=""),r=new e(j,F),D.postModify(r);break}}if(r==null)throw EJ(t);return r},e}(),DJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];c||(c=!0,t.apply(null,_))}function p(_){i=setTimeout(function(){i=null,e(v,l())},_)}function v(_){for(var S=[],C=1;C<arguments.length;C++)S[C-1]=arguments[C];if(!c){if(_){h.call.apply(h,ve([null,_],S));return}var b=l()||s;if(b){h.call.apply(h,ve([null,_],S));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,p(T)}}var m=!1;function y(_){m||(m=!0,!c&&(i!==null?(_||(a=2),clearTimeout(i),p(0)):_||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function FJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(e){return e!==void 0}function BJ(e){return typeof e=="function"}function jJ(e){return typeof e=="object"&&!Array.isArray(e)}function n0(e){return typeof e=="string"||e instanceof String}function GR(e){return mI()&&e instanceof Blob}function mI(){return typeof Blob<"u"}function KE(e,t,n,r){if(r<t)throw nl("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw nl("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function e5(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VJ=function(){function e(t,n,r,i,s,a,l,c,h,p,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Wp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===ya.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===ya.ABORT;i(!1,new Wp(!1,null,p));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new Wp(v,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());UJ(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var p=gI();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?GM():WM();l(p)}else{var p=_J();l(p)}}this.canceled_?r(!1,new Wp(!1,null,!0)):this.backoffId_=MJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&FJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Wp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function $J(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function qJ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function zJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function HJ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function WJ(e,t,n,r,i,s){var a=e5(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return zJ(c,t),$J(c,n),qJ(c,s),HJ(c,r),new VJ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=KJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(mI())return new Blob(e);throw new Tt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function QJ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI=function(){function e(t,n){var r=0,i="";GR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(GR(this.data_)){var r=this.data_,i=QJ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(mI()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(GJ.apply(null,r))}else{var i=t.map(function(c){return n0(c)?YM(Ir.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(e){var t;try{t=JSON.parse(e)}catch{return null}return jJ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function XJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function t5(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(e,t){return t}var En=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||JJ}return e}(),Kp=null;function ZJ(e){return!n0(e)||e.length<2?e:t5(e)}function r0(){if(Kp)return Kp;var e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(s,a){return ZJ(a)}var n=new En("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new En("size");return i.xform=r,e.push(i),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),Kp=e,Kp}function eZ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new kr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function tZ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return eZ(r,e),r}function n5(e,t,n){var r=wI(t);if(r===null)return null;var i=r;return tZ(e,i,n)}function nZ(e,t,n){var r=wI(t);if(r===null||!n0(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),m=Ts(v,n),y=e5({alt:"media",token:c});return m+y});return l[0]}function _I(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QR="prefixes",YR="items";function rZ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[QR])for(var i=0,s=n[QR];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new kr(t,l));r.prefixes.push(c)}if(n[YR])for(var h=0,p=n[YR];h<p.length;h++){var v=p[h],c=e._makeStorageReference(new kr(t,v.name));r.items.push(c)}return r}function iZ(e,t,n){var r=wI(n);if(r===null)return null;var i=r;return rZ(e,t,i)}var wo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(e){if(!e)throw gI()}function i0(e,t){function n(r,i){var s=n5(e,i,t);return Ri(s!==null),s}return n}function oZ(e,t){function n(r,i){var s=iZ(e,t,i);return Ri(s!==null),s}return n}function sZ(e,t){function n(r,i){var s=n5(e,i,t);return Ri(s!==null),nZ(s,i,e.host)}return n}function rc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=yJ():i=mJ():n.getStatus()===402?i=gJ(e.bucket):n.getStatus()===403?i=wJ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function o0(e){var t=rc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=vJ(e.path)),s.serverResponse=i.serverResponse,s}return n}function r5(e,t,n){var r=t.fullServerUrl(),i=Ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new wo(i,s,i0(e,n),a);return l.errorHandler=o0(t),l}function aZ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Ts(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new wo(l,c,oZ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=rc(t),p}function uZ(e,t,n){var r=t.fullServerUrl(),i=Ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new wo(i,s,sZ(e,n),a);return l.errorHandler=o0(t),l}function lZ(e,t,n,r){var i=t.fullServerUrl(),s=Ts(i,e.host),a="PATCH",l=_I(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new wo(s,a,i0(e,r),h);return p.headers=c,p.body=l,p.errorHandler=o0(t),p}function cZ(e,t){var n=t.fullServerUrl(),r=Ts(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new wo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=o0(t),l}function fZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function i5(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=fZ(null,t)),r}function hZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var I="",P=0;P<2;P++)I=I+Math.random().toString().slice(2);return I}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=i5(t,r,i),p=_I(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=yI.getBlob(v,r,m);if(y===null)throw KM();var _={name:h.fullPath},S=Ts(s,e.host),C="POST",b=e.maxUploadRetryTime,T=new wo(S,C,i0(e,n),b);return T.urlParams=_,T.headers=a,T.body=y.uploadData(),T.errorHandler=rc(t),T}var Bg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function EI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}var r=t||["active"];return Ri(!!n&&r.indexOf(n)!==-1),n}function dZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=i5(t,r,i),l={name:a.fullPath},c=Ts(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=_I(a,n),m=e.maxUploadRetryTime;function y(S){EI(S);var C;try{C=S.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(n0(C)),C}var _=new wo(c,h,y,m);return _.urlParams=l,_.headers=p,_.body=v,_.errorHandler=rc(t),_}function pZ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=EI(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}v||Ri(!1);var m=Number(v);return Ri(!isNaN(m)),new Bg(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new wo(n,a,s,l);return c.headers=i,c.errorHandler=rc(t),c}var XR=256*1024;function vZ(e,t,n,r,i,s,a,l){var c=new Bg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw SJ();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var v=c.current,m=v+p,y=p===h?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},S=r.slice(v,m);if(S===null)throw KM();function C(P,D){var L=EI(P,["active","final"]),j=c.current+p,F=r.size(),le;return L==="final"?le=i0(t,s)(P,D):le=null,new Bg(j,F,L==="final",le)}var b="POST",T=t.maxUploadRetryTime,I=new wo(n,b,C,T);return I.headers=_,I.body=S.uploadData(),I.progressCallback=l||null,I.errorHandler=rc(e),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gZ=function(){function e(t,n,r){var i=BJ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o5=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=r0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=dZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=pZ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=XR*this._chunkMultiplier,r=new Bg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=vZ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=XR*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=r5(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=hZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=WM(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=zw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new gZ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(zw(this._state)){case In.SUCCESS:Cu(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:var n=this._reject;Cu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=zw(this._state);switch(n){case In.RUNNING:case In.PAUSED:t.next&&Cu(t.next.bind(t,this.snapshot))();break;case In.SUCCESS:t.complete&&Cu(t.complete.bind(t))();break;case In.CANCELED:case In.ERROR:t.error&&Cu(t.error.bind(t,this._error))();break;default:t.error&&Cu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s0=function(){function e(t,n){this._service=t,n instanceof kr?this._location=n:this._location=kr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new kr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return t5(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=YJ(this._location.path);if(t===null)return null;var n=new kr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw QM(t)},e}();function mZ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new o5(e,new yI(t),n)}function yZ(e){var t={prefixes:[],items:[]};return s5(e,t).then(function(){return t})}function s5(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,a5(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,s5(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function a5(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&KE("options.maxResults",1,1e3,t.maxResults),n=t||{},r=aZ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function wZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=r5(e.storage,e._location,r0()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function _Z(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=lZ(e.storage,e._location,t,r0()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function EZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=uZ(e.storage,e._location,r0()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw IJ();return r})]}})})}function bZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=cZ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function u5(e,t){var n=XJ(e._location.path,t),r=new kr(e._location.bucket,n);return new s0(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e){return/^[A-Za-z]+:\/\//.test(e)}function TZ(e,t){return new s0(e,t)}function l5(e,t){if(e instanceof a0){var n=e;if(n._bucket==null)throw TJ();var r=new s0(n,n._bucket);return t!=null?l5(r,t):r}else return t!==void 0?u5(e,t):e}function SZ(e,t){if(t&&GE(t)){if(e instanceof a0)return TZ(e,t);throw nl("To use ref(service, url), the first argument must be a Storage instance.")}else return l5(e,t)}function JR(e,t){var n=t==null?void 0:t[HM];return n==null?null:kr.makeFromBucketSpec(n,e)}function IZ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:eT(i,e.app.options.projectId))}var a0=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=zM,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dJ,this._maxUploadRetryTime=pJ,this._requests=new Set,s!=null?this._bucket=kr.makeFromBucketSpec(s,this._host):this._bucket=JR(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=kr.makeFromBucketSpec(this._url,t):this._bucket=JR(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){KE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){KE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new s0(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new DJ(GM());var s=WJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(e,t,n){return e=pe(e),mZ(e,t,n)}function CZ(e){return e=pe(e),wZ(e)}function NZ(e,t){return e=pe(e),_Z(e,t)}function AZ(e,t){return e=pe(e),a5(e,t)}function RZ(e){return e=pe(e),yZ(e)}function xZ(e){return e=pe(e),EZ(e)}function PZ(e){return e=pe(e),bZ(e)}function ZR(e,t){return e=pe(e),SZ(e,t)}function LZ(e,t){return u5(e,t)}function OZ(e,t,n,r){r===void 0&&(r={}),IZ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e4=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Gp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Gp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Gp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Gp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),t4=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Nh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Nh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=LZ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new e4(kZ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Ir.RAW),this._throwIfRoot("putString");var i=YM(n,t),s=ie({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new e4(new o5(this._delegate,new yI(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return RZ(this._delegate).then(function(n){return new t4(n,t.storage)})},e.prototype.list=function(t){var n=this;return AZ(this._delegate,t||void 0).then(function(r){return new t4(r,n.storage)})},e.prototype.getMetadata=function(){return CZ(this._delegate)},e.prototype.updateMetadata=function(t){return NZ(this._delegate,t)},e.prototype.getDownloadURL=function(){return xZ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),PZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw QM(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DZ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(GE(t))throw nl("ref() expected a child path but got a URL, use refFromURL instead.");return new Nh(ZR(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!GE(t))throw nl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kr.makeFromUrl(t,this._delegate.host)}catch{throw nl("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nh(ZR(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),OZ(this._delegate,t,n,r)},e}(),MZ="@firebase/storage",FZ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UZ="storage";function BZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new DZ(r,new a0(r,i,s,new OJ,n,ee.SDK_VERSION));return a}function jZ(e){var t={TaskState:In,TaskEvent:xJ,StringFormat:Ir,Storage:a0,Reference:Nh};e.INTERNAL.registerComponent(new gn(UZ,BZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(MZ,FZ)}jZ(ee);var VZ="@firebase/performance",c5="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f5=c5,$Z="FB-PERF-TRACE-START",qZ="FB-PERF-TRACE-STOP",QE="FB-PERF-TRACE-MEASURE",h5="_wt_",d5="_fp",p5="_fcp",v5="_fid",g5="@firebase/performance/config",m5="@firebase/performance/configexpire",zZ="performance",y5="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,HZ=(Ht={},Ht["trace started"]="Trace {$traceName} was started before.",Ht["trace stopped"]="Trace {$traceName} is not running.",Ht["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ht["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ht["no window"]="Window is not available.",Ht["no app id"]="App id is not available.",Ht["no project id"]="Project id is not available.",Ht["no api key"]="Api key is not available.",Ht["invalid cc log"]="Attempted to queue invalid cc event",Ht["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ht["RC response not ok"]="RC response is not ok",Ht["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ht["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ht["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ht["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ht),un=new go(zZ,y5,HZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var po=new ja(y5);po.logLevel=we.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hw,w5,dn=function(){function e(t){if(this.window=t,!t)throw un.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(po.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Fh()?!0:(po.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return Hw===void 0&&(Hw=new e(w5)),Hw},e}();function WZ(e){w5=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(e,t){var n=e.length-t.length;if(n<0||n>1)throw un.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ww,Rt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=n4("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=n4("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw un.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw un.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw un.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return Ww===void 0&&(Ww=new e),Ww},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _5;function KZ(){var e=Rt.getInstance().installationsService.getId();return e.then(function(t){_5=t}),e}function bI(){return _5}function GZ(){var e=Rt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(rl||(rl={}));var QZ=["firebase_","google_","ga_"],YZ=new RegExp("^[a-zA-Z]\\w*$"),XZ=40,JZ=100;function ZZ(){var e=dn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function E5(){var e=dn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return rl.VISIBLE;case"hidden":return rl.HIDDEN;default:return rl.UNKNOWN}}function eee(){var e=dn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function tee(e){if(e.length===0||e.length>XZ)return!1;var t=QZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(YZ)}function nee(e){return e.length!==0&&e.length<=JZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ree="0.0.1",iee={loggingEnabled:!0},oee="FIREBASE_INSTALLATIONS_AUTH";function see(e){var t=aee();return t?(r4(t),Promise.resolve()):cee(e).then(r4).then(function(n){return uee(n)},function(){})}function aee(){var e=dn.getInstance().localStorage;if(e){var t=e.getItem(m5);if(!(!t||!fee(t))){var n=e.getItem(g5);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function uee(e){var t=dn.getInstance().localStorage;!e||!t||(t.setItem(g5,JSON.stringify(e)),t.setItem(m5,String(Date.now()+Rt.getInstance().configTimeToLive*60*60*1e3)))}var lee="Could not fetch config, will use default configs";function cee(e){return GZ().then(function(t){var n=Rt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Rt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:oee+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Rt.getInstance().getAppId(),app_version:f5,sdk_version:ree})});return fetch(i).then(function(s){if(s.ok)return s.json();throw un.create("RC response not ok")})}).catch(function(){po.info(lee)})}function r4(e){if(!e)return e;var t=Rt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=iee.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=i4(t.tracesSamplingRate),t.logNetworkAfterSampling=i4(t.networkRequestsSamplingRate),e}function fee(e){return Number(e)>Date.now()}function i4(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TI=1,Kw;function b5(){return TI=2,Kw=Kw||dee(),Kw}function hee(){return TI===3}function dee(){return pee().then(function(){return KZ()}).then(function(e){return see(e)}).then(function(){return o4()},function(){return o4()})}function pee(){var e=dn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function o4(){TI=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SI=10*1e3,vee=5.5*1e3,T5=3,gee=1e3,jg=T5,ss=[],s4=!1;function mee(){s4||(u0(vee),s4=!0)}function u0(e){setTimeout(function(){if(jg!==0){if(!ss.length)return u0(SI);yee()}},e)}function yee(){var e=ss.splice(0,gee),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Rt.getInstance().logSource,log_event:t};wee(n,e).catch(function(){ss=ve(ve([],e),ss),jg--,po.info("Tries left: "+jg+"."),u0(SI)})}function wee(e,t){return _ee(e).then(function(n){return n.ok||po.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=SI;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ss=ve(ve([],t),ss),po.info("Retry transport request later.")),jg=T5,u0(i)})}function _ee(e){var t=Rt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function Eee(e){if(!e.eventTime||!e.message)throw un.create("invalid cc log");ss=ve(ve([],ss),[e])}function bee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);Eee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gw;function S5(e,t){Gw||(Gw=bee(See)),Gw(e,t)}function Qp(e){var t=Rt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||dn.getInstance().requiredApisAvailable()&&(e.isAuto&&E5()!==rl.VISIBLE||(hee()?Qw(e):b5().then(function(){return Qw(e)},function(){return Qw(e)})))}function Qw(e){if(bI()){var t=Rt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return S5(e,1)},0)}}function Tee(e){var t=Rt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return S5(e,0)},0)}}function See(e,t){return t===0?Iee(e):kee(e)}function Iee(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:I5(),network_request_metric:t};return JSON.stringify(n)}function kee(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:I5(),trace_metric:t};return JSON.stringify(r)}function I5(){return{google_app_id:Rt.getInstance().getAppId(),app_instance_id:bI(),web_app_info:{sdk_version:f5,page_url:dn.getInstance().getUrl(),service_worker_status:ZZ(),visibility_state:E5(),effective_connection_type:eee()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cee=100,Nee="_",Aee=[d5,p5,v5];function Ree(e,t){return e.length===0||e.length>Cee?!1:t&&t.startsWith(h5)&&Aee.indexOf(e)>-1||!e.startsWith(Nee)}function xee(e){var t=Math.floor(e);return t<e&&po.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=dn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=$Z+"-"+this.randomId+"-"+this.name,this.traceStopMark=qZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||QE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw un.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw un.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Qp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw un.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw un.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ie({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Qp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(Ree(t,this.name))this.counters[t]=xee(n);else throw un.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=tee(t),i=nee(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw un.create("invalid attribute name",{attributeName:t});if(!i)throw un.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ie({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=dn.getInstance().getUrl();if(i){var s=new e(h5+i,!0),a=Math.floor(dn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(d5,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&s.putMetric(p5,Math.floor(p.startTime*1e3)),r&&s.putMetric(v5,Math.floor(r*1e3))}Qp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Qp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=dn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};Tee(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pee=5e3;function u4(){bI()&&(setTimeout(function(){return Oee()},0),setTimeout(function(){return Lee()},0),setTimeout(function(){return Dee()},0))}function Lee(){for(var e=dn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];a4(i)}e.setupObserver("resource",a4)}function Oee(){var e=dn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Uf.createOobTrace(t,n),r=void 0},Pee);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Uf.createOobTrace(t,n,i))})}else Uf.createOobTrace(t,n)}function Dee(){for(var e=dn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];l4(i)}e.setupObserver("measure",l4)}function l4(e){var t=e.name;t.substring(0,QE.length)!==QE&&Uf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mee=function(){function e(t){this.app=t,dn.getInstance().requiredApisAvailable()&&rT().then(function(n){n&&(mee(),b5().then(u4,u4))}).catch(function(n){po.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Uf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Rt.getInstance().instrumentationEnabled},set:function(t){Rt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Rt.getInstance().dataCollectionEnabled},set:function(t){Rt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fee="[DEFAULT]";function Uee(e){var t=function(n,r){if(n.name!==Fee)throw un.create("FB not default");if(typeof window>"u")throw un.create("no window");return WZ(window),Rt.getInstance().firebaseAppInstance=n,Rt.getInstance().installationsService=r,new Mee(n)};e.INTERNAL.registerComponent(new gn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(VZ,c5)}Uee(ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bee="firebase_id",jee="origin",Vee=60*1e3,$ee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",k5="https://www.googletagmanager.com/gtag/js",pn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(pn||(pn={}));var YE;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(YE||(YE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(pn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ie(ie({},r),{send_to:s}),e(pn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function zee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(pn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(pn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Hee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(pn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(pn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Wee(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(pn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(pn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Kee(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt=new ja("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(e,t){var n=document.createElement("script");n.src=k5+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Qee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Yee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Gt.error(h),[3,8];case 8:return e(pn.CONFIG,i,s),[2]}})})}function Xee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h,p,v,m,y;return N(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=_.sent(),c=function(S){var C=l.find(function(T){return T.measurementId===S}),b=C&&t[C.appId];if(b)s.push(b);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],m=c(v),m!=="break");h++);_.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return _.sent(),e(pn.EVENT,r,i||{}),[3,5];case 4:return y=_.sent(),Gt.error(y),[3,5];case 5:return[2]}})})}function Jee(e,t,n,r){function i(s,a,l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==pn.EVENT?[3,2]:[4,Xee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==pn.CONFIG?[3,4]:[4,Yee(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(pn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Gt.error(c),[3,7];case 7:return[2]}})})}return i}function Zee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Jee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function ete(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(k5))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,tte=(Gr={},Gr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Gr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Gr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Gr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Gr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Gr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Gr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Gr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Gr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Gr),Rr=new go("analytics","Analytics",tte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nte=30,rte=1e3,ite=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=rte),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),C5=new ite;function ote(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function ste(e){var t;return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:ote(r)},s=$ee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Rr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function ate(e,t,n){return t===void 0&&(t=C5),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Rr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Rr.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new cte,setTimeout(function(){return A(h,void 0,void 0,function(){return N(this,function(v){return c.abort(),[2]})})},n!==void 0?n:Vee),[2,N5({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function N5(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=C5),A(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,ute(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Gt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,ste(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!lte(p)){if(r.deleteThrottleMetadata(a),l)return Gt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return v=Number(p.customData.httpStatus)===503?Y_(s,r.intervalMillis,nte):Y_(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),Gt.debug("Calling attemptFetch again in "+v+" millis"),[2,N5(e,m,n,r)];case 7:return[2]}})})}function ute(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Rr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function lte(e){if(!(e instanceof Vl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var cte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fte(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return Fh()?[3,1]:(Gt.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,rT()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Gt.warn(Rr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function hte(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return a=ate(e),a.then(function(_){n[_.measurementId]=_.appId,e.options.measurementId&&_.measurementId!==e.options.measurementId&&Gt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+_.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(_){return Gt.error(_)}),t.push(a),l=fte().then(function(_){if(_)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],ete()||Gee(s,h.measurementId),i("js",new Date),v=(m={},m[jee]="firebase",m.update=!0,m),p!=null&&(v[Bee]=p),i(pn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki={},c4=[],f4={},_v="dataLayer",A5="gtag",h4,of,XE=!1;function dte(e){if(XE)throw Rr.create("already-initialized");e.dataLayerName&&(_v=e.dataLayerName),e.gtagName&&(A5=e.gtagName)}function pte(){var e=[];if(nT()&&e.push("This is a browser extension environment."),XP()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Rr.create("invalid-analytics-context",{errorInfo:t});Gt.warn(n.message)}}function vte(e,t){pte();var n=e.options.appId;if(!n)throw Rr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Gt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Rr.create("no-api-key");if(Ki[n]!=null)throw Rr.create("already-exists",{id:n});if(!XE){Qee(_v);var r=Zee(Ki,c4,f4,_v,A5),i=r.wrappedGtag,s=r.gtagCore;of=i,h4=s,XE=!0}Ki[n]=hte(e,c4,f4,t,h4,_v);var a={app:e,logEvent:function(l,c,h){qee(of,Ki[n],l,c,h).catch(function(p){return Gt.error(p)})},setCurrentScreen:function(l,c){zee(of,Ki[n],l,c).catch(function(h){return Gt.error(h)})},setUserId:function(l,c){Hee(of,Ki[n],l,c).catch(function(h){return Gt.error(h)})},setUserProperties:function(l,c){Wee(of,Ki[n],l,c).catch(function(h){return Gt.error(h)})},setAnalyticsCollectionEnabled:function(l){Kee(Ki[n],l).catch(function(c){return Gt.error(c)})},INTERNAL:{delete:function(){return delete Ki[n],Promise.resolve()}}};return a}var gte="@firebase/analytics",mte="0.6.18",d4="analytics";function yte(e){e.INTERNAL.registerComponent(new gn(d4,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return vte(r,i)},"PUBLIC").setServiceProps({settings:dte,EventName:YE,isSupported:wte})),e.INTERNAL.registerComponent(new gn("analytics-internal",t,"PRIVATE")),e.registerVersion(gte,mte);function t(n){try{var r=n.getProvider(d4).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Rr.create("interop-component-reg-failed",{reason:i})}}}yte(ee);function wte(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(nT())return[2,!1];if(!XP())return[2,!1];if(!Fh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,rT()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _te=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,Ete=(bn={},bn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",bn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",bn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",bn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",bn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",bn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",bn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",bn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",bn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",bn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',bn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',bn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",bn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",bn),Cr=new go("remoteconfig","Remote Config",Ete);function bte(e,t){return e instanceof Vl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tte(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ste=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,_,S,C,b,T,I,P;return N(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Tte()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),v=new Promise(function(L,j){t.signal.addEventListener(function(){var F=new Error("The operation was aborted.");F.name="AbortError",j(F)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return D.sent(),[4,p];case 4:return m=D.sent(),[3,6];case 5:throw y=D.sent(),_="fetch-client-network",y.name==="AbortError"&&(_="fetch-timeout"),Cr.create(_,{originalErrorMessage:y.message});case 6:if(S=m.status,C=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];I=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,m.json()];case 8:return I=D.sent(),[3,10];case 9:throw P=D.sent(),Cr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:b=I.entries,T=I.state,D.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?S=500:T==="NO_CHANGE"?S=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(b={}),S!==304&&S!==200)throw Cr.create("fetch-status",{httpStatus:S});return[2,{status:S,eTag:C,config:b}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ite=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kte=!1,Cte="",p4=0,Nte=["1","true","t","yes","y","on"],Yw=function(){function e(t,n){n===void 0&&(n=Cte),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?kte:Nte.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return p4;var t=Number(this._value);return isNaN(t)&&(t=p4),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ate=60*1e3,Rte=12*60*60*1e3,xte=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Ate,minimumFetchIntervalMillis:Rte},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=we.DEBUG;break;case"silent":this._logger.logLevel=we.SILENT;break;default:this._logger.logLevel=we.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return A(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new Ite,setTimeout(function(){return A(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=bte(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Pte(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Yw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Yw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Yw("static"))},e}();function Pte(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ie(ie({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(e,t){var n=e.target.error||void 0;return Cr.create(t,{originalErrorMessage:n&&n.message})}var Js="app_namespace_store",Lte="firebase_remote_config",Ote=1;function Dte(){return new Promise(function(e,t){var n=indexedDB.open(Lte,Ote);n.onerror=function(r){t(Ev(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Js,{keyPath:"compositeKey"})}}})}var Mte=function(){function e(t,n,r,i){i===void 0&&(i=Dte()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Js],"readonly"),c=l.objectStore(Js),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(v){a(Ev(v,"storage-get"))},p.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Cr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Js],"readwrite"),h=c.objectStore(Js),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(m){l(Ev(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){l(Cr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Js],"readwrite"),c=l.objectStore(Js),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(v){a(Ev(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(Cr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fte=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ute(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Cr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Bte(e){if(!(e instanceof Vl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var jte=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return A(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,Ute(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Bte(a))throw a;return l={throttleEndTimeMillis:Date.now()+Y_(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),v4="@firebase/remote-config",Vte="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(e){e.INTERNAL.registerComponent(new gn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(v4,Vte);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Cr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw Cr.create("registration-project-id");if(!h)throw Cr.create("registration-api-key");if(!p)throw Cr.create("registration-app-id");i=i||"firebase";var v=new Mte(p,s.name,i),m=new Fte(v),y=new ja(v4);y.logLevel=we.ERROR;var _=new Ste(a,e.SDK_VERSION,i,c,h,p),S=new jte(_,v),C=new _te(S,v,m,y),b=new xte(s,C,m,v,y);return b.ensureInitialized(),b}}$te(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr,qte=(Qr={},Qr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Qr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Qr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Qr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Qr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Qr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Qr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Qr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Qr["recaptcha-error"]="ReCAPTCHA error.",Qr),ar=new go("appCheck","AppCheck",qte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R5=new Map,zte={activated:!1,tokenObservers:[]},Hte={enabled:!1};function Pn(e){return R5.get(e)||zte}function xi(e,t){R5.set(e,t)}function II(){return Hte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x5="https://content-firebaseappcheck.googleapis.com/v1beta",Wte="exchangeRecaptchaToken",Kte="exchangeDebugToken",g4={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gte=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Bt,[4,Qte(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Bt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Qte(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return self.grecaptcha}function P5(e){if(!Pn(e).activated)throw ar.create("use-before-activation",{appName:e.name})}function Yte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Xte(e){return im.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(e,t){var n=e.url,r=e.body;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(_){switch(_.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},_.label=1;case 1:return _.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=_.sent(),[3,4];case 3:throw c=_.sent(),ar.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw ar.create("fetch-status-error",{httpStatus:l.status});_.label=5;case 5:return _.trys.push([5,7,,8]),[4,l.json()];case 6:return h=_.sent(),[3,8];case 7:throw p=_.sent(),ar.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function Jte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:x5+"/projects/"+r+"/apps/"+i+":"+Wte+"?key="+s,body:{recaptcha_token:t}}}function Zte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:x5+"/projects/"+r+"/apps/"+i+":"+Kte+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ene="firebase-app-check-database",tne=1,Ah="firebase-app-check-store",O5="debug-token",Yp=null;function D5(){return Yp||(Yp=new Promise(function(e,t){try{var n=indexedDB.open(ene,tne);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(ar.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ah,{keyPath:"compositeKey"})}}}catch(r){t(ar.create("storage-open",{originalErrorMessage:r.message}))}}),Yp)}function nne(e){return F5(U5(e))}function rne(e,t){return M5(U5(e),t)}function ine(e){return M5(O5,e)}function one(){return F5(O5)}function M5(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,D5()];case 1:return n=a.sent(),r=n.transaction(Ah,"readwrite"),i=r.objectStore(Ah),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(ar.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function F5(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,D5()];case 1:return t=s.sent(),n=t.transaction(Ah,"readonly"),r=n.objectStore(Ah),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(ar.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function U5(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l0=new ja("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sne(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!Fh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,nne(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),l0.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function y4(e,t){return Fh()?rne(e,t).catch(function(n){l0.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function ane(){return A(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,one()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=Yte(),ine(t).catch(function(r){return l0.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(){var e=II();return e.enabled}function lne(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){if(e=II(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function cne(){var e=g7();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=II();t.enabled=!0;var n=new Bt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(ane())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fne={error:"UNKNOWN_ERROR"};function Vg(e,t,n){return n===void 0&&(n=!1),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return P5(e),r=Pn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&Rh(a)&&(i=a,xi(e,ie(ie({},r),{token:i})),w4(e,{token:i.token})),y.label=2;case 2:return!n&&i&&Rh(i)?[2,{token:i.token}]:une()?(c=L5,h=Zte,p=[e],[4,lne()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,y4(e,l)];case 5:return y.sent(),xi(e,ie(ie({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),l0.error(v),s=v,[3,9];case 9:return i?[3,10]:(m=dne(s),[3,12]);case 10:return m={token:i.token},xi(e,ie(ie({},r),{token:i})),[4,y4(e,i)];case 11:y.sent(),y.label=12;case 12:return w4(e,m),[2,m]}})})}function B5(e,t,n,r,i){var s=Pn(e),a={next:r,error:i,type:n},l=ie(ie({},s),{tokenObservers:ve(ve([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=hne(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&Rh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&Rh(p)&&r({token:p.token})}).catch(function(){});xi(e,l)}function kI(e,t){var n=Pn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),xi(e,ie(ie({},n),{tokenObservers:r}))}function hne(e,t){var n=this;return new Gte(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=Pn(e),r.token?[3,2]:[4,Vg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,Vg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Pn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},g4.RETRIAL_MIN_WAIT,g4.RETRIAL_MAX_WAIT)}function w4(e,t){for(var n=Pn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function Rh(e){return e.expireTimeMillis-Date.now()>0}function dne(e){return{token:Xte(fne),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pne="https://www.google.com/recaptcha/api.js";function vne(e,t){var n=Pn(e),r=new Bt;xi(e,ie(ie({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=m4();return a?a.ready(function(){_4(e,t,a,i),r.resolve(a)}):mne(function(){var l=m4();if(!l)throw new Error("no recaptcha");l.ready(function(){_4(e,t,l,i),r.resolve(l)})}),r.promise}function gne(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return P5(e),t=Pn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=Pn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function _4(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=Pn(e);xi(e,ie(ie({},s),{reCAPTCHAState:ie(ie({},s.reCAPTCHAState),{widgetId:i})}))}function mne(e){var t=document.createElement("script");t.src=""+pne,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JE=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw ar.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,gne(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),ar.create("recaptcha-error");case 4:return[2,L5(Jte(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,vne(t,this._siteKey).catch(function(){})},e}(),ZE=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:if(!this._app)throw ar.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=_7(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ie(ie({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yne(e,t,n,r){var i=Pn(e);if(i.activated)throw ar.create("already-activated",{appName:e.name});var s=ie(ie({},i),{activated:!0});s.cachedTokenPromise=sne(e).then(function(a){return a&&Rh(a)&&xi(e,ie(ie({},Pn(e)),{token:a})),a}),typeof t=="string"?s.provider=new JE(t):t instanceof JE||t instanceof ZE?s.provider=t:s.provider=new ZE({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,xi(e,s),s.provider.initialize(e,n)}function wne(e,t){var n=Pn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),xi(e,ie(ie({},n),{isTokenAutoRefreshEnabled:t}))}function _ne(e,t,n){return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,Vg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function Ene(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),B5(e,t,"EXTERNAL",s,a),function(){return kI(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bne(e,t){return{app:e,activate:function(n,r){return yne(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return wne(e,n)},getToken:function(n){return _ne(e,t,n)},onTokenChanged:function(n,r,i){return Ene(e,t,n,r)},INTERNAL:{delete:function(){for(var n=Pn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];kI(e,s.next)}return Promise.resolve()}}}}function Tne(e,t){return{getToken:function(n){return Vg(e,t,n)},addTokenListener:function(n){return B5(e,t,"INTERNAL",n)},removeTokenListener:function(n){return kI(e,n)}}}var Sne="@firebase/app-check",Ine="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kne="appCheck",E4="app-check-internal";function Cne(e){e.INTERNAL.registerComponent(new gn(kne,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return bne(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:JE,CustomProvider:ZE}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(E4);i.initialize()})),e.INTERNAL.registerComponent(new gn(E4,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return Tne(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(Sne,Ine)}Cne(ee);cne();var Nne="firebase",j5="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(Nne,j5,"app");ee.SDK_VERSION=j5;var Ane="firebase",Rne="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ee.registerVersion(Ane,Rne);const xne={apiKey:"AIzaSyBpBE9bWyRzaJP8g1cjgGEuciTrvKJDBrE",authDomain:"cristminix-c5687.firebaseapp.com",projectId:"cristminix-c5687",storageBucket:"cristminix-c5687.appspot.com",messagingSenderId:"7808653581",appId:"1:7808653581:web:688ab1ce82143a73d0f844",measurementId:"G-T5KWSRLVM2"};ee.initializeApp(xne);var b4=ee.firestore();const Mi=Object.create(null);Mi.open="0";Mi.close="1";Mi.ping="2";Mi.pong="3";Mi.message="4";Mi.upgrade="5";Mi.noop="6";const bv=Object.create(null);Object.keys(Mi).forEach(e=>{bv[Mi[e]]=e});const Pne={type:"error",data:"parser error"},Lne=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",One=typeof ArrayBuffer=="function",Dne=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,V5=({type:e,data:t},n,r)=>Lne&&t instanceof Blob?n?r(t):T4(t,r):One&&(t instanceof ArrayBuffer||Dne(t))?n?r(t):T4(new Blob([t]),r):r(Mi[e]+(t||"")),T4=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)},S4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",df=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<S4.length;e++)df[S4.charCodeAt(e)]=e;const Mne=e=>{let t=e.length*.75,n=e.length,r,i=0,s,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(r=0;r<n;r+=4)s=df[e.charCodeAt(r)],a=df[e.charCodeAt(r+1)],l=df[e.charCodeAt(r+2)],c=df[e.charCodeAt(r+3)],p[i++]=s<<2|a>>4,p[i++]=(a&15)<<4|l>>2,p[i++]=(l&3)<<6|c&63;return h},Fne=typeof ArrayBuffer=="function",$5=(e,t)=>{if(typeof e!="string")return{type:"message",data:q5(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Une(e.substring(1),t)}:bv[n]?e.length>1?{type:bv[n],data:e.substring(1)}:{type:bv[n]}:Pne},Une=(e,t)=>{if(Fne){const n=Mne(e);return q5(n,t)}else return{base64:!0,data:e}},q5=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},z5=String.fromCharCode(30),Bne=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,a)=>{V5(s,!1,l=>{r[a]=l,++i===n&&t(r.join(z5))})})},jne=(e,t)=>{const n=e.split(z5),r=[];for(let i=0;i<n.length;i++){const s=$5(n[i],t);if(r.push(s),s.type==="error")break}return r},H5=4;function _t(e){if(e)return Vne(e)}function Vne(e){for(var t in _t.prototype)e[t]=_t.prototype[t];return e}_t.prototype.on=_t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};_t.prototype.off=_t.prototype.removeListener=_t.prototype.removeAllListeners=_t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};_t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};_t.prototype.emitReserved=_t.prototype.emit;_t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_t.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Er=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function W5(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const $ne=Er.setTimeout,qne=Er.clearTimeout;function c0(e,t){t.useNativeTimers?(e.setTimeoutFn=$ne.bind(Er),e.clearTimeoutFn=qne.bind(Er)):(e.setTimeoutFn=Er.setTimeout.bind(Er),e.clearTimeoutFn=Er.clearTimeout.bind(Er))}const zne=1.33;function Hne(e){return typeof e=="string"?Wne(e):Math.ceil((e.byteLength||e.size)*zne)}function Wne(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class Kne extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class K5 extends _t{constructor(t){super(),this.writable=!1,c0(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Kne(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=$5(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const G5="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),eb=64,Gne={};let I4=0,Xp=0,k4;function C4(e){let t="";do t=G5[e%eb]+t,e=Math.floor(e/eb);while(e>0);return t}function Q5(){const e=C4(+new Date);return e!==k4?(I4=0,k4=e):e+"."+C4(I4++)}for(;Xp<eb;Xp++)Gne[G5[Xp]]=Xp;function Y5(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Qne(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let X5=!1;try{X5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Yne=X5;function J5(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Yne))return new XMLHttpRequest}catch{}if(!t)try{return new Er[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Xne(){}const Jne=function(){return new J5({xdomain:!1}).responseType!=null}();class Zne extends K5{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=Jne&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};jne(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Bne(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Q5()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=Y5(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new il(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let il=class Tv extends _t{constructor(t,n){super(),c0(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=W5(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new J5(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=Tv.requestsCount++,Tv.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Xne,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Tv.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};il.requestsCount=0;il.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",N4);else if(typeof addEventListener=="function"){const e="onpagehide"in Er?"pagehide":"unload";addEventListener(e,N4,!1)}}function N4(){for(let e in il.requests)il.requests.hasOwnProperty(e)&&il.requests[e].abort()}const Z5=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Jp=Er.WebSocket||Er.MozWebSocket,A4=!0,ere="arraybuffer",R4=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class tre extends K5{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=R4?{}:W5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=A4&&!R4?n?new Jp(t,n):new Jp(t):new Jp(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||ere,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;V5(r,this.supportsBinary,s=>{const a={};try{A4&&this.ws.send(s)}catch{}i&&Z5(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Q5()),this.supportsBinary||(t.b64=1);const i=Y5(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Jp}}const nre={websocket:tre,polling:Zne},rre=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ire=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tb(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=rre.exec(e||""),s={},a=14;for(;a--;)s[ire[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=ore(s,s.path),s.queryKey=sre(s,s.query),s}function ore(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sre(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let eF=class xu extends _t{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=tb(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=tb(n.host).host),c0(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qne(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=H5,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new nre[t](r)}open(){let t;if(this.opts.rememberUpgrade&&xu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;xu.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,p(),n.close(),n=null)}const a=v=>{const m=new Error("probe error: "+v);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function l(){a("transport closed")}function c(){a("socket closed")}function h(v){n&&v.name!==n.name&&s()}const p=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",h)};n.once("open",i),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",h),n.open()}onOpen(){if(this.readyState="open",xu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Hne(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){xu.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};eF.protocol=H5;function are(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=tb(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const ure=typeof ArrayBuffer=="function",lre=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,tF=Object.prototype.toString,cre=typeof Blob=="function"||typeof Blob<"u"&&tF.call(Blob)==="[object BlobConstructor]",fre=typeof File=="function"||typeof File<"u"&&tF.call(File)==="[object FileConstructor]";function CI(e){return ure&&(e instanceof ArrayBuffer||lre(e))||cre&&e instanceof Blob||fre&&e instanceof File}function Sv(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Sv(e[n]))return!0;return!1}if(CI(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Sv(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Sv(e[n]))return!0;return!1}function hre(e){const t=[],n=e.data,r=e;return r.data=nb(n,t),r.attachments=t.length,{packet:r,buffers:t}}function nb(e,t){if(!e)return e;if(CI(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=nb(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=nb(e[r],t));return n}return e}function dre(e,t){return e.data=rb(e.data,t),delete e.attachments,e}function rb(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=rb(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=rb(e[n],t));return e}const pre=5;var Ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ie||(Ie={}));class vre{constructor(t){this.replacer=t}encode(t){return(t.type===Ie.EVENT||t.type===Ie.ACK)&&Sv(t)?this.encodeAsBinary({type:t.type===Ie.EVENT?Ie.BINARY_EVENT:Ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ie.BINARY_EVENT||t.type===Ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=hre(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class NI extends _t{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ie.BINARY_EVENT;r||n.type===Ie.BINARY_ACK?(n.type=r?Ie.EVENT:Ie.ACK,this.reconstructor=new gre(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(CI(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ie[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ie.BINARY_EVENT||r.type===Ie.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(s,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(NI.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ie.CONNECT:return typeof n=="object";case Ie.DISCONNECT:return n===void 0;case Ie.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ie.EVENT:case Ie.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ie.ACK:case Ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gre{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=dre(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mre=Object.freeze(Object.defineProperty({__proto__:null,Decoder:NI,Encoder:vre,get PacketType(){return Ie},protocol:pre},Symbol.toStringTag,{value:"Module"}));function ei(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const yre=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class nF extends _t{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ei(t,"open",this.onopen.bind(this)),ei(t,"packet",this.onpacket.bind(this)),ei(t,"error",this.onerror.bind(this)),ei(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(yre.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Ie.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,l=n.pop();this._registerAckCallback(a,l),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((a,l)=>r?a?s(a):i(l):i(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this.ids++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(){if(this._queue.length===0)return;const t=this._queue[0];if(t.pending)return;t.pending=!0,t.tryCount++;const n=this.ids;this.ids=t.id,this.flags=t.flags,this.emit.apply(this,t.args),this.ids=n}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ie.EVENT:case Ie.BINARY_EVENT:this.onevent(t);break;case Ie.ACK:case Ie.BINARY_ACK:this.onack(t);break;case Ie.DISCONNECT:this.ondisconnect();break;case Ie.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Ie.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ic(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ic.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ic.prototype.reset=function(){this.attempts=0};ic.prototype.setMin=function(e){this.ms=e};ic.prototype.setMax=function(e){this.max=e};ic.prototype.setJitter=function(e){this.jitter=e};class ib extends _t{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,c0(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ic({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||mre;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new eF(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=ei(n,"open",function(){r.onopen(),t&&t()}),s=ei(n,"error",a=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",a),t?t(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&i();const l=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ei(t,"ping",this.onping.bind(this)),ei(t,"data",this.ondata.bind(this)),ei(t,"error",this.onerror.bind(this)),ei(t,"close",this.onclose.bind(this)),ei(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Z5(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new nF(this,t,n),this.nsps[t]=r),this._autoConnect&&r.connect(),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const sf={};function Iv(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=are(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=sf[i]&&s in sf[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new ib(r,t):(sf[i]||(sf[i]=new ib(r,t)),c=sf[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Iv,{Manager:ib,Socket:nF,io:Iv,connect:Iv});const Ce={instance:null,url:"http://localhost:8088",callbacks:{connect:[()=>{console.log(`socketClient connected at ${Ce.url}`)}],disconnect:[()=>{console.log(`socketClient disconnected at ${Ce.url}`)}],serverInfo:[()=>{console.log(`socketClient serverInfo at ${Ce.url}`)}]},callbackFn:{connect:()=>{Ce.callbacks.connect.map(e=>{e()})},disconnect:()=>{Ce.callbacks.disconnect.map(e=>{e()})},serverInfo:e=>{Ce.callbacks.serverInfo.map(t=>{t(e)})}},destroy:()=>{if(Ce.instance){console.log("socketClient.destroy()");try{Ce.instance.off("connect",Ce.callbackFn.connect),Ce.instance.off("disconnect",Ce.callbackFn.disconnect),Ce.instance.off("serverInfo",Ce.callbackFn.serverInfo),Ce.instance.close(),delete Ce.instance,Ce.instance=null}catch(e){console.log(e)}}},setup:e=>{console.log("socketClient.setup()"),Ce.url=e,Ce.init()},changeUrl:e=>{console.log("socketClient.changeUrl()"),Ce.url=e,Ce.destroy(),Ce.init()},setUrl:e=>{Ce.url=e},init:()=>{Ce.instance=Iv(Ce.url,{reconnection:!1,extraHeaders:{"ngrok-skip-browser-warning":1}}),Ce.instance.on("connect",()=>{Ce.callbackFn.connect(),Ce.instance.on("disconnect",Ce.callbackFn.disconnect),Ce.instance.on("serverInfo",Ce.callbackFn.serverInfo)})}},rF=()=>{const[e,t]=ut.useState("");return{serverCfg:e,setServerCfg:t}},iF=()=>{const[e,t]=ut.useState("");return{socketConnected:e,setSocketConnected:t}},wre=()=>Ba(iF),_re=()=>Ba(rF);function Ere(){const[e,t]=ut.useState(""),{serverCfg:n,setServerCfg:r}=_re(),{socketConnected:i,setSocketConnected:s}=wre();async function a(){try{const m=await(await b4.collection("tunnel_config").doc("service_map")).get();if(m.exists)return m.data()}catch{}return null}async function l(){try{const m=await(await b4.collection("tunnel_config").doc("config")).get();if(m.exists)return m.data()}catch{}return null}async function c(){console.log("GET CONFIG");try{const v=await a(),m=await l(),y={config:m,serviceMap:v};m&&(h(y),t(y),r(y))}catch(v){console.log(v.message)}}function h(v){let m=K_(v);Ce.url!=m&&(console.log(`initSocket ${m}`),Ce.changeUrl(m),Ce.instance.on("connect",()=>{s(!0),Ce.instance.on("disconnect",()=>{s(!1)})}))}ut.useEffect(()=>{const v=setInterval(()=>{c().then(m=>{})},5e3);return()=>{clearInterval(v)}},[]);let p=R("tr",{children:R("td",{children:"No Results"})});if(e.config){let v=K_(e);p=Z(Et,{children:[Z("tr",{children:[R("th",{children:"API Url"}),R("td",{children:R("a",{target:"_blank",href:v,children:v})})]}),Z("tr",{children:[R("th",{children:"Server IP"}),R("td",{children:e.config.server_ip})]})]})}return R(Et,{children:R("div",{className:"col-xl-12 mt-2",children:Z("div",{className:"card card-flush",children:[Z("div",{className:"card-header border-0 pt-0",children:[R("div",{className:"card-title",children:R("div",{className:"d-flex align-items-center position-relative my-1",children:"Server Info"})}),R("div",{className:"card-toolbar"})]}),R("div",{className:"card-body pt-0",children:R("div",{className:"hover-scroll-overlay-y pe-6 me-n6",style:{maxHeight:"415px"},children:R("table",{className:"table align-middle table-row-dashed fs-6 gy-5 mb-0",children:R("tbody",{className:"fw-semibold text-gray-600",children:p})})})})]})})})}const bre=()=>Ba(iF);function Tre(){const{socketConnected:e}=bre();return R(Et,{children:R("div",{className:"col-xl-4 col-md-6 mt-2",children:R("div",{className:"card card-h-100",children:Z("div",{className:"card-body",children:[R("div",{className:"row",children:R("span",{className:"text-muted mb-3 d-block text-truncate",children:"Socket Client Status"})}),R("div",{className:"row",children:R("div",{children:e?R("i",{style:{fontSize:"2em",color:"green"},className:"fas fa-toggle-on"}):R("i",{style:{fontSize:"2em",color:"red"},className:"fas fa-toggle-off"})})})]})})})})}const x4=e=>R("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:R("path",{d:"M97.905 67.885c.174 18.8 16.494 25.057 16.674 25.137-.138.44-2.607 8.916-8.597 17.669-5.178 7.568-10.553 15.108-19.018 15.266-8.318.152-10.993-4.934-20.504-4.934-9.508 0-12.479 4.776-20.354 5.086-8.172.31-14.395-8.185-19.616-15.724-10.668-15.424-18.821-43.585-7.874-62.594 5.438-9.44 15.158-15.417 25.707-15.571 8.024-.153 15.598 5.398 20.503 5.398 4.902 0 14.106-6.676 23.782-5.696 4.051.169 15.421 1.636 22.722 12.324-.587.365-13.566 7.921-13.425 23.639m-15.633-46.166c4.338-5.251 7.258-12.563 6.462-19.836-6.254.251-13.816 4.167-18.301 9.416-4.02 4.647-7.54 12.087-6.591 19.216 6.971.54 14.091-3.542 18.43-8.796"})}),Sre=e=>R("svg",{width:24,height:24,xmlns:"http://www.w3.org/2000/svg",...e,children:R("path",{d:"M16 4.973c-6.248 0-11.313 5.065-11.313 11.313S9.752 27.599 16 27.599s11.313-5.065 11.313-11.313S22.248 4.973 16 4.973zm2.538 3.896a1.51 1.51 0 1 1 2.618 1.511 1.51 1.51 0 0 1-2.619-1.511zM16 9.724c.608 0 1.195.084 1.753.238.098.607.459 1.166 1.033 1.498s1.237.364 1.811.147a6.54 6.54 0 0 1 1.95 4.256l-2.152.032a4.412 4.412 0 0 0-6.252-3.611l-1.05-1.881a6.538 6.538 0 0 1 2.908-.679zm-7.693 8.072a1.51 1.51 0 1 1-.002-3.02 1.51 1.51 0 0 1 .002 3.02zm1.339.135c.477-.389.782-.981.782-1.645s-.305-1.256-.782-1.645a6.577 6.577 0 0 1 2.713-3.814l1.104 1.85c-1.135.799-1.876 2.117-1.876 3.61s.741 2.811 1.876 3.609l-1.104 1.85a6.568 6.568 0 0 1-2.713-3.815zm10.956 6.324a1.51 1.51 0 1 1-1.509-2.614 1.51 1.51 0 0 1 1.508 2.614zm-.005-3.291a2.12 2.12 0 0 0-2.844 1.645 6.542 6.542 0 0 1-4.661-.441l1.05-1.881a4.411 4.411 0 0 0 6.252-3.611l2.153.032a6.54 6.54 0 0 1-1.95 4.256z"})}),Zp=e=>R("svg",{width:24,height:24,xmlns:"http://www.w3.org/2000/svg",...e,children:R("path",{d:"M19.7 17.6c-.1-.2-.2-.4-.2-.6 0-.4-.2-.7-.5-1-.1-.1-.3-.2-.4-.2.6-1.8-.3-3.6-1.3-4.9-.8-1.2-2-2.1-1.9-3.7 0-1.9.2-5.4-3.3-5.1-3.6.2-2.6 3.9-2.7 5.2 0 1.1-.5 2.2-1.3 3.1-.2.2-.4.5-.5.7-1 1.2-1.5 2.8-1.5 4.3-.2.2-.4.4-.5.6-.1.1-.2.2-.2.3-.1.1-.3.2-.5.3-.4.1-.7.3-.9.7-.1.3-.2.7-.1 1.1.1.2.1.4 0 .7-.2.4-.2.9 0 1.4.3.4.8.5 1.5.6.5 0 1.1.2 1.6.4.5.3 1.1.5 1.7.5.3 0 .7-.1 1-.2.3-.2.5-.4.6-.7.4 0 1-.2 1.7-.2.6 0 1.2.2 2 .1 0 .1 0 .2.1.3.2.5.7.9 1.3 1h.2c.8-.1 1.6-.5 2.1-1.1.4-.4.9-.7 1.4-.9.6-.3 1-.5 1.1-1 .1-.7-.1-1.1-.5-1.7zM12.8 4.8c.6.1 1.1.6 1 1.2 0 .3-.1.6-.3.9h-.1c-.2-.1-.3-.1-.4-.2.1-.1.1-.3.2-.5 0-.4-.2-.7-.4-.7-.3 0-.5.3-.5.7v.1c-.1-.1-.3-.1-.4-.2V6c-.1-.5.3-1.1.9-1.2zm-.3 2c.1.1.3.2.4.2.1 0 .3.1.4.2.2.1.4.2.4.5s-.3.6-.9.8c-.2.1-.3.1-.4.2-.3.2-.6.3-1 .3-.3 0-.6-.2-.8-.4-.1-.1-.2-.2-.4-.3-.1-.1-.3-.3-.4-.6 0-.1.1-.2.2-.3.3-.2.4-.3.5-.4l.1-.1c.2-.3.6-.5 1-.5.3.1.6.2.9.4zM10.4 5c.4 0 .7.4.8 1.1v.2c-.1 0-.3.1-.4.2v-.2c0-.3-.2-.6-.4-.5-.2 0-.3.3-.3.6 0 .2.1.3.2.4 0 0-.1.1-.2.1-.2-.2-.4-.5-.4-.8 0-.6.3-1.1.7-1.1zm-1 16.1c-.7.3-1.6.2-2.2-.2-.6-.3-1.1-.4-1.8-.4-.5-.1-1-.1-1.1-.3-.1-.2-.1-.5.1-1 .1-.3.1-.6 0-.9-.1-.3-.1-.5 0-.8.1-.3.3-.4.6-.5.3-.1.5-.2.7-.4.1-.1.2-.2.3-.4.3-.4.5-.6.8-.6.6.1 1.1 1 1.5 1.9.2.3.4.7.7 1 .4.5.9 1.2.9 1.6 0 .5-.2.8-.5 1zm4.9-2.2c0 .1 0 .1-.1.2-1.2.9-2.8 1-4.1.3l-.6-.9c.9-.1.7-1.3-1.2-2.5-2-1.3-.6-3.7.1-4.8.1-.1.1 0-.3.8-.3.6-.9 2.1-.1 3.2 0-.8.2-1.6.5-2.4.7-1.3 1.2-2.8 1.5-4.3.1.1.1.1.2.1.1.1.2.2.3.2.2.3.6.4.9.4h.1c.4 0 .8-.1 1.1-.4.1-.1.2-.2.4-.2.3-.1.6-.3.9-.6.4 1.3.8 2.5 1.4 3.6.4.8.7 1.6.9 2.5.3 0 .7.1 1 .3.8.4 1.1.7 1 1.2H18c0-.3-.2-.6-.9-.9-.7-.3-1.3-.3-1.5.4-.1 0-.2.1-.3.1-.8.4-.8 1.5-.9 2.6.1.4 0 .7-.1 1.1zm4.6.6c-.6.2-1.1.6-1.5 1.1-.4.6-1.1 1-1.9.9-.4 0-.8-.3-.9-.7-.1-.6-.1-1.2.2-1.8.1-.4.2-.7.3-1.1.1-1.2.1-1.9.6-2.2 0 .5.3.8.7 1 .5 0 1-.1 1.4-.5h.2c.3 0 .5 0 .7.2.2.2.3.5.3.7 0 .3.2.6.3.9.5.5.5.8.5.9-.1.2-.5.4-.9.6zm-9-12c-.1 0-.1 0-.1.1 0 0 0 .1.1.1s.1.1.1.1c.3.4.8.6 1.4.7.5-.1 1-.2 1.5-.6l.6-.3c.1 0 .1-.1.1-.1 0-.1 0-.1-.1-.1-.2.1-.5.2-.7.3-.4.3-.9.5-1.4.5-.5 0-.9-.3-1.2-.6-.1 0-.2-.1-.3-.1z"})}),Ire=e=>R("svg",{width:24,height:24,xmlns:"http://www.w3.org/2000/svg",...e,children:R("path",{d:"M22 2 11.2 3.6v8l10.8-.1V2zM10.2 12.5 2 12.4v6.8l8.1 1.1.1-7.8zM2 4.8v6.8h8.1V3.7L2 4.8zm9.1 7.7v7.9L22 22v-9.4l-10.9-.1z"})}),kre=()=>Ba(rF),P4={apple:x4,darwin:x4,ubuntu:Sre,linux:Zp,windows:Ire,debian:Zp,redhat:Zp,centos:Zp};function Cre(){const{serverCfg:e,setServerCfg:t}=kre(),[n,r]=ut.useState(""),[i,s]=ut.useState(""),[a,l]=ut.useState(""),[c,h]=ut.useState(""),[p,v]=ut.useState("");let m;m=K_(e);function y(){fetch(`${m}/api/sysinfo/getBasicInfo?t=disk`,{headers:{"ngrok-skip-browser-warning":1}}).then(Y=>{try{return Y.json()}catch{return{}}}).then(Y=>s(Y))}function _(){fetch(`${m}/api/sysinfo/getBasicInfo?t=os`,{headers:{"ngrok-skip-browser-warning":1}}).then(Y=>{try{return Y.json()}catch{return{}}}).then(Y=>v(Y))}function S(){fetch(`${m}/api/sysinfo/getBasicInfo?t=cpu`,{headers:{"ngrok-skip-browser-warning":1}}).then(Y=>{try{return Y.json()}catch{return{}}}).then(Y=>h(Y))}function C(){fetch(`${m}/api/sysinfo/getBasicInfo?t=mem`,{headers:{"ngrok-skip-browser-warning":1}}).then(Y=>{try{return Y.json()}catch{return{}}}).then(Y=>l(Y))}function b(){fetch(`${m}/api/sysinfo/getBasicInfo?t=uptime`,{headers:{"ngrok-skip-browser-warning":1}}).then(Y=>{try{return Y.json()}catch{return{}}}).then(Y=>r(Y))}ut.useEffect(()=>{const Y=setInterval(()=>{y(),C(),S(),b()},5e3);return()=>{clearInterval(Y)}},[m]),ut.useEffect(()=>{_();const Y=setInterval(()=>{_()},15e3*2);return()=>{clearInterval(Y)}},[m]);let T=0,I=0,P=0,D,L="";try{const Y=i[0];L=Y.Filesystem,T=Y["1K-blocks"],I=Y.Available,P=Y.Used,D=Y["Use%"]}catch{}let j,F,le;try{j=a.MemTotal,F=a.MemFree,le=Math.ceil(F/j*100)}catch{}let x,pt,Dn,ci;try{x=c.model,Dn=c.load,ci=c.core,pt=c.speed*1024}catch{}let Bi,Mr,Fr,ji,H,se,ae;try{const Y=p.data;if(Bi=Y.distro,ji=Y.arch,H=Y.hostname,se=Y.kernel,Mr=Y.logofile,typeof P4[Mr]<"u"){const Ue=P4[Mr];ae=R(Ue,{viewBox:"0 0 28 28",width:18,style:{marginLeft:"8px"},fill:"#aaa"})}}catch{}return R(Et,{children:R("div",{className:"col-xl-4 col-md-6 mt-2",children:R("div",{className:"card card-h-100",children:Z("div",{className:"card-body",children:[R("div",{className:"row",children:R("span",{className:"text-muted mb-3 d-block text-truncate",children:"System Info"})}),R("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[R("div",{className:"col-span-2 row-span-2 text-center pt-0",children:ae}),Z("div",{className:"col-span-10",children:[R("div",{children:Fr}),Z("div",{children:[Bi," ",ji]}),Z("div",{children:[H," ",se]})]})]})}),R("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[R("div",{className:"col-span-2 row-span-2 text-center pt-0",children:R("i",{className:"fas fa-microchip",style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[R("div",{children:x}),R("div",{className:"w-full bg-gray-200 h-1",children:R("div",{className:"bg-blue-600 h-1",style:{width:Dn}})}),Z("div",{children:[Xc(pt,!0,1).replace(/GB/,"Ghz")," Core: ",ci]})]})]})}),R("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[R("div",{className:"col-span-2 row-span-2 text-center pt-0",children:R("i",{className:"fas fa-memory",style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[R("div",{children:"RAM"}),R("div",{className:"w-full bg-gray-200 h-1",children:R("div",{className:"bg-blue-600 h-1",style:{width:`${le}%`}})}),Z("div",{children:[Xc(F,!0,1)," free of ",Xc(j,!0,0)]})]})]})}),R("div",{className:"row",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[R("div",{className:"col-span-2 row-span-2 text-center pt-0",children:R("i",{className:"fas fa-hdd",style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[Z("div",{children:["HDD ",L]}),R("div",{className:"w-full bg-gray-200 h-1",children:R("div",{className:"bg-blue-600 h-1",style:{width:D}})}),Z("div",{children:[Xc(I,!0,1)," free of ",Xc(T,!0,0)]})]})]})}),R("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[R("div",{className:"col-span-2 row-span-2 text-center pt-0",children:R("i",{className:"fas fa-hourglass-2",style:{fontSize:"1em"}})}),R("div",{className:"col-span-10",children:Z("div",{children:["UP ",n.ut_hour," hr ",n.ut_min," min ",n.ut_sec," sec"]})})]})})]})})})})}class Nre extends Ph.Component{render(){return R(Et,{children:Z("div",{className:"wrapper d-flex flex-column flex-row-fluid",id:"kt_wrapper",children:[R(u7,{title:"Dashboard"}),R("div",{className:"content d-flex flex-column flex-column-fluid",id:"kt_content",children:R("div",{className:"container-fluid",id:"kt_content_container",children:Z("div",{className:"row",children:[R(n7,{}),R(Cre,{}),R(Tre,{}),R(Ere,{})]})})}),R(r7,{})]})})}}function Are(){return document.title="Dashboard",R(Et,{children:Z("div",{className:"page d-flex flex-row flex-column-fluid",children:[R(t7,{}),R(Nre,{})]})})}const Rre=()=>Ba(Zb);function xre(e){const{isLogedIn:t,setIsLogedIn:n}=Rre(),[r,i]=ut.useState("admin@gmail.com"),[s,a]=ut.useState("admin@gmail.com");function l(c){return localStorage.isLogedIn="true",n("true"),document.location.hash="dashboard",c.preventDefault(),!1}return R(Et,{children:R("div",{className:"d-flex flex-center flex-column flex-lg-row-fluid",children:R("div",{className:"w-lg-500px p-10",children:Z("form",{className:"mt-4 pt-2",id:"account",method:"post",onSubmit:l,children:[Z("div",{className:"text-center mb-11",children:[R("h1",{className:"text-dark fw-bolder mb-3",children:"Masuk"}),R("div",{className:"text-gray-500 fw-semibold fs-6"})]}),Z("div",{className:"fv-row mb-8",children:[R("input",{value:r,onChange:()=>{},type:"text",placeholder:"Email",autoComplete:"off",className:"form-control bg-transparent","data-val":"true","data-val-email":"Isian Email e-mail salah.","data-val-required":"Isisn Email diperlukan.",id:"Input_Email",name:"Input.Email"}),R("span",{className:"text-danger field-validation-valid","data-valmsg-for":"Input.Email","data-valmsg-replace":"true"})]}),Z("div",{className:"fv-row mb-3",children:[R("input",{value:s,onChange:()=>{},type:"password",placeholder:"Password",autoComplete:"off",className:"form-control bg-transparent","data-val":"true","data-val-required":"Isian Password diperlukan.",id:"Input_Password",name:"Input.Password"}),R("span",{className:"text-danger field-validation-valid","data-valmsg-for":"Input.Password","data-valmsg-replace":"true"})]}),R("div",{className:"d-flex flex-stack flex-wrap gap-3 fs-base fw-semibold mb-8",children:R("div",{})}),R("div",{className:"d-grid mb-10",children:Z("button",{type:"submit",id:"kt_sign_in_submit",className:"btn btn-primary",children:[R("span",{className:"indicator-label",children:"Masuk"}),Z("span",{className:"indicator-progress",children:["Mohon menunggu...",R("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})}),R("div",{className:"text-danger validation-summary-valid","data-valmsg-summary":"true",children:R("ul",{children:R("li",{style:{display:"none"}})})}),R("input",{name:"__RequestVerificationToken",type:"hidden",value:"token"})]})})})})}function Pre(e){return R(Et,{children:R("div",{className:"d-flex flex-column flex-lg-row-fluid w-lg-50 p-10 order-2 order-lg-1",children:R(xre,{})})})}function Lre(e){return R(Et,{children:R("div",{className:"d-flex flex-lg-row-fluid w-lg-50 bgi-size-cover bgi-position-center order-1 order-lg-2",style:{backgroundColor:"#1e1e2d"},children:R("div",{className:"d-flex flex-column flex-center py-7 py-lg-15 px-5 px-md-15 w-100",children:Z("a",{href:"/",className:"mb-0 mb-lg-12",children:[R(Yv,{className:"h-180px logo theme-light-show",viewBox:"0 0 600 512"}),R(Yv,{className:"h-180px logo theme-dark-show",viewBox:"0 0 600 512"})]})})})})}function Ore(){return document.title="Masuk",R(Et,{children:R("div",{className:"d-flex flex-column flex-root",children:Z("div",{className:"d-flex flex-column flex-lg-row flex-column-fluid",children:[R(Pre,{}),R(Lre,{})]})})})}const Dre=()=>Ba(Zb);function Mre(){const{isLogedIn:e,setIsLogedIn:t}=Dre();let n;return t(localStorage.isLogedIn),e=="true"?n=Are:n=Ore,R(n,{})}Xw.createRoot(document.getElementById("root")).render(R(Ph.StrictMode,{children:R(Mre,{})}));
