(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function o6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jf={},s6={get exports(){return jf},set exports(e){jf=e}},Vg={},at={},a6={get exports(){return at},set exports(e){at=e}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=Symbol.for("react.element"),u6=Symbol.for("react.portal"),l6=Symbol.for("react.fragment"),c6=Symbol.for("react.strict_mode"),f6=Symbol.for("react.profiler"),h6=Symbol.for("react.provider"),d6=Symbol.for("react.context"),p6=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),g6=Symbol.for("react.memo"),m6=Symbol.for("react.lazy"),pA=Symbol.iterator;function y6(e){return e===null||typeof e!="object"?null:(e=pA&&e[pA]||e["@@iterator"],typeof e=="function"?e:null)}var RO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xO=Object.assign,PO={};function Fl(e,t,n){this.props=e,this.context=t,this.refs=PO,this.updater=n||RO}Fl.prototype.isReactComponent={};Fl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OO(){}OO.prototype=Fl.prototype;function ib(e,t,n){this.props=e,this.context=t,this.refs=PO,this.updater=n||RO}var ob=ib.prototype=new OO;ob.constructor=ib;xO(ob,Fl.prototype);ob.isPureReactComponent=!0;var vA=Array.isArray,DO=Object.prototype.hasOwnProperty,sb={current:null},LO={key:!0,ref:!0,__self:!0,__source:!0};function MO(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)DO.call(t,r)&&!LO.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:xh,type:e,key:s,ref:a,props:i,_owner:sb.current}}function _6(e,t){return{$$typeof:xh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ab(e){return typeof e=="object"&&e!==null&&e.$$typeof===xh}function w6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gA=/\/+/g;function B_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w6(""+e.key):t.toString(36)}function Zp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xh:case u6:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+B_(a,0):r,vA(i)?(n="",e!=null&&(n=e.replace(gA,"$&/")+"/"),Zp(i,t,n,"",function(h){return h})):i!=null&&(ab(i)&&(i=_6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",vA(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+B_(s,l);a+=Zp(s,t,n,c,i)}else if(c=y6(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+B_(s,l++),a+=Zp(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function yp(e,t,n){if(e==null)return e;var r=[],i=0;return Zp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function E6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},ev={transition:null},b6={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:ev,ReactCurrentOwner:sb};Te.Children={map:yp,forEach:function(e,t,n){yp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yp(e,function(){t++}),t},toArray:function(e){return yp(e,function(t){return t})||[]},only:function(e){if(!ab(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Fl;Te.Fragment=l6;Te.Profiler=f6;Te.PureComponent=ib;Te.StrictMode=c6;Te.Suspense=v6;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b6;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xO({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=sb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)DO.call(t,c)&&!LO.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:xh,type:e.type,key:i,ref:s,props:r,_owner:a}};Te.createContext=function(e){return e={$$typeof:d6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h6,_context:e},e.Consumer=e};Te.createElement=MO;Te.createFactory=function(e){var t=MO.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:p6,render:e}};Te.isValidElement=ab;Te.lazy=function(e){return{$$typeof:m6,_payload:{_status:-1,_result:e},_init:E6}};Te.memo=function(e,t){return{$$typeof:g6,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=ev.transition;ev.transition={};try{e()}finally{ev.transition=t}};Te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Te.useCallback=function(e,t){return On.current.useCallback(e,t)};Te.useContext=function(e){return On.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return On.current.useDeferredValue(e)};Te.useEffect=function(e,t){return On.current.useEffect(e,t)};Te.useId=function(){return On.current.useId()};Te.useImperativeHandle=function(e,t,n){return On.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return On.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return On.current.useReducer(e,t,n)};Te.useRef=function(e){return On.current.useRef(e)};Te.useState=function(e){return On.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return On.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return On.current.useTransition()};Te.version="18.2.0";(function(e){e.exports=Te})(a6);const Ph=o6(at);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T6=at,S6=Symbol.for("react.element"),I6=Symbol.for("react.fragment"),k6=Object.prototype.hasOwnProperty,C6=T6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N6={key:!0,ref:!0,__self:!0,__source:!0};function FO(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)k6.call(t,r)&&!N6.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:S6,type:e,key:s,ref:a,props:i,_owner:C6.current}}Vg.Fragment=I6;Vg.jsx=FO;Vg.jsxs=FO;(function(e){e.exports=Vg})(s6);const Et=jf.Fragment,x=jf.jsx,Z=jf.jsxs;var Yw={},Xw={},A6={get exports(){return Xw},set exports(e){Xw=e}},dr={},Jw={},R6={get exports(){return Jw},set exports(e){Jw=e}},UO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,se){var z=W.length;W.push(se);e:for(;0<z;){var Pe=z-1>>>1,ut=W[Pe];if(0<i(ut,se))W[Pe]=se,W[z]=ut,z=Pe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],z=W.pop();if(z!==se){W[0]=z;e:for(var Pe=0,ut=W.length,Ss=ut>>>1;Pe<Ss;){var fi=2*(Pe+1)-1,oc=W[fi],Fr=fi+1,Is=W[Fr];if(0>i(oc,z))Fr<ut&&0>i(Is,oc)?(W[Pe]=Is,W[Fr]=z,Pe=Fr):(W[Pe]=oc,W[fi]=z,Pe=fi);else if(Fr<ut&&0>i(Is,z))W[Pe]=Is,W[Fr]=z,Pe=Fr;else break e}}return se}function i(W,se){var z=W.sortIndex-se.sortIndex;return z!==0?z:W.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,v=null,m=3,y=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(W){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=W)r(h),se.sortIndex=se.expirationTime,t(c,se);else break;se=n(h)}}function P(W){if(S=!1,I(W),!w)if(n(c)!==null)w=!0,Mr(L);else{var se=n(h);se!==null&&Bi(P,se.startTime-W)}}function L(W,se){w=!1,S&&(S=!1,b(F),F=-1),y=!0;var z=m;try{for(I(se),v=n(c);v!==null&&(!(v.expirationTime>se)||W&&!pt());){var Pe=v.callback;if(typeof Pe=="function"){v.callback=null,m=v.priorityLevel;var ut=Pe(v.expirationTime<=se);se=e.unstable_now(),typeof ut=="function"?v.callback=ut:v===n(c)&&r(c),I(se)}else r(c);v=n(c)}if(v!==null)var Ss=!0;else{var fi=n(h);fi!==null&&Bi(P,fi.startTime-se),Ss=!1}return Ss}finally{v=null,m=z,y=!1}}var O=!1,B=null,F=-1,ue=5,R=-1;function pt(){return!(e.unstable_now()-R<ue)}function Ln(){if(B!==null){var W=e.unstable_now();R=W;var se=!0;try{se=B(!0,W)}finally{se?li():(O=!1,B=null)}}else O=!1}var li;if(typeof T=="function")li=function(){T(Ln)};else if(typeof MessageChannel<"u"){var ji=new MessageChannel,ci=ji.port2;ji.port1.onmessage=Ln,li=function(){ci.postMessage(null)}}else li=function(){C(Ln,0)};function Mr(W){B=W,O||(O=!0,li())}function Bi(W,se){F=C(function(){W(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,Mr(L))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var se=3;break;default:se=m}var z=m;m=se;try{return W()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=m;m=W;try{return se()}finally{m=z}},e.unstable_scheduleCallback=function(W,se,z){var Pe=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Pe+z:Pe):z=Pe,W){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=z+ut,W={id:p++,callback:se,priorityLevel:W,startTime:z,expirationTime:ut,sortIndex:-1},z>Pe?(W.sortIndex=z,t(h,W),n(c)===null&&W===n(h)&&(S?(b(F),F=-1):S=!0,Bi(P,z-Pe))):(W.sortIndex=ut,t(c,W),w||y||(w=!0,Mr(L))),W},e.unstable_shouldYield=pt,e.unstable_wrapCallback=function(W){var se=m;return function(){var z=m;m=se;try{return W.apply(this,arguments)}finally{m=z}}}})(UO);(function(e){e.exports=UO})(R6);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=at,lr=Jw;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BO=new Set,Bf={};function Fa(e,t){ol(e,t),ol(e+"Capture",t)}function ol(e,t){for(Bf[e]=t,e=0;e<t.length;e++)BO.add(t[e])}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zw=Object.prototype.hasOwnProperty,x6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mA={},yA={};function P6(e){return Zw.call(yA,e)?!0:Zw.call(mA,e)?!1:x6.test(e)?yA[e]=!0:(mA[e]=!0,!1)}function O6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D6(e,t,n,r){if(t===null||typeof t>"u"||O6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ub=/[\-:]([a-z])/g;function lb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ub,lb);tn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ub,lb);tn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ub,lb);tn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function cb(e,t,n,r){var i=tn.hasOwnProperty(t)?tn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D6(t,n,i,r)&&(n=null),r||i===null?P6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vo=jO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_p=Symbol.for("react.element"),Pu=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),fb=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),VO=Symbol.for("react.provider"),$O=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),t1=Symbol.for("react.suspense"),n1=Symbol.for("react.suspense_list"),db=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),qO=Symbol.for("react.offscreen"),_A=Symbol.iterator;function $c(e){return e===null||typeof e!="object"?null:(e=_A&&e[_A]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,V_;function af(e){if(V_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V_=t&&t[1]||""}return`
`+V_+e}var $_=!1;function q_(e,t){if(!e||$_)return"";$_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{$_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?af(e):""}function L6(e){switch(e.tag){case 5:return af(e.type);case 16:return af("Lazy");case 13:return af("Suspense");case 19:return af("SuspenseList");case 0:case 2:case 15:return e=q_(e.type,!1),e;case 11:return e=q_(e.type.render,!1),e;case 1:return e=q_(e.type,!0),e;default:return""}}function r1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ou:return"Fragment";case Pu:return"Portal";case e1:return"Profiler";case fb:return"StrictMode";case t1:return"Suspense";case n1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $O:return(e.displayName||"Context")+".Consumer";case VO:return(e._context.displayName||"Context")+".Provider";case hb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case db:return t=e.displayName||null,t!==null?t:r1(e.type)||"Memo";case Lo:t=e._payload,e=e._init;try{return r1(e(t))}catch{}}return null}function M6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r1(t);case 8:return t===fb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F6(e){var t=zO(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wp(e){e._valueTracker||(e._valueTracker=F6(e))}function HO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zO(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Iv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function i1(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=as(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WO(e,t){t=t.checked,t!=null&&cb(e,"checked",t,!1)}function o1(e,t){WO(e,t);var n=as(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?s1(e,t.type,n):t.hasOwnProperty("defaultValue")&&s1(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function s1(e,t,n){(t!=="number"||Iv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uf=Array.isArray;function Ku(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+as(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function a1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(uf(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:as(n)}}function KO(e,t){var n=as(t.value),r=as(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function TA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ep,QO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ep=Ep||document.createElement("div"),Ep.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ep.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U6=["Webkit","ms","Moz","O"];Object.keys(pf).forEach(function(e){U6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pf[t]=pf[e]})});function YO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pf.hasOwnProperty(e)&&pf[e]?(""+t).trim():t+"px"}function XO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var j6=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l1(e,t){if(t){if(j6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function c1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f1=null;function pb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var h1=null,Gu=null,Qu=null;function SA(e){if(e=Lh(e)){if(typeof h1!="function")throw Error($(280));var t=e.stateNode;t&&(t=Wg(t),h1(e.stateNode,e.type,t))}}function JO(e){Gu?Qu?Qu.push(e):Qu=[e]:Gu=e}function ZO(){if(Gu){var e=Gu,t=Qu;if(Qu=Gu=null,SA(e),t)for(e=0;e<t.length;e++)SA(t[e])}}function e2(e,t){return e(t)}function t2(){}var z_=!1;function n2(e,t,n){if(z_)return e(t,n);z_=!0;try{return e2(e,t,n)}finally{z_=!1,(Gu!==null||Qu!==null)&&(t2(),ZO())}}function $f(e,t){var n=e.stateNode;if(n===null)return null;var r=Wg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var d1=!1;if(so)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){d1=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{d1=!1}function B6(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var vf=!1,kv=null,Cv=!1,p1=null,V6={onError:function(e){vf=!0,kv=e}};function $6(e,t,n,r,i,s,a,l,c){vf=!1,kv=null,B6.apply(V6,arguments)}function q6(e,t,n,r,i,s,a,l,c){if($6.apply(this,arguments),vf){if(vf){var h=kv;vf=!1,kv=null}else throw Error($(198));Cv||(Cv=!0,p1=h)}}function Ua(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function IA(e){if(Ua(e)!==e)throw Error($(188))}function z6(e){var t=e.alternate;if(!t){if(t=Ua(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return IA(i),e;if(s===r)return IA(i),t;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function i2(e){return e=z6(e),e!==null?o2(e):null}function o2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o2(e);if(t!==null)return t;e=e.sibling}return null}var s2=lr.unstable_scheduleCallback,kA=lr.unstable_cancelCallback,H6=lr.unstable_shouldYield,W6=lr.unstable_requestPaint,ht=lr.unstable_now,K6=lr.unstable_getCurrentPriorityLevel,vb=lr.unstable_ImmediatePriority,a2=lr.unstable_UserBlockingPriority,Nv=lr.unstable_NormalPriority,G6=lr.unstable_LowPriority,u2=lr.unstable_IdlePriority,$g=null,Ii=null;function Q6(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot($g,e,void 0,(e.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:J6,Y6=Math.log,X6=Math.LN2;function J6(e){return e>>>=0,e===0?32:31-(Y6(e)/X6|0)|0}var bp=64,Tp=4194304;function lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Av(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=lf(l):(s&=a,s!==0&&(r=lf(s)))}else a=n&~i,a!==0?r=lf(a):s!==0&&(r=lf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ni(t),i=1<<n,r|=e[n],t&=~i;return r}function Z6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ni(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Z6(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function v1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l2(){var e=bp;return bp<<=1,!(bp&4194240)&&(bp=64),e}function H_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ni(t),e[t]=n}function t5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ni(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function gb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ni(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fe=0;function c2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f2,mb,h2,d2,p2,g1=!1,Sp=[],Go=null,Qo=null,Yo=null,qf=new Map,zf=new Map,Uo=[],n5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CA(e,t){switch(e){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":qf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(t.pointerId)}}function zc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Lh(t),t!==null&&mb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function r5(e,t,n,r,i){switch(t){case"focusin":return Go=zc(Go,e,t,n,r,i),!0;case"dragenter":return Qo=zc(Qo,e,t,n,r,i),!0;case"mouseover":return Yo=zc(Yo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qf.set(s,zc(qf.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zf.set(s,zc(zf.get(s)||null,e,t,n,r,i)),!0}return!1}function v2(e){var t=ta(e.target);if(t!==null){var n=Ua(t);if(n!==null){if(t=n.tag,t===13){if(t=r2(n),t!==null){e.blockedOn=t,p2(e.priority,function(){h2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=m1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);f1=r,n.target.dispatchEvent(r),f1=null}else return t=Lh(n),t!==null&&mb(t),e.blockedOn=n,!1;t.shift()}return!0}function NA(e,t,n){tv(e)&&n.delete(t)}function i5(){g1=!1,Go!==null&&tv(Go)&&(Go=null),Qo!==null&&tv(Qo)&&(Qo=null),Yo!==null&&tv(Yo)&&(Yo=null),qf.forEach(NA),zf.forEach(NA)}function Hc(e,t){e.blockedOn===t&&(e.blockedOn=null,g1||(g1=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,i5)))}function Hf(e){function t(i){return Hc(i,e)}if(0<Sp.length){Hc(Sp[0],e);for(var n=1;n<Sp.length;n++){var r=Sp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Go!==null&&Hc(Go,e),Qo!==null&&Hc(Qo,e),Yo!==null&&Hc(Yo,e),qf.forEach(t),zf.forEach(t),n=0;n<Uo.length;n++)r=Uo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Uo.length&&(n=Uo[0],n.blockedOn===null);)v2(n),n.blockedOn===null&&Uo.shift()}var Yu=vo.ReactCurrentBatchConfig,Rv=!0;function o5(e,t,n,r){var i=Fe,s=Yu.transition;Yu.transition=null;try{Fe=1,yb(e,t,n,r)}finally{Fe=i,Yu.transition=s}}function s5(e,t,n,r){var i=Fe,s=Yu.transition;Yu.transition=null;try{Fe=4,yb(e,t,n,r)}finally{Fe=i,Yu.transition=s}}function yb(e,t,n,r){if(Rv){var i=m1(e,t,n,r);if(i===null)tw(e,t,r,xv,n),CA(e,r);else if(r5(i,e,t,n,r))r.stopPropagation();else if(CA(e,r),t&4&&-1<n5.indexOf(e)){for(;i!==null;){var s=Lh(i);if(s!==null&&f2(s),s=m1(e,t,n,r),s===null&&tw(e,t,r,xv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tw(e,t,r,null,n)}}var xv=null;function m1(e,t,n,r){if(xv=null,e=pb(r),e=ta(e),e!==null)if(t=Ua(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xv=e,null}function g2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K6()){case vb:return 1;case a2:return 4;case Nv:case G6:return 16;case u2:return 536870912;default:return 16}default:return 16}}var zo=null,_b=null,nv=null;function m2(){if(nv)return nv;var e,t=_b,n=t.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return nv=i.slice(e,1<r?1-r:void 0)}function rv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ip(){return!0}function AA(){return!1}function pr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ip:AA,this.isPropagationStopped=AA,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ip)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ip)},persist:function(){},isPersistent:Ip}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wb=pr(Ul),Dh=rt({},Ul,{view:0,detail:0}),a5=pr(Dh),W_,K_,Wc,qg=rt({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wc&&(Wc&&e.type==="mousemove"?(W_=e.screenX-Wc.screenX,K_=e.screenY-Wc.screenY):K_=W_=0,Wc=e),W_)},movementY:function(e){return"movementY"in e?e.movementY:K_}}),RA=pr(qg),u5=rt({},qg,{dataTransfer:0}),l5=pr(u5),c5=rt({},Dh,{relatedTarget:0}),G_=pr(c5),f5=rt({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),h5=pr(f5),d5=rt({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p5=pr(d5),v5=rt({},Ul,{data:0}),xA=pr(v5),g5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y5[e])?!!t[e]:!1}function Eb(){return _5}var w5=rt({},Dh,{key:function(e){if(e.key){var t=g5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eb,charCode:function(e){return e.type==="keypress"?rv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E5=pr(w5),b5=rt({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PA=pr(b5),T5=rt({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eb}),S5=pr(T5),I5=rt({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),k5=pr(I5),C5=rt({},qg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N5=pr(C5),A5=[9,13,27,32],bb=so&&"CompositionEvent"in window,gf=null;so&&"documentMode"in document&&(gf=document.documentMode);var R5=so&&"TextEvent"in window&&!gf,y2=so&&(!bb||gf&&8<gf&&11>=gf),OA=String.fromCharCode(32),DA=!1;function _2(e,t){switch(e){case"keyup":return A5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Du=!1;function x5(e,t){switch(e){case"compositionend":return w2(t);case"keypress":return t.which!==32?null:(DA=!0,OA);case"textInput":return e=t.data,e===OA&&DA?null:e;default:return null}}function P5(e,t){if(Du)return e==="compositionend"||!bb&&_2(e,t)?(e=m2(),nv=_b=zo=null,Du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y2&&t.locale!=="ko"?null:t.data;default:return null}}var O5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O5[e.type]:t==="textarea"}function E2(e,t,n,r){JO(r),t=Pv(t,"onChange"),0<t.length&&(n=new wb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mf=null,Wf=null;function D5(e){P2(e,0)}function zg(e){var t=Fu(e);if(HO(t))return e}function L5(e,t){if(e==="change")return t}var b2=!1;if(so){var Q_;if(so){var Y_="oninput"in document;if(!Y_){var MA=document.createElement("div");MA.setAttribute("oninput","return;"),Y_=typeof MA.oninput=="function"}Q_=Y_}else Q_=!1;b2=Q_&&(!document.documentMode||9<document.documentMode)}function FA(){mf&&(mf.detachEvent("onpropertychange",T2),Wf=mf=null)}function T2(e){if(e.propertyName==="value"&&zg(Wf)){var t=[];E2(t,Wf,e,pb(e)),n2(D5,t)}}function M5(e,t,n){e==="focusin"?(FA(),mf=t,Wf=n,mf.attachEvent("onpropertychange",T2)):e==="focusout"&&FA()}function F5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zg(Wf)}function U5(e,t){if(e==="click")return zg(t)}function j5(e,t){if(e==="input"||e==="change")return zg(t)}function B5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var si=typeof Object.is=="function"?Object.is:B5;function Kf(e,t){if(si(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zw.call(t,i)||!si(e[i],t[i]))return!1}return!0}function UA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jA(e,t){var n=UA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UA(n)}}function S2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I2(){for(var e=window,t=Iv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Iv(e.document)}return t}function Tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V5(e){var t=I2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S2(n.ownerDocument.documentElement,n)){if(r!==null&&Tb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jA(n,s);var a=jA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $5=so&&"documentMode"in document&&11>=document.documentMode,Lu=null,y1=null,yf=null,_1=!1;function BA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_1||Lu==null||Lu!==Iv(r)||(r=Lu,"selectionStart"in r&&Tb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yf&&Kf(yf,r)||(yf=r,r=Pv(y1,"onSelect"),0<r.length&&(t=new wb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lu)))}function kp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mu={animationend:kp("Animation","AnimationEnd"),animationiteration:kp("Animation","AnimationIteration"),animationstart:kp("Animation","AnimationStart"),transitionend:kp("Transition","TransitionEnd")},X_={},k2={};so&&(k2=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function Hg(e){if(X_[e])return X_[e];if(!Mu[e])return e;var t=Mu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in k2)return X_[e]=t[n];return e}var C2=Hg("animationend"),N2=Hg("animationiteration"),A2=Hg("animationstart"),R2=Hg("transitionend"),x2=new Map,VA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(e,t){x2.set(e,t),Fa(t,[e])}for(var J_=0;J_<VA.length;J_++){var Z_=VA[J_],q5=Z_.toLowerCase(),z5=Z_[0].toUpperCase()+Z_.slice(1);vs(q5,"on"+z5)}vs(C2,"onAnimationEnd");vs(N2,"onAnimationIteration");vs(A2,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(R2,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H5=new Set("cancel close invalid load scroll toggle".split(" ").concat(cf));function $A(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,q6(r,t,void 0,e),e.currentTarget=null}function P2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;$A(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;$A(i,l,h),s=c}}}if(Cv)throw e=p1,Cv=!1,p1=null,e}function qe(e,t){var n=t[S1];n===void 0&&(n=t[S1]=new Set);var r=e+"__bubble";n.has(r)||(O2(t,e,2,!1),n.add(r))}function ew(e,t,n){var r=0;t&&(r|=4),O2(n,e,r,t)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[Cp]){e[Cp]=!0,BO.forEach(function(n){n!=="selectionchange"&&(H5.has(n)||ew(n,!1,e),ew(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cp]||(t[Cp]=!0,ew("selectionchange",!1,t))}}function O2(e,t,n,r){switch(g2(t)){case 1:var i=o5;break;case 4:i=s5;break;default:i=yb}n=i.bind(null,t,n,e),i=void 0,!d1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tw(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ta(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}n2(function(){var h=s,p=pb(n),v=[];e:{var m=x2.get(e);if(m!==void 0){var y=wb,w=e;switch(e){case"keypress":if(rv(n)===0)break e;case"keydown":case"keyup":y=E5;break;case"focusin":w="focus",y=G_;break;case"focusout":w="blur",y=G_;break;case"beforeblur":case"afterblur":y=G_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=l5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=S5;break;case C2:case N2:case A2:y=h5;break;case R2:y=k5;break;case"scroll":y=a5;break;case"wheel":y=N5;break;case"copy":case"cut":case"paste":y=p5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=PA}var S=(t&4)!==0,C=!S&&e==="scroll",b=S?m!==null?m+"Capture":null:m;S=[];for(var T=h,I;T!==null;){I=T;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,b!==null&&(P=$f(T,b),P!=null&&S.push(Qf(T,P,I)))),C)break;T=T.return}0<S.length&&(m=new y(m,w,null,n,p),v.push({event:m,listeners:S}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==f1&&(w=n.relatedTarget||n.fromElement)&&(ta(w)||w[ao]))break e;if((y||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?ta(w):null,w!==null&&(C=Ua(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(S=RA,P="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(S=PA,P="onPointerLeave",b="onPointerEnter",T="pointer"),C=y==null?m:Fu(y),I=w==null?m:Fu(w),m=new S(P,T+"leave",y,n,p),m.target=C,m.relatedTarget=I,P=null,ta(p)===h&&(S=new S(b,T+"enter",w,n,p),S.target=I,S.relatedTarget=C,P=S),C=P,y&&w)t:{for(S=y,b=w,T=0,I=S;I;I=Tu(I))T++;for(I=0,P=b;P;P=Tu(P))I++;for(;0<T-I;)S=Tu(S),T--;for(;0<I-T;)b=Tu(b),I--;for(;T--;){if(S===b||b!==null&&S===b.alternate)break t;S=Tu(S),b=Tu(b)}S=null}else S=null;y!==null&&qA(v,m,y,S,!1),w!==null&&C!==null&&qA(v,C,w,S,!0)}}e:{if(m=h?Fu(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=L5;else if(LA(m))if(b2)L=j5;else{L=F5;var O=M5}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=U5);if(L&&(L=L(e,h))){E2(v,L,n,p);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&s1(m,"number",m.value)}switch(O=h?Fu(h):window,e){case"focusin":(LA(O)||O.contentEditable==="true")&&(Lu=O,y1=h,yf=null);break;case"focusout":yf=y1=Lu=null;break;case"mousedown":_1=!0;break;case"contextmenu":case"mouseup":case"dragend":_1=!1,BA(v,n,p);break;case"selectionchange":if($5)break;case"keydown":case"keyup":BA(v,n,p)}var B;if(bb)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Du?_2(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(y2&&n.locale!=="ko"&&(Du||F!=="onCompositionStart"?F==="onCompositionEnd"&&Du&&(B=m2()):(zo=p,_b="value"in zo?zo.value:zo.textContent,Du=!0)),O=Pv(h,F),0<O.length&&(F=new xA(F,e,null,n,p),v.push({event:F,listeners:O}),B?F.data=B:(B=w2(n),B!==null&&(F.data=B)))),(B=R5?x5(e,n):P5(e,n))&&(h=Pv(h,"onBeforeInput"),0<h.length&&(p=new xA("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=B))}P2(v,t)})}function Qf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$f(e,n),s!=null&&r.unshift(Qf(e,s,i)),s=$f(e,t),s!=null&&r.push(Qf(e,s,i))),e=e.return}return r}function Tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=$f(n,s),c!=null&&a.unshift(Qf(n,c,l))):i||(c=$f(n,s),c!=null&&a.push(Qf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var W5=/\r\n?/g,K5=/\u0000|\uFFFD/g;function zA(e){return(typeof e=="string"?e:""+e).replace(W5,`
`).replace(K5,"")}function Np(e,t,n){if(t=zA(t),zA(e)!==t&&n)throw Error($(425))}function Ov(){}var w1=null,E1=null;function b1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var T1=typeof setTimeout=="function"?setTimeout:void 0,G5=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,Q5=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(e){return HA.resolve(null).then(e).catch(Y5)}:T1;function Y5(e){setTimeout(function(){throw e})}function nw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hf(t)}function Xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function WA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Ti="__reactFiber$"+jl,Yf="__reactProps$"+jl,ao="__reactContainer$"+jl,S1="__reactEvents$"+jl,X5="__reactListeners$"+jl,J5="__reactHandles$"+jl;function ta(e){var t=e[Ti];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ao]||n[Ti]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=WA(e);e!==null;){if(n=e[Ti])return n;e=WA(e)}return t}e=n,n=e.parentNode}return null}function Lh(e){return e=e[Ti]||e[ao],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Wg(e){return e[Yf]||null}var I1=[],Uu=-1;function gs(e){return{current:e}}function He(e){0>Uu||(e.current=I1[Uu],I1[Uu]=null,Uu--)}function Ve(e,t){Uu++,I1[Uu]=e.current,e.current=t}var us={},vn=gs(us),zn=gs(!1),_a=us;function sl(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hn(e){return e=e.childContextTypes,e!=null}function Dv(){He(zn),He(vn)}function KA(e,t,n){if(vn.current!==us)throw Error($(168));Ve(vn,t),Ve(zn,n)}function D2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error($(108,M6(e)||"Unknown",i));return rt({},n,r)}function Lv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,_a=vn.current,Ve(vn,e),Ve(zn,zn.current),!0}function GA(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=D2(e,t,_a),r.__reactInternalMemoizedMergedChildContext=e,He(zn),He(vn),Ve(vn,e)):He(zn),Ve(zn,n)}var Yi=null,Kg=!1,rw=!1;function L2(e){Yi===null?Yi=[e]:Yi.push(e)}function Z5(e){Kg=!0,L2(e)}function ms(){if(!rw&&Yi!==null){rw=!0;var e=0,t=Fe;try{var n=Yi;for(Fe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yi=null,Kg=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(e+1)),s2(vb,ms),i}finally{Fe=t,rw=!1}}return null}var ju=[],Bu=0,Mv=null,Fv=0,_r=[],wr=0,wa=null,Xi=1,Ji="";function Gs(e,t){ju[Bu++]=Fv,ju[Bu++]=Mv,Mv=e,Fv=t}function M2(e,t,n){_r[wr++]=Xi,_r[wr++]=Ji,_r[wr++]=wa,wa=e;var r=Xi;e=Ji;var i=32-ni(r)-1;r&=~(1<<i),n+=1;var s=32-ni(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-ni(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function Sb(e){e.return!==null&&(Gs(e,1),M2(e,1,0))}function Ib(e){for(;e===Mv;)Mv=ju[--Bu],ju[Bu]=null,Fv=ju[--Bu],ju[Bu]=null;for(;e===wa;)wa=_r[--wr],_r[wr]=null,Ji=_r[--wr],_r[wr]=null,Xi=_r[--wr],_r[wr]=null}var ur=null,ir=null,Ge=!1,ei=null;function F2(e,t){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function QA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,ir=Xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wa!==null?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ur=e,ir=null,!0):!1;default:return!1}}function k1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C1(e){if(Ge){var t=ir;if(t){var n=t;if(!QA(e,t)){if(k1(e))throw Error($(418));t=Xo(n.nextSibling);var r=ur;t&&QA(e,t)?F2(r,n):(e.flags=e.flags&-4097|2,Ge=!1,ur=e)}}else{if(k1(e))throw Error($(418));e.flags=e.flags&-4097|2,Ge=!1,ur=e}}}function YA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function Ap(e){if(e!==ur)return!1;if(!Ge)return YA(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!b1(e.type,e.memoizedProps)),t&&(t=ir)){if(k1(e))throw U2(),Error($(418));for(;t;)F2(e,t),t=Xo(t.nextSibling)}if(YA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ir=Xo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=ur?Xo(e.stateNode.nextSibling):null;return!0}function U2(){for(var e=ir;e;)e=Xo(e.nextSibling)}function al(){ir=ur=null,Ge=!1}function kb(e){ei===null?ei=[e]:ei.push(e)}var eq=vo.ReactCurrentBatchConfig;function Yr(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Uv=gs(null),jv=null,Vu=null,Cb=null;function Nb(){Cb=Vu=jv=null}function Ab(e){var t=Uv.current;He(Uv),e._currentValue=t}function N1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xu(e,t){jv=e,Cb=Vu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(Cb!==e)if(e={context:e,memoizedValue:t,next:null},Vu===null){if(jv===null)throw Error($(308));Vu=e,jv.dependencies={lanes:0,firstContext:e}}else Vu=Vu.next=e;return t}var na=null;function Rb(e){na===null?na=[e]:na.push(e)}function j2(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Rb(t)):(n.next=i.next,i.next=n),t.interleaved=n,uo(e,r)}function uo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mo=!1;function xb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,uo(e,n)}return i=r.interleaved,i===null?(t.next=t,Rb(r)):(t.next=i.next,i.next=t),r.interleaved=t,uo(e,n)}function iv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gb(e,n)}}function XA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bv(e,t,n,r){var i=e.updateQueue;Mo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,p=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,S=l;switch(m=t,y=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){v=w.call(y,v,m);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,m=typeof w=="function"?w.call(y,v,m):w,m==null)break e;v=rt({},v,m);break e;case 2:Mo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=v):p=p.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ba|=a,e.lanes=a,e.memoizedState=v}}function JA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var V2=new jO.Component().refs;function A1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gg={isMounted:function(e){return(e=e._reactInternals)?Ua(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rn(),i=es(e),s=no(r,i);s.payload=t,n!=null&&(s.callback=n),t=Jo(e,s,i),t!==null&&(ri(t,e,i,r),iv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rn(),i=es(e),s=no(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Jo(e,s,i),t!==null&&(ri(t,e,i,r),iv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rn(),r=es(e),i=no(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jo(e,i,r),t!==null&&(ri(t,e,r,n),iv(t,e,r))}};function ZA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kf(n,r)||!Kf(i,s):!0}function $2(e,t,n){var r=!1,i=us,s=t.contextType;return typeof s=="object"&&s!==null?s=xr(s):(i=Hn(t)?_a:vn.current,r=t.contextTypes,s=(r=r!=null)?sl(e,i):us),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function eR(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gg.enqueueReplaceState(t,t.state,null)}function R1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=V2,xb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xr(s):(s=Hn(t)?_a:vn.current,i.context=sl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(A1(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gg.enqueueReplaceState(i,i.state,null),Bv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Kc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===V2&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Rp(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tR(e){var t=e._init;return t(e._payload)}function q2(e){function t(b,T){if(e){var I=b.deletions;I===null?(b.deletions=[T],b.flags|=16):I.push(T)}}function n(b,T){if(!e)return null;for(;T!==null;)t(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(b,T){return b=ts(b,T),b.index=0,b.sibling=null,b}function s(b,T,I){return b.index=I,e?(I=b.alternate,I!==null?(I=I.index,I<T?(b.flags|=2,T):I):(b.flags|=2,T)):(b.flags|=1048576,T)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,T,I,P){return T===null||T.tag!==6?(T=cw(I,b.mode,P),T.return=b,T):(T=i(T,I),T.return=b,T)}function c(b,T,I,P){var L=I.type;return L===Ou?p(b,T,I.props.children,P,I.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Lo&&tR(L)===T.type)?(P=i(T,I.props),P.ref=Kc(b,T,I),P.return=b,P):(P=cv(I.type,I.key,I.props,null,b.mode,P),P.ref=Kc(b,T,I),P.return=b,P)}function h(b,T,I,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=fw(I,b.mode,P),T.return=b,T):(T=i(T,I.children||[]),T.return=b,T)}function p(b,T,I,P,L){return T===null||T.tag!==7?(T=ha(I,b.mode,P,L),T.return=b,T):(T=i(T,I),T.return=b,T)}function v(b,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=cw(""+T,b.mode,I),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _p:return I=cv(T.type,T.key,T.props,null,b.mode,I),I.ref=Kc(b,null,T),I.return=b,I;case Pu:return T=fw(T,b.mode,I),T.return=b,T;case Lo:var P=T._init;return v(b,P(T._payload),I)}if(uf(T)||$c(T))return T=ha(T,b.mode,I,null),T.return=b,T;Rp(b,T)}return null}function m(b,T,I,P){var L=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return L!==null?null:l(b,T,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _p:return I.key===L?c(b,T,I,P):null;case Pu:return I.key===L?h(b,T,I,P):null;case Lo:return L=I._init,m(b,T,L(I._payload),P)}if(uf(I)||$c(I))return L!==null?null:p(b,T,I,P,null);Rp(b,I)}return null}function y(b,T,I,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(I)||null,l(T,b,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _p:return b=b.get(P.key===null?I:P.key)||null,c(T,b,P,L);case Pu:return b=b.get(P.key===null?I:P.key)||null,h(T,b,P,L);case Lo:var O=P._init;return y(b,T,I,O(P._payload),L)}if(uf(P)||$c(P))return b=b.get(I)||null,p(T,b,P,L,null);Rp(T,P)}return null}function w(b,T,I,P){for(var L=null,O=null,B=T,F=T=0,ue=null;B!==null&&F<I.length;F++){B.index>F?(ue=B,B=null):ue=B.sibling;var R=m(b,B,I[F],P);if(R===null){B===null&&(B=ue);break}e&&B&&R.alternate===null&&t(b,B),T=s(R,T,F),O===null?L=R:O.sibling=R,O=R,B=ue}if(F===I.length)return n(b,B),Ge&&Gs(b,F),L;if(B===null){for(;F<I.length;F++)B=v(b,I[F],P),B!==null&&(T=s(B,T,F),O===null?L=B:O.sibling=B,O=B);return Ge&&Gs(b,F),L}for(B=r(b,B);F<I.length;F++)ue=y(B,b,F,I[F],P),ue!==null&&(e&&ue.alternate!==null&&B.delete(ue.key===null?F:ue.key),T=s(ue,T,F),O===null?L=ue:O.sibling=ue,O=ue);return e&&B.forEach(function(pt){return t(b,pt)}),Ge&&Gs(b,F),L}function S(b,T,I,P){var L=$c(I);if(typeof L!="function")throw Error($(150));if(I=L.call(I),I==null)throw Error($(151));for(var O=L=null,B=T,F=T=0,ue=null,R=I.next();B!==null&&!R.done;F++,R=I.next()){B.index>F?(ue=B,B=null):ue=B.sibling;var pt=m(b,B,R.value,P);if(pt===null){B===null&&(B=ue);break}e&&B&&pt.alternate===null&&t(b,B),T=s(pt,T,F),O===null?L=pt:O.sibling=pt,O=pt,B=ue}if(R.done)return n(b,B),Ge&&Gs(b,F),L;if(B===null){for(;!R.done;F++,R=I.next())R=v(b,R.value,P),R!==null&&(T=s(R,T,F),O===null?L=R:O.sibling=R,O=R);return Ge&&Gs(b,F),L}for(B=r(b,B);!R.done;F++,R=I.next())R=y(B,b,F,R.value,P),R!==null&&(e&&R.alternate!==null&&B.delete(R.key===null?F:R.key),T=s(R,T,F),O===null?L=R:O.sibling=R,O=R);return e&&B.forEach(function(Ln){return t(b,Ln)}),Ge&&Gs(b,F),L}function C(b,T,I,P){if(typeof I=="object"&&I!==null&&I.type===Ou&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _p:e:{for(var L=I.key,O=T;O!==null;){if(O.key===L){if(L=I.type,L===Ou){if(O.tag===7){n(b,O.sibling),T=i(O,I.props.children),T.return=b,b=T;break e}}else if(O.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Lo&&tR(L)===O.type){n(b,O.sibling),T=i(O,I.props),T.ref=Kc(b,O,I),T.return=b,b=T;break e}n(b,O);break}else t(b,O);O=O.sibling}I.type===Ou?(T=ha(I.props.children,b.mode,P,I.key),T.return=b,b=T):(P=cv(I.type,I.key,I.props,null,b.mode,P),P.ref=Kc(b,T,I),P.return=b,b=P)}return a(b);case Pu:e:{for(O=I.key;T!==null;){if(T.key===O)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(b,T.sibling),T=i(T,I.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else t(b,T);T=T.sibling}T=fw(I,b.mode,P),T.return=b,b=T}return a(b);case Lo:return O=I._init,C(b,T,O(I._payload),P)}if(uf(I))return w(b,T,I,P);if($c(I))return S(b,T,I,P);Rp(b,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(b,T.sibling),T=i(T,I),T.return=b,b=T):(n(b,T),T=cw(I,b.mode,P),T.return=b,b=T),a(b)):n(b,T)}return C}var ul=q2(!0),z2=q2(!1),Mh={},ki=gs(Mh),Xf=gs(Mh),Jf=gs(Mh);function ra(e){if(e===Mh)throw Error($(174));return e}function Pb(e,t){switch(Ve(Jf,t),Ve(Xf,e),Ve(ki,Mh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u1(t,e)}He(ki),Ve(ki,t)}function ll(){He(ki),He(Xf),He(Jf)}function H2(e){ra(Jf.current);var t=ra(ki.current),n=u1(t,e.type);t!==n&&(Ve(Xf,e),Ve(ki,n))}function Ob(e){Xf.current===e&&(He(ki),He(Xf))}var Ze=gs(0);function Vv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iw=[];function Db(){for(var e=0;e<iw.length;e++)iw[e]._workInProgressVersionPrimary=null;iw.length=0}var ov=vo.ReactCurrentDispatcher,ow=vo.ReactCurrentBatchConfig,Ea=0,nt=null,Ct=null,Lt=null,$v=!1,_f=!1,Zf=0,tq=0;function on(){throw Error($(321))}function Lb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function Mb(e,t,n,r,i,s){if(Ea=s,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ov.current=e===null||e.memoizedState===null?oq:sq,e=n(r,i),_f){s=0;do{if(_f=!1,Zf=0,25<=s)throw Error($(301));s+=1,Lt=Ct=null,t.updateQueue=null,ov.current=aq,e=n(r,i)}while(_f)}if(ov.current=qv,t=Ct!==null&&Ct.next!==null,Ea=0,Lt=Ct=nt=null,$v=!1,t)throw Error($(300));return e}function Fb(){var e=Zf!==0;return Zf=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?nt.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Pr(){if(Ct===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Lt===null?nt.memoizedState:Lt.next;if(t!==null)Lt=t,Ct=e;else{if(e===null)throw Error($(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Lt===null?nt.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function eh(e,t){return typeof t=="function"?t(e):t}function sw(e){var t=Pr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((Ea&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,nt.lanes|=p,ba|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,si(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,nt.lanes|=s,ba|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aw(e){var t=Pr(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);si(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function W2(){}function K2(e,t){var n=nt,r=Pr(),i=t(),s=!si(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,Ub(Y2.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,th(9,Q2.bind(null,n,r,i,t),void 0,null),Vt===null)throw Error($(349));Ea&30||G2(n,t,i)}return i}function G2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Q2(e,t,n,r){t.value=n,t.getSnapshot=r,X2(t)&&J2(e)}function Y2(e,t,n){return n(function(){X2(t)&&J2(e)})}function X2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch{return!0}}function J2(e){var t=uo(e,1);t!==null&&ri(t,e,1,-1)}function nR(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:e},t.queue=e,e=e.dispatch=iq.bind(null,nt,e),[t.memoizedState,e]}function th(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Z2(){return Pr().memoizedState}function sv(e,t,n,r){var i=Ei();nt.flags|=e,i.memoizedState=th(1|t,n,void 0,r===void 0?null:r)}function Qg(e,t,n,r){var i=Pr();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var a=Ct.memoizedState;if(s=a.destroy,r!==null&&Lb(r,a.deps)){i.memoizedState=th(t,n,s,r);return}}nt.flags|=e,i.memoizedState=th(1|t,n,s,r)}function rR(e,t){return sv(8390656,8,e,t)}function Ub(e,t){return Qg(2048,8,e,t)}function eD(e,t){return Qg(4,2,e,t)}function tD(e,t){return Qg(4,4,e,t)}function nD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rD(e,t,n){return n=n!=null?n.concat([e]):null,Qg(4,4,nD.bind(null,t,e),n)}function jb(){}function iD(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oD(e,t){var n=Pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sD(e,t,n){return Ea&21?(si(n,t)||(n=l2(),nt.lanes|=n,ba|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function nq(e,t){var n=Fe;Fe=n!==0&&4>n?n:4,e(!0);var r=ow.transition;ow.transition={};try{e(!1),t()}finally{Fe=n,ow.transition=r}}function aD(){return Pr().memoizedState}function rq(e,t,n){var r=es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uD(e))lD(t,n);else if(n=j2(e,t,n,r),n!==null){var i=Rn();ri(n,e,r,i),cD(n,t,r)}}function iq(e,t,n){var r=es(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uD(e))lD(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,si(l,a)){var c=t.interleaved;c===null?(i.next=i,Rb(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=j2(e,t,i,r),n!==null&&(i=Rn(),ri(n,e,r,i),cD(n,t,r))}}function uD(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function lD(e,t){_f=$v=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gb(e,n)}}var qv={readContext:xr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},oq={readContext:xr,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:rR,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sv(4194308,4,nD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sv(4194308,4,e,t)},useInsertionEffect:function(e,t){return sv(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rq.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:nR,useDebugValue:jb,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=nR(!1),t=e[0];return e=nq.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,i=Ei();if(Ge){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Vt===null)throw Error($(349));Ea&30||G2(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,rR(Y2.bind(null,r,s,e),[e]),r.flags|=2048,th(9,Q2.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ei(),t=Vt.identifierPrefix;if(Ge){var n=Ji,r=Xi;n=(r&~(1<<32-ni(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sq={readContext:xr,useCallback:iD,useContext:xr,useEffect:Ub,useImperativeHandle:rD,useInsertionEffect:eD,useLayoutEffect:tD,useMemo:oD,useReducer:sw,useRef:Z2,useState:function(){return sw(eh)},useDebugValue:jb,useDeferredValue:function(e){var t=Pr();return sD(t,Ct.memoizedState,e)},useTransition:function(){var e=sw(eh)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:W2,useSyncExternalStore:K2,useId:aD,unstable_isNewReconciler:!1},aq={readContext:xr,useCallback:iD,useContext:xr,useEffect:Ub,useImperativeHandle:rD,useInsertionEffect:eD,useLayoutEffect:tD,useMemo:oD,useReducer:aw,useRef:Z2,useState:function(){return aw(eh)},useDebugValue:jb,useDeferredValue:function(e){var t=Pr();return Ct===null?t.memoizedState=e:sD(t,Ct.memoizedState,e)},useTransition:function(){var e=aw(eh)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:W2,useSyncExternalStore:K2,useId:aD,unstable_isNewReconciler:!1};function cl(e,t){try{var n="",r=t;do n+=L6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function uw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function x1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uq=typeof WeakMap=="function"?WeakMap:Map;function fD(e,t,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hv||(Hv=!0,V1=r),x1(e,t)},n}function hD(e,t,n){n=no(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){x1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){x1(e,t),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function iR(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uq;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bq.bind(null,e,t,n),t.then(e,e))}function oR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sR(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=no(-1,1),t.tag=2,Jo(n,t,1))),n.lanes|=1),e)}var lq=vo.ReactCurrentOwner,$n=!1;function Tn(e,t,n,r){t.child=e===null?z2(t,null,n,r):ul(t,e.child,n,r)}function aR(e,t,n,r,i){n=n.render;var s=t.ref;return Xu(t,i),r=Mb(e,t,n,r,s,i),n=Fb(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lo(e,t,i)):(Ge&&n&&Sb(t),t.flags|=1,Tn(e,t,r,i),t.child)}function uR(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Kb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dD(e,t,s,r,i)):(e=cv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kf,n(a,r)&&e.ref===t.ref)return lo(e,t,i)}return t.flags|=1,e=ts(s,r),e.ref=t.ref,e.return=t,t.child=e}function dD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Kf(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,lo(e,t,i)}return P1(e,t,n,r,i)}function pD(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(qu,er),er|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(qu,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(qu,er),er|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ve(qu,er),er|=r;return Tn(e,t,i,n),t.child}function vD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function P1(e,t,n,r,i){var s=Hn(n)?_a:vn.current;return s=sl(t,s),Xu(t,i),n=Mb(e,t,n,r,s,i),r=Fb(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lo(e,t,i)):(Ge&&r&&Sb(t),t.flags|=1,Tn(e,t,n,i),t.child)}function lR(e,t,n,r,i){if(Hn(n)){var s=!0;Lv(t)}else s=!1;if(Xu(t,i),t.stateNode===null)av(e,t),$2(t,n,r),R1(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=xr(h):(h=Hn(n)?_a:vn.current,h=sl(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&eR(t,a,r,h),Mo=!1;var m=t.memoizedState;a.state=m,Bv(t,r,a,i),c=t.memoizedState,l!==r||m!==c||zn.current||Mo?(typeof p=="function"&&(A1(t,n,p,r),c=t.memoizedState),(l=Mo||ZA(t,n,l,r,m,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,B2(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Yr(t.type,l),a.props=h,v=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Hn(n)?_a:vn.current,c=sl(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||m!==c)&&eR(t,a,r,c),Mo=!1,m=t.memoizedState,a.state=m,Bv(t,r,a,i);var w=t.memoizedState;l!==v||m!==w||zn.current||Mo?(typeof y=="function"&&(A1(t,n,y,r),w=t.memoizedState),(h=Mo||ZA(t,n,h,r,m,w,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return O1(e,t,n,r,s,i)}function O1(e,t,n,r,i,s){vD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&GA(t,n,!1),lo(e,t,s);r=t.stateNode,lq.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ul(t,e.child,null,s),t.child=ul(t,null,l,s)):Tn(e,t,l,s),t.memoizedState=r.state,i&&GA(t,n,!0),t.child}function gD(e){var t=e.stateNode;t.pendingContext?KA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KA(e,t.context,!1),Pb(e,t.containerInfo)}function cR(e,t,n,r,i){return al(),kb(i),t.flags|=256,Tn(e,t,n,r),t.child}var D1={dehydrated:null,treeContext:null,retryLane:0};function L1(e){return{baseLanes:e,cachePool:null,transitions:null}}function mD(e,t,n){var r=t.pendingProps,i=Ze.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(Ze,i&1),e===null)return C1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Jg(a,r,0,null),e=ha(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=L1(n),t.memoizedState=D1,e):Bb(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return cq(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ts(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ts(l,s):(s=ha(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?L1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=D1,r}return s=e.child,e=s.sibling,r=ts(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bb(e,t){return t=Jg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xp(e,t,n,r){return r!==null&&kb(r),ul(t,e.child,null,n),e=Bb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cq(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=uw(Error($(422))),xp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Jg({mode:"visible",children:r.children},i,0,null),s=ha(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ul(t,e.child,null,a),t.child.memoizedState=L1(a),t.memoizedState=D1,s);if(!(t.mode&1))return xp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=uw(s,r,void 0),xp(e,t,a,r)}if(l=(a&e.childLanes)!==0,$n||l){if(r=Vt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,uo(e,i),ri(r,e,i,-1))}return Wb(),r=uw(Error($(421))),xp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Tq.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ir=Xo(i.nextSibling),ur=t,Ge=!0,ei=null,e!==null&&(_r[wr++]=Xi,_r[wr++]=Ji,_r[wr++]=wa,Xi=e.id,Ji=e.overflow,wa=t),t=Bb(t,r.children),t.flags|=4096,t)}function fR(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),N1(e.return,t,n)}function lw(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Tn(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fR(e,n,t);else if(e.tag===19)fR(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ve(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Vv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lw(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lw(t,!0,n,null,s);break;case"together":lw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function av(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fq(e,t,n){switch(t.tag){case 3:gD(t),al();break;case 5:H2(t);break;case 1:Hn(t.type)&&Lv(t);break;case 4:Pb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ve(Uv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?mD(e,t,n):(Ve(Ze,Ze.current&1),e=lo(e,t,n),e!==null?e.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,pD(e,t,n)}return lo(e,t,n)}var _D,M1,wD,ED;_D=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M1=function(){};wD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ki.current);var s=null;switch(n){case"input":i=i1(e,i),r=i1(e,r),s=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),s=[];break;case"textarea":i=a1(e,i),r=a1(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ov)}l1(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Bf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Bf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&qe("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};ED=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gc(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hq(e,t,n){var r=t.pendingProps;switch(Ib(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Hn(t.type)&&Dv(),sn(t),null;case 3:return r=t.stateNode,ll(),He(zn),He(vn),Db(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ei!==null&&(z1(ei),ei=null))),M1(e,t),sn(t),null;case 5:Ob(t);var i=ra(Jf.current);if(n=t.type,e!==null&&t.stateNode!=null)wD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return sn(t),null}if(e=ra(ki.current),Ap(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ti]=t,r[Yf]=s,e=(t.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<cf.length;i++)qe(cf[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":wA(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":bA(r,s),qe("invalid",r)}l1(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Np(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Np(r.textContent,l,e),i=["children",""+l]):Bf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&qe("scroll",r)}switch(n){case"input":wp(r),EA(r,s,!0);break;case"textarea":wp(r),TA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ov)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ti]=t,e[Yf]=r,_D(e,t,!1,!1),t.stateNode=e;e:{switch(a=c1(n,r),n){case"dialog":qe("cancel",e),qe("close",e),i=r;break;case"iframe":case"object":case"embed":qe("load",e),i=r;break;case"video":case"audio":for(i=0;i<cf.length;i++)qe(cf[i],e);i=r;break;case"source":qe("error",e),i=r;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=r;break;case"details":qe("toggle",e),i=r;break;case"input":wA(e,r),i=i1(e,r),qe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),qe("invalid",e);break;case"textarea":bA(e,r),i=a1(e,r),qe("invalid",e);break;default:i=r}l1(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?XO(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QO(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vf(e,c):typeof c=="number"&&Vf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qe("scroll",e):c!=null&&cb(e,s,c,a))}switch(n){case"input":wp(e),EA(e,r,!1);break;case"textarea":wp(e),TA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+as(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ku(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ku(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ov)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)ED(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=ra(Jf.current),ra(ki.current),Ap(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ti]=t,(s=r.nodeValue!==n)&&(e=ur,e!==null))switch(e.tag){case 3:Np(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Np(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ti]=t,t.stateNode=r}return sn(t),null;case 13:if(He(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&ir!==null&&t.mode&1&&!(t.flags&128))U2(),al(),t.flags|=98560,s=!1;else if(s=Ap(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error($(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Ti]=t}else al(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),s=!1}else ei!==null&&(z1(ei),ei=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?At===0&&(At=3):Wb())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return ll(),M1(e,t),e===null&&Gf(t.stateNode.containerInfo),sn(t),null;case 10:return Ab(t.type._context),sn(t),null;case 17:return Hn(t.type)&&Dv(),sn(t),null;case 19:if(He(Ze),s=t.memoizedState,s===null)return sn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Gc(s,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vv(e),a!==null){for(t.flags|=128,Gc(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Ze,Ze.current&1|2),t.child}e=e.sibling}s.tail!==null&&ht()>fl&&(t.flags|=128,r=!0,Gc(s,!1),t.lanes=4194304)}else{if(!r)if(e=Vv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ge)return sn(t),null}else 2*ht()-s.renderingStartTime>fl&&n!==1073741824&&(t.flags|=128,r=!0,Gc(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ht(),t.sibling=null,n=Ze.current,Ve(Ze,r?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return Hb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?er&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function dq(e,t){switch(Ib(t),t.tag){case 1:return Hn(t.type)&&Dv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(),He(zn),He(vn),Db(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ob(t),null;case 13:if(He(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ze),null;case 4:return ll(),null;case 10:return Ab(t.type._context),null;case 22:case 23:return Hb(),null;case 24:return null;default:return null}}var Pp=!1,ln=!1,pq=typeof WeakSet=="function"?WeakSet:Set,Q=null;function $u(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function F1(e,t,n){try{n()}catch(r){ot(e,t,r)}}var hR=!1;function vq(e,t){if(w1=Rv,e=I2(),Tb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++p===r&&(c=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(E1={focusedElem:e,selectionRange:n},Rv=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,C=w.memoizedState,b=t.stateNode,T=b.getSnapshotBeforeUpdate(t.elementType===t.type?S:Yr(t.type,S),C);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){ot(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=hR,hR=!1,w}function wf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&F1(t,n,s)}i=i.next}while(i!==r)}}function Yg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function U1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bD(e){var t=e.alternate;t!==null&&(e.alternate=null,bD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Yf],delete t[S1],delete t[X5],delete t[J5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TD(e){return e.tag===5||e.tag===3||e.tag===4}function dR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function j1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ov));else if(r!==4&&(e=e.child,e!==null))for(j1(e,t,n),e=e.sibling;e!==null;)j1(e,t,n),e=e.sibling}function B1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(B1(e,t,n),e=e.sibling;e!==null;)B1(e,t,n),e=e.sibling}var Wt=null,Jr=!1;function Ao(e,t,n){for(n=n.child;n!==null;)SD(e,t,n),n=n.sibling}function SD(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount($g,n)}catch{}switch(n.tag){case 5:ln||$u(n,t);case 6:var r=Wt,i=Jr;Wt=null,Ao(e,t,n),Wt=r,Jr=i,Wt!==null&&(Jr?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Jr?(e=Wt,n=n.stateNode,e.nodeType===8?nw(e.parentNode,n):e.nodeType===1&&nw(e,n),Hf(e)):nw(Wt,n.stateNode));break;case 4:r=Wt,i=Jr,Wt=n.stateNode.containerInfo,Jr=!0,Ao(e,t,n),Wt=r,Jr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&F1(n,t,a),i=i.next}while(i!==r)}Ao(e,t,n);break;case 1:if(!ln&&($u(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ot(n,t,l)}Ao(e,t,n);break;case 21:Ao(e,t,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Ao(e,t,n),ln=r):Ao(e,t,n);break;default:Ao(e,t,n)}}function pR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pq),t.forEach(function(r){var i=Sq.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Wt=l.stateNode,Jr=!1;break e;case 3:Wt=l.stateNode.containerInfo,Jr=!0;break e;case 4:Wt=l.stateNode.containerInfo,Jr=!0;break e}l=l.return}if(Wt===null)throw Error($(160));SD(s,a,i),Wt=null,Jr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){ot(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ID(t,e),t=t.sibling}function ID(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hr(t,e),wi(e),r&4){try{wf(3,e,e.return),Yg(3,e)}catch(S){ot(e,e.return,S)}try{wf(5,e,e.return)}catch(S){ot(e,e.return,S)}}break;case 1:Hr(t,e),wi(e),r&512&&n!==null&&$u(n,n.return);break;case 5:if(Hr(t,e),wi(e),r&512&&n!==null&&$u(n,n.return),e.flags&32){var i=e.stateNode;try{Vf(i,"")}catch(S){ot(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&WO(i,s),c1(l,a);var h=c1(l,s);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?XO(i,v):p==="dangerouslySetInnerHTML"?QO(i,v):p==="children"?Vf(i,v):cb(i,p,v,h)}switch(l){case"input":o1(i,s);break;case"textarea":KO(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ku(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ku(i,!!s.multiple,s.defaultValue,!0):Ku(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yf]=s}catch(S){ot(e,e.return,S)}}break;case 6:if(Hr(t,e),wi(e),r&4){if(e.stateNode===null)throw Error($(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){ot(e,e.return,S)}}break;case 3:if(Hr(t,e),wi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hf(t.containerInfo)}catch(S){ot(e,e.return,S)}break;case 4:Hr(t,e),wi(e);break;case 13:Hr(t,e),wi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qb=ht())),r&4&&pR(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(ln=(h=ln)||p,Hr(t,e),ln=h):Hr(t,e),wi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(v=Q=p;Q!==null;){switch(m=Q,y=m.child,m.tag){case 0:case 11:case 14:case 15:wf(4,m,m.return);break;case 1:$u(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){ot(r,n,S)}}break;case 5:$u(m,m.return);break;case 22:if(m.memoizedState!==null){gR(v);continue}}y!==null?(y.return=m,Q=y):gR(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=YO("display",a))}catch(S){ot(e,e.return,S)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(S){ot(e,e.return,S)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Hr(t,e),wi(e),r&4&&pR(e);break;case 21:break;default:Hr(t,e),wi(e)}}function wi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TD(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vf(i,""),r.flags&=-33);var s=dR(e);B1(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=dR(e);j1(e,l,a);break;default:throw Error($(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gq(e,t,n){Q=e,kD(e)}function kD(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Pp;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ln;l=Pp;var h=ln;if(Pp=a,(ln=c)&&!h)for(Q=i;Q!==null;)a=Q,c=a.child,a.tag===22&&a.memoizedState!==null?mR(i):c!==null?(c.return=a,Q=c):mR(i);for(;s!==null;)Q=s,kD(s),s=s.sibling;Q=i,Pp=l,ln=h}vR(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):vR(e)}}function vR(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||Yg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&JA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}JA(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Hf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ln||t.flags&512&&U1(t)}catch(m){ot(t,t.return,m)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function gR(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function mR(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yg(4,t)}catch(c){ot(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ot(t,i,c)}}var s=t.return;try{U1(t)}catch(c){ot(t,s,c)}break;case 5:var a=t.return;try{U1(t)}catch(c){ot(t,a,c)}}}catch(c){ot(t,t.return,c)}if(t===e){Q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Q=l;break}Q=t.return}}var mq=Math.ceil,zv=vo.ReactCurrentDispatcher,Vb=vo.ReactCurrentOwner,Nr=vo.ReactCurrentBatchConfig,Ce=0,Vt=null,yt=null,Xt=0,er=0,qu=gs(0),At=0,nh=null,ba=0,Xg=0,$b=0,Ef=null,Vn=null,qb=0,fl=1/0,Gi=null,Hv=!1,V1=null,Zo=null,Op=!1,Ho=null,Wv=0,bf=0,$1=null,uv=-1,lv=0;function Rn(){return Ce&6?ht():uv!==-1?uv:uv=ht()}function es(e){return e.mode&1?Ce&2&&Xt!==0?Xt&-Xt:eq.transition!==null?(lv===0&&(lv=l2()),lv):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:g2(e.type)),e):1}function ri(e,t,n,r){if(50<bf)throw bf=0,$1=null,Error($(185));Oh(e,n,r),(!(Ce&2)||e!==Vt)&&(e===Vt&&(!(Ce&2)&&(Xg|=n),At===4&&jo(e,Xt)),Wn(e,r),n===1&&Ce===0&&!(t.mode&1)&&(fl=ht()+500,Kg&&ms()))}function Wn(e,t){var n=e.callbackNode;e5(e,t);var r=Av(e,e===Vt?Xt:0);if(r===0)n!==null&&kA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kA(n),t===1)e.tag===0?Z5(yR.bind(null,e)):L2(yR.bind(null,e)),Q5(function(){!(Ce&6)&&ms()}),n=null;else{switch(c2(r)){case 1:n=vb;break;case 4:n=a2;break;case 16:n=Nv;break;case 536870912:n=u2;break;default:n=Nv}n=DD(n,CD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function CD(e,t){if(uv=-1,lv=0,Ce&6)throw Error($(327));var n=e.callbackNode;if(Ju()&&e.callbackNode!==n)return null;var r=Av(e,e===Vt?Xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kv(e,r);else{t=r;var i=Ce;Ce|=2;var s=AD();(Vt!==e||Xt!==t)&&(Gi=null,fl=ht()+500,fa(e,t));do try{wq();break}catch(l){ND(e,l)}while(1);Nb(),zv.current=s,Ce=i,yt!==null?t=0:(Vt=null,Xt=0,t=At)}if(t!==0){if(t===2&&(i=v1(e),i!==0&&(r=i,t=q1(e,i))),t===1)throw n=nh,fa(e,0),jo(e,r),Wn(e,ht()),n;if(t===6)jo(e,r);else{if(i=e.current.alternate,!(r&30)&&!yq(i)&&(t=Kv(e,r),t===2&&(s=v1(e),s!==0&&(r=s,t=q1(e,s))),t===1))throw n=nh,fa(e,0),jo(e,r),Wn(e,ht()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Qs(e,Vn,Gi);break;case 3:if(jo(e,r),(r&130023424)===r&&(t=qb+500-ht(),10<t)){if(Av(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=T1(Qs.bind(null,e,Vn,Gi),t);break}Qs(e,Vn,Gi);break;case 4:if(jo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ni(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mq(r/1960))-r,10<r){e.timeoutHandle=T1(Qs.bind(null,e,Vn,Gi),r);break}Qs(e,Vn,Gi);break;case 5:Qs(e,Vn,Gi);break;default:throw Error($(329))}}}return Wn(e,ht()),e.callbackNode===n?CD.bind(null,e):null}function q1(e,t){var n=Ef;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=Kv(e,t),e!==2&&(t=Vn,Vn=n,t!==null&&z1(t)),e}function z1(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function yq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!si(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jo(e,t){for(t&=~$b,t&=~Xg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ni(t),r=1<<n;e[n]=-1,t&=~r}}function yR(e){if(Ce&6)throw Error($(327));Ju();var t=Av(e,0);if(!(t&1))return Wn(e,ht()),null;var n=Kv(e,t);if(e.tag!==0&&n===2){var r=v1(e);r!==0&&(t=r,n=q1(e,r))}if(n===1)throw n=nh,fa(e,0),jo(e,t),Wn(e,ht()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,Vn,Gi),Wn(e,ht()),null}function zb(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(fl=ht()+500,Kg&&ms())}}function Ta(e){Ho!==null&&Ho.tag===0&&!(Ce&6)&&Ju();var t=Ce;Ce|=1;var n=Nr.transition,r=Fe;try{if(Nr.transition=null,Fe=1,e)return e()}finally{Fe=r,Nr.transition=n,Ce=t,!(Ce&6)&&ms()}}function Hb(){er=qu.current,He(qu)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,G5(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(Ib(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dv();break;case 3:ll(),He(zn),He(vn),Db();break;case 5:Ob(r);break;case 4:ll();break;case 13:He(Ze);break;case 19:He(Ze);break;case 10:Ab(r.type._context);break;case 22:case 23:Hb()}n=n.return}if(Vt=e,yt=e=ts(e.current,null),Xt=er=t,At=0,nh=null,$b=Xg=ba=0,Vn=Ef=null,na!==null){for(t=0;t<na.length;t++)if(n=na[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}na=null}return e}function ND(e,t){do{var n=yt;try{if(Nb(),ov.current=qv,$v){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$v=!1}if(Ea=0,Lt=Ct=nt=null,_f=!1,Zf=0,Vb.current=null,n===null||n.return===null){At=1,nh=t,yt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=oR(a);if(y!==null){y.flags&=-257,sR(y,a,l,s,t),y.mode&1&&iR(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var S=new Set;S.add(c),t.updateQueue=S}else w.add(c);break e}else{if(!(t&1)){iR(s,h,t),Wb();break e}c=Error($(426))}}else if(Ge&&l.mode&1){var C=oR(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),sR(C,a,l,s,t),kb(cl(c,l));break e}}s=c=cl(c,l),At!==4&&(At=2),Ef===null?Ef=[s]:Ef.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=fD(s,c,t);XA(s,b);break e;case 1:l=c;var T=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Zo===null||!Zo.has(I)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=hD(s,l,t);XA(s,P);break e}}s=s.return}while(s!==null)}xD(n)}catch(L){t=L,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(1)}function AD(){var e=zv.current;return zv.current=qv,e===null?qv:e}function Wb(){(At===0||At===3||At===2)&&(At=4),Vt===null||!(ba&268435455)&&!(Xg&268435455)||jo(Vt,Xt)}function Kv(e,t){var n=Ce;Ce|=2;var r=AD();(Vt!==e||Xt!==t)&&(Gi=null,fa(e,t));do try{_q();break}catch(i){ND(e,i)}while(1);if(Nb(),Ce=n,zv.current=r,yt!==null)throw Error($(261));return Vt=null,Xt=0,At}function _q(){for(;yt!==null;)RD(yt)}function wq(){for(;yt!==null&&!H6();)RD(yt)}function RD(e){var t=OD(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?xD(e):yt=t,Vb.current=null}function xD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dq(n,t),n!==null){n.flags&=32767,yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,yt=null;return}}else if(n=hq(n,t,er),n!==null){yt=n;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);At===0&&(At=5)}function Qs(e,t,n){var r=Fe,i=Nr.transition;try{Nr.transition=null,Fe=1,Eq(e,t,n,r)}finally{Nr.transition=i,Fe=r}return null}function Eq(e,t,n,r){do Ju();while(Ho!==null);if(Ce&6)throw Error($(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(t5(e,s),e===Vt&&(yt=Vt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Op||(Op=!0,DD(Nv,function(){return Ju(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nr.transition,Nr.transition=null;var a=Fe;Fe=1;var l=Ce;Ce|=4,Vb.current=null,vq(e,n),ID(n,e),V5(E1),Rv=!!w1,E1=w1=null,e.current=n,gq(n),W6(),Ce=l,Fe=a,Nr.transition=s}else e.current=n;if(Op&&(Op=!1,Ho=e,Wv=i),s=e.pendingLanes,s===0&&(Zo=null),Q6(n.stateNode),Wn(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hv)throw Hv=!1,e=V1,V1=null,e;return Wv&1&&e.tag!==0&&Ju(),s=e.pendingLanes,s&1?e===$1?bf++:(bf=0,$1=e):bf=0,ms(),null}function Ju(){if(Ho!==null){var e=c2(Wv),t=Nr.transition,n=Fe;try{if(Nr.transition=null,Fe=16>e?16:e,Ho===null)var r=!1;else{if(e=Ho,Ho=null,Wv=0,Ce&6)throw Error($(331));var i=Ce;for(Ce|=4,Q=e.current;Q!==null;){var s=Q,a=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Q=h;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:wf(8,p,s)}var v=p.child;if(v!==null)v.return=p,Q=v;else for(;Q!==null;){p=Q;var m=p.sibling,y=p.return;if(bD(p),p===h){Q=null;break}if(m!==null){m.return=y,Q=m;break}Q=y}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}Q=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Q=a;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wf(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Q=b;break e}Q=s.return}}var T=e.current;for(Q=T;Q!==null;){a=Q;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,Q=I;else e:for(a=T;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yg(9,l)}}catch(L){ot(l,l.return,L)}if(l===a){Q=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Q=P;break e}Q=l.return}}if(Ce=i,ms(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot($g,e)}catch{}r=!0}return r}finally{Fe=n,Nr.transition=t}}return!1}function _R(e,t,n){t=cl(n,t),t=fD(e,t,1),e=Jo(e,t,1),t=Rn(),e!==null&&(Oh(e,1,t),Wn(e,t))}function ot(e,t,n){if(e.tag===3)_R(e,e,n);else for(;t!==null;){if(t.tag===3){_R(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){e=cl(n,e),e=hD(t,e,1),t=Jo(t,e,1),e=Rn(),t!==null&&(Oh(t,1,e),Wn(t,e));break}}t=t.return}}function bq(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&n,Vt===e&&(Xt&n)===n&&(At===4||At===3&&(Xt&130023424)===Xt&&500>ht()-qb?fa(e,0):$b|=n),Wn(e,t)}function PD(e,t){t===0&&(e.mode&1?(t=Tp,Tp<<=1,!(Tp&130023424)&&(Tp=4194304)):t=1);var n=Rn();e=uo(e,t),e!==null&&(Oh(e,t,n),Wn(e,n))}function Tq(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),PD(e,n)}function Sq(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),PD(e,n)}var OD;OD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,fq(e,t,n);$n=!!(e.flags&131072)}else $n=!1,Ge&&t.flags&1048576&&M2(t,Fv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;av(e,t),e=t.pendingProps;var i=sl(t,vn.current);Xu(t,n),i=Mb(null,t,r,e,i,n);var s=Fb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(r)?(s=!0,Lv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xb(t),i.updater=Gg,t.stateNode=i,i._reactInternals=t,R1(t,r,e,n),t=O1(null,t,r,!0,s,n)):(t.tag=0,Ge&&s&&Sb(t),Tn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(av(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=kq(r),e=Yr(r,e),i){case 0:t=P1(null,t,r,e,n);break e;case 1:t=lR(null,t,r,e,n);break e;case 11:t=aR(null,t,r,e,n);break e;case 14:t=uR(null,t,r,Yr(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yr(r,i),P1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yr(r,i),lR(e,t,r,i,n);case 3:e:{if(gD(t),e===null)throw Error($(387));r=t.pendingProps,s=t.memoizedState,i=s.element,B2(e,t),Bv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=cl(Error($(423)),t),t=cR(e,t,r,n,i);break e}else if(r!==i){i=cl(Error($(424)),t),t=cR(e,t,r,n,i);break e}else for(ir=Xo(t.stateNode.containerInfo.firstChild),ur=t,Ge=!0,ei=null,n=z2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===i){t=lo(e,t,n);break e}Tn(e,t,r,n)}t=t.child}return t;case 5:return H2(t),e===null&&C1(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,b1(r,i)?a=null:s!==null&&b1(r,s)&&(t.flags|=32),vD(e,t),Tn(e,t,a,n),t.child;case 6:return e===null&&C1(t),null;case 13:return mD(e,t,n);case 4:return Pb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ul(t,null,r,n):Tn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yr(r,i),aR(e,t,r,i,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ve(Uv,r._currentValue),r._currentValue=a,s!==null)if(si(s.value,a)){if(s.children===i.children&&!zn.current){t=lo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=no(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),N1(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),N1(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xu(t,n),i=xr(i),r=r(i),t.flags|=1,Tn(e,t,r,n),t.child;case 14:return r=t.type,i=Yr(r,t.pendingProps),i=Yr(r.type,i),uR(e,t,r,i,n);case 15:return dD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yr(r,i),av(e,t),t.tag=1,Hn(r)?(e=!0,Lv(t)):e=!1,Xu(t,n),$2(t,r,i),R1(t,r,i,n),O1(null,t,r,!0,e,n);case 19:return yD(e,t,n);case 22:return pD(e,t,n)}throw Error($(156,t.tag))};function DD(e,t){return s2(e,t)}function Iq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,n,r){return new Iq(e,t,n,r)}function Kb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kq(e){if(typeof e=="function")return Kb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hb)return 11;if(e===db)return 14}return 2}function ts(e,t){var n=e.alternate;return n===null?(n=br(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cv(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Kb(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ou:return ha(n.children,i,s,t);case fb:a=8,i|=8;break;case e1:return e=br(12,n,t,i|2),e.elementType=e1,e.lanes=s,e;case t1:return e=br(13,n,t,i),e.elementType=t1,e.lanes=s,e;case n1:return e=br(19,n,t,i),e.elementType=n1,e.lanes=s,e;case qO:return Jg(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VO:a=10;break e;case $O:a=9;break e;case hb:a=11;break e;case db:a=14;break e;case Lo:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=br(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ha(e,t,n,r){return e=br(7,e,r,t),e.lanes=n,e}function Jg(e,t,n,r){return e=br(22,e,r,t),e.elementType=qO,e.lanes=n,e.stateNode={isHidden:!1},e}function cw(e,t,n){return e=br(6,e,null,t),e.lanes=n,e}function fw(e,t,n){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cq(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H_(0),this.expirationTimes=H_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gb(e,t,n,r,i,s,a,l,c){return e=new Cq(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=br(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xb(s),e}function Nq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function LD(e){if(!e)return us;e=e._reactInternals;e:{if(Ua(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Hn(n))return D2(e,n,t)}return t}function MD(e,t,n,r,i,s,a,l,c){return e=Gb(n,r,!0,e,i,s,a,l,c),e.context=LD(null),n=e.current,r=Rn(),i=es(n),s=no(r,i),s.callback=t??null,Jo(n,s,i),e.current.lanes=i,Oh(e,i,r),Wn(e,r),e}function Zg(e,t,n,r){var i=t.current,s=Rn(),a=es(i);return n=LD(n),t.context===null?t.context=n:t.pendingContext=n,t=no(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jo(i,t,a),e!==null&&(ri(e,i,a,s),iv(e,i,a)),a}function Gv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qb(e,t){wR(e,t),(e=e.alternate)&&wR(e,t)}function Aq(){return null}var FD=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yb(e){this._internalRoot=e}em.prototype.render=Yb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Zg(e,t,null,null)};em.prototype.unmount=Yb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ta(function(){Zg(null,e,null,null)}),t[ao]=null}};function em(e){this._internalRoot=e}em.prototype.unstable_scheduleHydration=function(e){if(e){var t=d2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Uo.length&&t!==0&&t<Uo[n].priority;n++);Uo.splice(n,0,e),n===0&&v2(e)}};function Xb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ER(){}function Rq(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Gv(a);s.call(h)}}var a=MD(t,r,e,0,null,!1,!1,"",ER);return e._reactRootContainer=a,e[ao]=a.current,Gf(e.nodeType===8?e.parentNode:e),Ta(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Gv(c);l.call(h)}}var c=Gb(e,0,!1,null,null,!1,!1,"",ER);return e._reactRootContainer=c,e[ao]=c.current,Gf(e.nodeType===8?e.parentNode:e),Ta(function(){Zg(t,c,n,r)}),c}function nm(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Gv(a);l.call(c)}}Zg(t,a,e,i)}else a=Rq(n,t,e,i,r);return Gv(a)}f2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lf(t.pendingLanes);n!==0&&(gb(t,n|1),Wn(t,ht()),!(Ce&6)&&(fl=ht()+500,ms()))}break;case 13:Ta(function(){var r=uo(e,1);if(r!==null){var i=Rn();ri(r,e,1,i)}}),Qb(e,1)}};mb=function(e){if(e.tag===13){var t=uo(e,134217728);if(t!==null){var n=Rn();ri(t,e,134217728,n)}Qb(e,134217728)}};h2=function(e){if(e.tag===13){var t=es(e),n=uo(e,t);if(n!==null){var r=Rn();ri(n,e,t,r)}Qb(e,t)}};d2=function(){return Fe};p2=function(e,t){var n=Fe;try{return Fe=e,t()}finally{Fe=n}};h1=function(e,t,n){switch(t){case"input":if(o1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wg(r);if(!i)throw Error($(90));HO(r),o1(r,i)}}}break;case"textarea":KO(e,n);break;case"select":t=n.value,t!=null&&Ku(e,!!n.multiple,t,!1)}};e2=zb;t2=Ta;var xq={usingClientEntryPoint:!1,Events:[Lh,Fu,Wg,JO,ZO,zb]},Qc={findFiberByHostInstance:ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Pq={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i2(e),e===null?null:e.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||Aq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dp.isDisabled&&Dp.supportsFiber)try{$g=Dp.inject(Pq),Ii=Dp}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xq;dr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xb(t))throw Error($(200));return Nq(e,t,null,n)};dr.createRoot=function(e,t){if(!Xb(e))throw Error($(299));var n=!1,r="",i=FD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gb(e,1,!1,null,null,n,!1,r,i),e[ao]=t.current,Gf(e.nodeType===8?e.parentNode:e),new Yb(t)};dr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=i2(t),e=e===null?null:e.stateNode,e};dr.flushSync=function(e){return Ta(e)};dr.hydrate=function(e,t,n){if(!tm(t))throw Error($(200));return nm(null,e,t,!0,n)};dr.hydrateRoot=function(e,t,n){if(!Xb(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=FD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=MD(t,null,e,1,n??null,i,!1,s,a),e[ao]=t.current,Gf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new em(t)};dr.render=function(e,t,n){if(!tm(t))throw Error($(200));return nm(null,e,t,!1,n)};dr.unmountComponentAtNode=function(e){if(!tm(e))throw Error($(40));return e._reactRootContainer?(Ta(function(){nm(null,null,e,!1,function(){e._reactRootContainer=null,e[ao]=null})}),!0):!1};dr.unstable_batchedUpdates=zb;dr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tm(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return nm(e,t,n,!1,r)};dr.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=dr})(A6);var bR=Xw;Yw.createRoot=bR.createRoot,Yw.hydrateRoot=bR.hydrateRoot;const Oq=at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hw=Oq.ReactCurrentDispatcher,Dq=()=>at.useReducer(()=>({}))[1],Lq=e=>()=>{const t=`Hook "${e}" no possible to using inside useBetween scope.`;throw console.error(t),new Error(t)},H1=(e,t)=>Object.is(e,t),Yc=(e,t)=>!e||!t||e.length!==t.length||e.some((n,r)=>!H1(n,t[r])),Mq=()=>typeof window>"u",TR=new Map;let Tf=[],fv=0,zu=[],Wo=[],Sf=()=>{},dw=Mq(),Fq;const Ro=()=>{const e=fv++;return Tf[e]=Tf[e]||{}},UD={useState(e){const t=Ro(),n=Sf;return t.initialized||(t.state=typeof e=="function"?e():e,t.set=r=>{if(typeof r=="function")return t.set(r(t.state));H1(r,t.state)||(t.state=r,n())},t.initialized=!0),[t.state,t.set]},useReducer(e,t,n){const r=Ro(),i=Sf;return r.initialized||(r.state=n?n(t):t,r.dispatch=s=>{const a=e(r.state,s);H1(a,r.state)||(r.state=a,i())},r.initialized=!0),[r.state,r.dispatch]},useEffect(e,t){if(dw)return;const n=Ro();n.initialized?Yc(n.deps,t)&&(n.deps=t,zu.push([n,t,e])):(n.deps=t,n.initialized=!0,zu.push([n,t,e]))},useLayoutEffect(e,t){if(dw)return;const n=Ro();n.initialized?Yc(n.deps,t)&&(n.deps=t,Wo.push([n,t,e])):(n.deps=t,n.initialized=!0,Wo.push([n,t,e]))},useCallback(e,t){const n=Ro();return n.initialized?Yc(n.deps,t)&&(n.deps=t,n.fn=e):(n.fn=e,n.deps=t,n.initialized=!0),n.fn},useMemo(e,t){const n=Ro();return n.initialized?Yc(n.deps,t)&&(n.deps=t,n.state=e()):(n.deps=t,n.state=e(),n.initialized=!0),n.state},useRef(e){const t=Ro();return t.initialized||(t.state={current:e},t.initialized=!0),t.state},useImperativeHandle(e,t,n){if(dw)return;const r=Ro();r.initialized?Yc(r.deps,n)&&(r.deps=n,Wo.push([r,n,()=>{typeof e=="function"?e(t()):e.current=t()}])):(r.deps=n,r.initialized=!0,Wo.push([r,n,()=>{typeof e=="function"?e(t()):e.current=t()}]))}};["readContext","useContext","useDebugValue","useResponder","useDeferredValue","useTransition"].forEach(e=>UD[e]=Lq(e));const Uq=(e,t)=>{const n=[];let r=[],i,s=[],a=!1;t&&t.mock&&(i=t.mock,a=!0);const l=()=>{r.slice().forEach(y=>y())},c=()=>{if(a)return;const y=hw.current,w=[fv,zu,Wo,Tf,Sf];let S=!1,C=!0;if(fv=0,zu=[],Wo=[],Tf=n,Sf=()=>{C?S=!0:c()},hw.current=UD,i=e(Fq),[Wo,zu].forEach(b=>b.forEach(([T,I,P])=>{if(T.deps=I,T.unsub){const O=T.unsub;s=s.filter(B=>B!==O),O()}const L=P();typeof L=="function"?(s.push(L),T.unsub=L):T.unsub=null})),[fv,zu,Wo,Tf,Sf]=w,hw.current=y,C=!1,!S){l();return}c()};return{init:()=>c(),get:()=>i,sub:y=>{r.indexOf(y)===-1&&r.push(y)},unsub:y=>{r=r.filter(w=>w!==y)},unsubs:()=>s,mock:y=>{a=!0,i=y,l()},unmock:()=>{a=!1,c()}}},jq=e=>{let t=TR.get(e);return t||(t=Uq(e),TR.set(e,t),t.init()),t},ja=e=>{const t=Dq();let n=jq(e);return n.sub(t),at.useEffect(()=>(n.sub(t),()=>n.unsub(t)),[n,t]),n.get()},Jb=()=>{const[e,t]=at.useState("");return{isLogedIn:e,setIsLogedIn:t}},Qv="/assets/logo-6884264d.png";class Bq extends Ph.Component{render(){return x(Et,{children:x("div",{className:"aside-logo flex-column-auto px-9 mb-9 mb-lg-17 mx-auto",id:"kt_aside_logo",children:Z("a",{href:"/",children:[x("img",{alt:"Logo",src:Qv,className:"h-80px logo theme-light-show"}),x("img",{alt:"Logo",src:Qv,className:"h-80px logo theme-dark-show"})]})})})}}const Vq=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"M20 7H3c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1h17c.6 0 1 .4 1 1v3c0 .6-.4 1-1 1ZM7 9H3c-.6 0-1 .4-1 1v10c0 .6.4 1 1 1h4c.6 0 1-.4 1-1V10c0-.6-.4-1-1-1Z",fill:"currentColor"}),x("path",{opacity:.3,d:"M20 21h-9c-.6 0-1-.4-1-1V10c0-.6.4-1 1-1h9c.6 0 1 .4 1 1v10c0 .6-.4 1-1 1Z",fill:"currentColor"})]}),$q=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"M18 21.6c-1.4-1.2-8.9-1.3-11.7-.4-.6.2-1.2 0-1.6-.4L2 18c2.2-2.2 8.8-2.9 13.8-2.2.4 2.5 1.2 4.7 2.2 5.8Zm.8-18.8c-.4-.4-1-.6-1.6-.4-2.8.9-10.3.8-11.7-.4 1.3 1.3 1.9 3.5 2.2 5.7 1.3.2 2.6.3 4 .3 4.1 0 8.1-.8 9.8-2.5l-2.7-2.7Z",fill:"currentColor"}),x("path",{opacity:.3,d:"M21.2 17.3c.2.6 0 1.2-.4 1.6L18 21.6c-2.2-2.2-2.9-8.8-2.2-13.8 2.5-.4 4.6-1.1 5.7-2.2-1.1 1.4-1.3 8.9-.3 11.7ZM8 11.7C8 9 7.7 4.2 5.5 2L2.8 4.8c-.4.4-.6 1-.4 1.6.3 1 .6 2.8.7 5.3 0 3.8-.7 5.9-1 6.3 1.1-1.1 3.2-1.8 5.7-2.2.2-1.6.2-3.1.2-4.1Z",fill:"currentColor"})]}),qq=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"M22 7H2v4h20V7Z",fill:"currentColor"}),x("path",{opacity:.3,d:"M21 19H3c-.6 0-1-.4-1-1V6c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1Zm-7-5c0-.6-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1Zm2 1.5c0 .8.7 1.5 1.5 1.5h1c.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5h-1c-.8 0-1.5.7-1.5 1.5Z",fill:"currentColor"})]}),zq=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"M11.293 2.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0L8.707 6.707a1 1 0 0 1 0-1.414l2.586-2.586ZM11.293 14.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586Z",fill:"currentColor"}),x("path",{opacity:.3,d:"M5.293 8.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586ZM17.293 8.707a1 1 0 0 1 1.414 0l2.586 2.586a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 1-1.414 0l-2.586-2.586a1 1 0 0 1 0-1.414l2.586-2.586Z",fill:"currentColor"})]}),Hq=e=>Z("svg",{width:24,height:25,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{opacity:.3,d:"m8.9 21-1.7 1.7c-.4.4-1 .4-1.4 0L4.1 21h4.8ZM4 16.1l-1.7 1.7c-.4.4-.4 1 0 1.4L4 20.9v-4.8Zm15.3-6.9-3.5-3.5c-.4-.4-1-.4-1.4 0L9 11.1V21l10.3-10.3c.4-.4.4-1.1 0-1.5Z",fill:"currentColor"}),x("path",{d:"M21 15v5c0 .6-.4 1-1 1h-8.2l7-7H20c.6 0 1 .4 1 1Zm-11 6V4c0-.6-.4-1-1-1H4c-.6 0-1 .4-1 1v17c0 .6.4 1 1 1h5c.6 0 1-.4 1-1Zm-2.5-2.5c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1Z",fill:"currentColor"})]}),Wq=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"m11.7 8-4.2 7.3-2.9 5c-1.1-1.9-1.5-2.6-2.3-4-.4-.6-.4-1.4 0-2L8.8 3l2.9 5Z",fill:"currentColor"}),x("path",{opacity:.3,d:"M11.7 8 8.8 3h4.6c.7 0 1.4.4 1.8 1l5.4 9.3h-5.8L11.7 8Zm-4.2 7.2-2.9 5h13c.7 0 1.4-.4 1.8-1 .8-1.5 1.2-2.2 2.3-4H7.5Z",fill:"currentColor"})]}),SR={dashboard:Vq,browsePlan:$q,history:qq,subscription:zq,token:Hq,tunnel:Wq};function Kq(e){const t=e.link,n=e.icon,r=e.caption,i=typeof SR[n]<"u",s=e.bullet||!1,a=e.hasChild||!1,l="";let c="",h,p="";return s&&(p=x("span",{className:"menu-bullet",children:x("span",{className:"bullet bullet-dot"})})),i&&(h=SR[n],c=x("span",{className:"menu-icon",children:x("span",{className:"svg-icon svg-icon-2",children:x(h,{viewBox:"0 0 24 24"})})})),a?x(Et,{children:Z("span",{className:"menu-link",children:[p,c,x("span",{className:"menu-title",children:r}),x("span",{className:"menu-arrow"})]})}):Z(Et,{children:[x("div",{className:"menu-item",children:Z("a",{className:"menu-link",href:t,children:[p,c,x("span",{className:"menu-title",children:r})]})}),l]})}class Gq extends Ph.Component{render(){return x(Et,{children:x("div",{className:"aside-menu flex-column-fluid ps-3 ps-lg-5 pe-1 mb-9",id:"kt_aside_menu",children:x("div",{className:"w-100 hover-scroll-overlay-y pe-2 me-2",id:"kt_aside_menu_wrapper","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-height":"auto","data-kt-scroll-dependencies":"#kt_aside_logo, #kt_aside_user, #kt_aside_footer","data-kt-scroll-wrappers":"#kt_aside, #kt_aside_menu, #kt_aside_menu_wrapper","data-kt-scroll-offset":"0",children:x("div",{className:"menu menu-column menu-rounded menu-sub-indention menu-active-bg fw-semibold",id:"#kt_aside_menu","data-kt-menu":"true",children:x(Kq,{link:"#dashboard",caption:"Dashboard",icon:"dashboard"})})})})})}}const Qq=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("rect",{opacity:.3,width:12,height:2,rx:1,transform:"matrix(-1 0 0 1 15.5 11)",fill:"currentColor"}),x("path",{d:"m13.631 11.693-1.755-1.463a1.04 1.04 0 1 1 1.358-1.578l2.925 2.6a1 1 0 0 1 0 1.495l-2.925 2.6a1.04 1.04 0 1 1-1.358-1.577l1.755-1.463a.4.4 0 0 0 0-.614Z",fill:"currentColor"}),x("path",{d:"M8 5v1a1 1 0 0 0 2 0 1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1 1 1 0 1 0-2 0v1a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-9a2 2 0 0 0-2 2Z",fill:"currentColor"})]}),Yq=()=>ja(Jb);function Xq(){const{isLogedIn:e,setIsLogedIn:t}=Yq();function n(r){localStorage.isLogedIn="false",t("false")}return x(Et,{children:x("div",{className:"aside-footer flex-column-auto px-6 px-lg-9",id:"kt_aside_footer",children:x("div",{className:"d-flex flex-stack ms-7",children:Z("a",{onClick:n,className:"btn btn-sm btn-icon btn-active-color-primary btn-icon-gray-600 btn-text-gray-600",href:"#logout",children:[x("span",{className:"svg-icon svg-icon-1 me-2",children:x(Qq,{})}),x("span",{className:"d-flex flex-shrink-0 fw-bold",children:"Keluar"})]})})})})}class Jq extends Ph.Component{render(){return x(Et,{children:Z("div",{id:"kt_aside",className:"aside pt-7 pb-4 pb-lg-7 pt-lg-17","data-kt-drawer":"true","data-kt-drawer-name":"aside","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"start","data-kt-drawer-toggle":"#kt_aside_toggle",children:[x(Bq,{}),x(Gq,{}),x(Xq,{})]})})}}function Zq(){return x(Et,{children:x("div",{className:"col-xl-4 col-md-6 mt-2",children:x("div",{className:"card card-h-100",children:Z("div",{className:"card-body",children:[x("div",{className:"row",children:x("span",{className:"text-muted mb-3 d-block text-truncate",children:"Langganan"})}),x("div",{className:"row",children:x("h4",{children:x("span",{children:"Gratis"})})})]})})})})}function ez(){return x(Et,{children:x("div",{className:"footer py-4 d-flex flex-lg-column",id:"kt_footer",children:Z("div",{className:"container-fluid d-flex flex-column flex-md-row flex-stack",children:[Z("div",{className:"text-dark order-2 order-md-1",children:[x("span",{className:"text-gray-400 fw-semibold me-1",children:"Dibuat Oleh"}),x("a",{href:"#",target:"_blank",className:"text-muted text-hover-primary fw-semibold me-2 fs-6",children:"cristminix <cristminix@gmail.com>"})]}),Z("ul",{className:"menu menu-gray-600 menu-hover-primary fw-semibold order-1",children:[x("li",{className:"menu-item",children:x("a",{href:"#documents",target:"_blank",className:"menu-link px-2",children:"Dokumentasi"})}),x("li",{className:"menu-item",children:x("a",{href:"#",className:"menu-link px-5"})})]})]})})})}const tz="/assets/favicon-18674101.ico",jD=e=>x("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:x("path",{d:"M11.99 5.626a6.376 6.376 0 1 0 6.376 6.376 6.383 6.383 0 0 0-6.375-6.376ZM22.126 10.877h-1.499a1.125 1.125 0 1 0 0 2.25h1.499a1.125 1.125 0 1 0 0-2.25ZM11.99 19.5a1.127 1.127 0 0 0-1.124 1.125v1.5a1.124 1.124 0 0 0 2.249 0v-1.5A1.126 1.126 0 0 0 11.99 19.5ZM4.497 12.002a1.126 1.126 0 0 0-1.124-1.125H1.874a1.125 1.125 0 1 0 0 2.25h1.499a1.126 1.126 0 0 0 1.124-1.125ZM11.99 4.5a1.126 1.126 0 0 0 1.125-1.125v-1.5a1.124 1.124 0 1 0-2.249 0v1.5a1.126 1.126 0 0 0 1.125 1.126ZM18.886 6.697l1.06-1.06a1.125 1.125 0 1 0-1.59-1.59l-1.06 1.06a1.125 1.125 0 1 0 1.59 1.59ZM18.886 17.307a1.125 1.125 0 1 0-1.59 1.59l1.06 1.061a1.124 1.124 0 1 0 1.59-1.59l-1.06-1.06ZM5.095 17.307l-1.06 1.061a1.124 1.124 0 1 0 1.59 1.59l1.06-1.06a1.126 1.126 0 0 0-.363-1.836 1.125 1.125 0 0 0-1.227.245ZM5.095 6.697a1.124 1.124 0 1 0 1.59-1.59l-1.06-1.06a1.124 1.124 0 1 0-1.59 1.59l1.06 1.06Z",fill:"currentColor"})}),BD=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"M19.065 5.438a.502.502 0 1 0 0-1.005.502.502 0 0 0 0 1.005ZM20.07 9.489a.502.502 0 1 0 0-1.005.502.502 0 0 0 0 1.005ZM12.034 20.571c3.66 0 6.909-2.366 8.083-5.837a.503.503 0 0 0-.791-.552 5.957 5.957 0 0 1-3.777 1.334c-3.323 0-6.06-2.704-6.06-6.027 0-2.078 1.088-4.018 2.856-5.131.19-.12.255-.35.193-.565a.53.53 0 0 0-.505-.364C7.327 3.429 3.43 7.292 3.43 12s3.897 8.571 8.604 8.571Z",fill:"currentColor"}),x("path",{d:"M13.038 7.48c.83 0 1.507.676 1.507 1.507a.502.502 0 1 0 1.004 0c0-.831.676-1.507 1.507-1.507a.502.502 0 1 0 0-1.004c-.831 0-1.507-.71-1.507-1.54a.502.502 0 1 0-1.004 0c0 .83-.676 1.54-1.507 1.54a.502.502 0 1 0 0 1.004Z",fill:"currentColor"})]}),nz=e=>x("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:x("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.344 3.946v11.272c0 .901.737 1.638 1.638 1.638h5.669v2.603H6.157c-.768 0-1.397.503-1.397 1.117v1.116h14.48v-1.116c0-.614-.628-1.117-1.397-1.117H15.35v-2.603h5.669c.901 0 1.638-.737 1.638-1.638V3.946c0-.9-.737-1.638-1.638-1.638H2.982c-.901 0-1.638.737-1.638 1.638Zm11.56 5.956c.337.086.656.22.948.393l1.187-.86.95.95-.86 1.188c.174.292.308.61.394.948l1.447.232v.656h-2.985a1.985 1.985 0 0 0-3.97 0H7.03v-.656l1.447-.232c.086-.337.22-.656.393-.948l-.86-1.188.95-.95 1.188.86c.292-.174.611-.307.949-.393l.231-1.447h1.344l.231 1.447Zm3.231-1.964a.828.828 0 1 1 0-1.657.828.828 0 0 1 0 1.657ZM2.714 14.096V3.906c0-.126.102-.228.227-.228H21.06c.125 0 .227.102.227.227v10.191H2.714Z",fill:"currentColor"})});function rz(){return x(Et,{children:Z("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-title-gray-700 menu-icon-muted menu-active-bg menu-state-color fw-semibold py-4 fs-base w-175px","data-kt-menu":"true","data-kt-element":"theme-mode-menu",children:[x("div",{className:"menu-item px-3 my-0",children:Z("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"light",children:[x("span",{className:"menu-icon","data-kt-element":"icon",children:x("span",{className:"svg-icon svg-icon-3",children:x(jD,{viewBox:"0 0 24 24"})})}),x("span",{className:"menu-title",children:"Light"})]})}),x("div",{className:"menu-item px-3 my-0",children:Z("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"dark",children:[x("span",{className:"menu-icon","data-kt-element":"icon",children:x("span",{className:"svg-icon svg-icon-3",children:x(BD,{viewBox:"0 0 24 24"})})}),x("span",{className:"menu-title",children:"Dark"})]})}),x("div",{className:"menu-item px-3 my-0",children:Z("a",{href:"#",className:"menu-link px-3 py-2","data-kt-element":"mode","data-kt-value":"system",children:[x("span",{className:"menu-icon","data-kt-element":"icon",children:x("span",{className:"svg-icon svg-icon-3",children:x(nz,{viewBox:"0 0 24 24"})})}),x("span",{className:"menu-title",children:"System"})]})})]})})}const iz=e=>Z("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[x("path",{d:"M21 7H3c-.6 0-1-.4-1-1V4c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Z",fill:"currentColor"}),x("path",{opacity:.3,d:"M21 14H3c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h18c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1Zm1 6v-2c0-.6-.4-1-1-1H3c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h18c.6 0 1-.4 1-1Z",fill:"currentColor"})]});function oz(e){const t=e.title;return x(Et,{children:x("div",{id:"kt_header",className:"header",children:Z("div",{className:"container-fluid d-flex align-items-center flex-wrap justify-content-between",id:"kt_header_container",children:[x("div",{className:"page-title d-flex flex-column align-items-start justify-content-center flex-wrap me-2 pb-5 pb-lg-0 pt-7 pt-lg-0","data-kt-swapper":"true","data-kt-swapper-mode":"prepend","data-kt-swapper-parent":"{default: '#kt_content_container', lg: '#kt_header_container'}",children:x("h1",{className:"d-flex flex-column text-dark fw-bold my-0 fs-1",children:t})}),Z("div",{className:"d-flex d-lg-none align-items-center ms-n3 me-2",children:[x("div",{className:"btn btn-icon btn-active-icon-primary",id:"kt_aside_toggle",children:x("span",{className:"svg-icon svg-icon-1 mt-1",children:x(iz,{viewBox:"0 0 24 24"})})}),x("a",{href:"/",className:"d-flex align-items-center",children:x("img",{alt:"Logo",src:tz,className:"h-30px"})})]}),x("div",{className:"d-flex align-items-center flex-shrink-0",children:Z("div",{className:"d-flex align-items-center ms-3 ms-lg-4",children:[Z("a",{href:"#",className:"btn btn-icon btn-color-gray-700 btn-active-color-primary btn-outline w-40px h-40px","data-kt-menu-trigger":"{default:'click', lg: 'hover'}","data-kt-menu-attach":"parent","data-kt-menu-placement":"bottom-end",children:[x("span",{className:"svg-icon theme-light-show svg-icon-2",children:x(jD,{viewBox:"0 0 24 24"})}),x("span",{className:"svg-icon theme-dark-show svg-icon-2",children:x(BD,{viewBox:"0 0 24 24"})})]}),x(rz,{})]})})]})})})}function W1(e){let t="";try{e.serviceMap.backend=="bore"?t=`http://bore.pub:${e.config.bore_port}`:e.serviceMap.backend=="ngrok"?t=`${e.config.ngrok_url}`:e.serviceMap.backend=="localtonet"&&(t=`https://${e.config.localtonet_host}`)}catch{}return t}function Xc(e,t=0,n=2){if(!+e)return"0 Bytes";const r=1024;t&&(e*=r);const i=n<0?0:n,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,a)).toFixed(i))} ${s[a]}`}var K1=function(e,t){return K1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},K1(e,t)};function G(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ie.apply(this,arguments)};function A(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(v){a(v)}}function c(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function $t(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function pe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(e,t){if(!e)throw Bl(t)},Bl=function(e){return new Error("Firebase Database ("+VD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $D=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},sz=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,v=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[p],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($D(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sz(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qD=function(e){var t=$D(e);return rm.encodeByteArray(t,!0)},IR=function(e){return qD(e).replace(/\./g,"")},kR=function(e){try{return rm.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e){return rh(void 0,e)}function rh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!az(r)||(e[r]=rh(e[r],t[r]));return e}function az(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ie({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[IR(JSON.stringify(n)),IR(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sa())}function HD(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uz(){return typeof self=="object"&&self.self===self}function tT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function WD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lz(){return Sa().indexOf("Electron/")>=0}function cz(){var e=Sa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fz(){return Sa().indexOf("MSAppHost/")>=0}function KD(){return VD.NODE_ADMIN===!0}function hz(){return!HD()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fh(){return"indexedDB"in self&&indexedDB!=null}function nT(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function GD(){return!(!navigator||!navigator.cookieEnabled)}function dz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pz="FirebaseError",Vl=function(e){G(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=pz,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,go.prototype.create),s}return t}(Error),go=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?vz(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Vl(s,c,i);return h},e}();function vz(e,t){return e.replace(gz,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var gz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(e){return JSON.parse(e)}function Nt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rT=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=ih(kR(s[0])||""),n=ih(kR(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},mz=function(e){var t=rT(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},yz=function(e){var t=rT(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_z=function(e){var t=rT(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ia(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function G1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yv(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ez=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),m=1518500249):(v=l^c^h,m=1859775393):i<60?(v=l&c|h&(l|c),m=2400959708):(v=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+v+p+m+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function bz(e,t){var n=new Tz(e,t);return n.subscribe.bind(n)}var Tz=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Sz(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=pw),s.error===void 0&&(s.error=pw),s.complete===void 0&&(s.complete=pw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function Sz(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function pw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Kn(e,t){return e+" failed: "+t+" argument "}function Mt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Kn(e,t)+"must be a valid function.")}function CR(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Kn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iz=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,q(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},im=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kz=1e3,Cz=2,Nz=4*60*60*1e3,Az=.5;function Q1(e,t,n){t===void 0&&(t=kz),n===void 0&&(n=Cz);var r=t*Math.pow(n,e),i=Math.round(Az*r*(Math.random()-.5)*2);return Math.min(Nz,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(e){return e&&e._delegate?e._delegate:e}var gn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QD=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new jt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(xz(t))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}try{for(var i=$t(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Qt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ys),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(pe(pe([],Qt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Qt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Ys),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Ys),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=$t(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var p=Qt(h.value,2),v=p[0],m=p[1],y=this.normalizeInstanceIdentifier(v);a===y&&m.resolve(l)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=$t(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Rz(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Ys),this.component?this.component.multipleInstances?t:Ys:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function Rz(e){return e===Ys?void 0:e}function xz(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YD=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new QD(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Qr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks,iT=[],ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ye||(ye={}));var XD={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Pz=ye.INFO,Oz=(Ks={},Ks[ye.DEBUG]="log",Ks[ye.VERBOSE]="log",Ks[ye.INFO]="info",Ks[ye.WARN]="warn",Ks[ye.ERROR]="error",Ks),Dz=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=Oz[t];if(s)console[s].apply(console,Qr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ba=function(){function e(t){this.name=t,this._logLevel=Pz,this._logHandler=Dz,this._userLogHandler=null,iT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ye))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?XD[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,ye.DEBUG],t)),this._logHandler.apply(this,Qr([this,ye.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,ye.VERBOSE],t)),this._logHandler.apply(this,Qr([this,ye.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,ye.INFO],t)),this._logHandler.apply(this,Qr([this,ye.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,ye.WARN],t)),this._logHandler.apply(this,Qr([this,ye.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Qr([this,ye.ERROR],t)),this._logHandler.apply(this,Qr([this,ye.ERROR],t))},e}();function Lz(e){iT.forEach(function(t){t.setLogLevel(e)})}function Mz(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=XD[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:ye[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=iT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo,Fz=(xo={},xo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",xo["bad-app-name"]="Illegal App name: '{$appName}",xo["duplicate-app"]="Firebase App named '{$appName}' already exists",xo["app-deleted"]="Firebase App named '{$appName}' already deleted",xo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",xo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",xo),Nu=new go("app","Firebase",Fz),JD="@firebase/app",Uz="0.6.30",jz="@firebase/analytics",Bz="@firebase/app-check",Vz="@firebase/auth",$z="@firebase/database",qz="@firebase/functions",zz="@firebase/installations",Hz="@firebase/messaging",Wz="@firebase/performance",Kz="@firebase/remote-config",Gz="@firebase/storage",Qz="@firebase/firestore",Yz="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,Xv="[DEFAULT]",Xz=(an={},an[JD]="fire-core",an[jz]="fire-analytics",an[Bz]="fire-app-check",an[Vz]="fire-auth",an[$z]="fire-rtdb",an[qz]="fire-fn",an[zz]="fire-iid",an[Hz]="fire-fcm",an[Wz]="fire-perf",an[Kz]="fire-rc",an[Gz]="fire-gcs",an[Qz]="fire-fst",an["fire-js"]="fire-js",an[Yz]="fire-js-all",an);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=new Ba("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hv=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=zD(t),this.container=new YD(n.name),this._addComponent(new gn("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Xv),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Xv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){hl.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Nu.create("app-deleted",{appName:this.name_})},e}();hv.prototype.name&&hv.prototype.options||hv.prototype.delete||console.log("dc");var Jz="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:Lz,onLog:p,apps:null,SDK_VERSION:Jz,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||Xv,!cr(t,m))throw Nu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var S=y;S.name===void 0&&(S.name=Xv);var C=S.name;if(typeof C!="string"||!C)throw Nu.create("bad-app-name",{appName:String(C)});if(cr(t,C))throw Nu.create("duplicate-app",{appName:C});var b=new e(m,S,r);return t[C]=b,b}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return hl.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var w=function(T){if(T===void 0&&(T=s()),typeof T[y]!="function")throw Nu.create("invalid-app-argument",{appName:y});return T[y]()};m.serviceProps!==void 0&&rh(w,m.serviceProps),r[y]=w,e.prototype[y]=function(){for(var T=[],I=0;I<arguments.length;I++)T[I]=arguments[I];var P=this._getService.bind(this,y);return P.apply(this,m.multipleInstances?T:[])}}for(var S=0,C=Object.keys(t);S<C.length;S++){var b=C[S];t[b]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,w){var S,C=(S=Xz[m])!==null&&S!==void 0?S:m;w&&(C+="-"+w);var b=C.match(/\s|\//),T=y.match(/\s|\//);if(b||T){var I=['Unable to register library "'+C+'" with version "'+y+'":'];b&&I.push('library name "'+C+'" contains illegal characters (whitespace or "/")'),b&&T&&I.push("and"),T&&I.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),hl.warn(I.join(" "));return}c(new gn(C+"-version",function(){return{library:C,version:y}},"VERSION"))}function p(m,y){if(m!==null&&typeof m!="function")throw Nu.create("invalid-log-argument");Mz(m,y)}function v(m,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){var e=Zz(hv);e.INTERNAL=ie(ie({},e.INTERNAL),{createFirebaseNamespace:ZD,extendNamespace:t,createSubscribe:bz,ErrorFactory:go,deepExtend:rh});function t(n){rh(e,n)}return e}var oT=ZD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eH=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(tH(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function tH(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(e,t){e.INTERNAL.registerComponent(new gn("platform-logger",function(n){return new eH(n)},"PRIVATE")),e.registerVersion(JD,Uz,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(uz()&&self.firebase!==void 0){hl.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var NR=self.firebase.SDK_VERSION;NR&&NR.indexOf("LITE")>=0&&hl.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var rH=oT.initializeApp;oT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return HD()&&hl.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),rH.apply(void 0,e)};var ee=oT;nH(ee);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var g=o[d];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(E){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{E(k.resolve,k.reject)}catch(M){k.reject(M)}}function f(){this.a=null}function d(E){return E instanceof u?E:new u(function(k){k(E)})}if(o)return o;f.prototype.b=function(E){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(E)};var g=r.setTimeout;f.prototype.c=function(E){g(E,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var k=0;k<E.length;++k){var M=E[k];E[k]=null;try{M()}catch(U){this.f(U)}}}this.a=null},f.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(U){return function(le){M||(M=!0,U.call(k,le))}}var k=this,M=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var k=E!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(E):this.h(E)}},u.prototype.v=function(E){var k=void 0;try{k=E.then}catch(M){this.g(M);return}typeof k=="function"?this.u(k,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,k){if(this.b!=0)throw Error("Cannot settle("+E+", "+k+"): Promise already settled in state"+this.b);this.b=E,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new f;return u.prototype.s=function(E){var k=this.f();E.Ra(k.resolve,k.reject)},u.prototype.u=function(E,k){var M=this.f();try{E.call(k,M.resolve,M.reject)}catch(U){M.reject(U)}},u.prototype.then=function(E,k){function M(Ne,Ot){return typeof Ne=="function"?function(Wi){try{U(Ne(Wi))}catch(j_){le(j_)}}:Ot}var U,le,De=new u(function(Ne,Ot){U=Ne,le=Ot});return this.Ra(M(E,U),M(k,le)),De},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,k){function M(){switch(U.b){case 1:E(U.c);break;case 2:k(U.c);break;default:throw Error("Unexpected state: "+U.b)}}var U=this;this.a==null?_.b(M):this.a.push(M)},u.resolve=d,u.reject=function(E){return new u(function(k,M){M(E)})},u.race=function(E){return new u(function(k,M){for(var U=a(E),le=U.next();!le.done;le=U.next())d(le.value).Ra(k,M)})},u.all=function(E){var k=a(E),M=k.next();return M.done?d([]):new u(function(U,le){function De(Wi){return function(j_){Ne[Wi]=j_,Ot--,Ot==0&&U(Ne)}}var Ne=[],Ot=0;do Ne.push(void 0),Ot++,d(M.value).Ra(De(Ne.length-1),le),M=k.next();while(!M.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function S(o){return y(o)=="function"}function C(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function b(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++I)}var T="closure_uid_"+(1e9*Math.random()>>>0),I=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function L(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=P:O=L,O.apply(null,arguments)}function B(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function F(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function ue(o){return o}function R(o,u,f){this.code=Ln+o,this.message=u||li[o]||"",this.a=f||null}F(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function pt(o){var u=o&&o.code;return u?new R(u.substring(Ln.length),o.message,o.serverResponse):null}var Ln="auth/",li={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ji={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ci(o){for(var u in ji)if(ji[u].id===o)return o=ji[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Mr;Mr=ci("__EID__")?"__EID__":void 0;function Bi(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function W(o){if(Error.captureStackTrace)Error.captureStackTrace(this,W);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}F(W,Error),W.prototype.name="CustomError";function se(o,u){o=o.split("%s");for(var f="",d=o.length-1,g=0;g<d;g++)f+=o[g]+(g<u.length?u[g]:"%s");W.call(this,f+o[d])}F(se,W),se.prototype.name="AssertionError";function z(o,u){throw new se("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Pe(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Pe.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function ut(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Ss(){this.b=this.a=null}var fi=new Pe(function(){return new Fr},function(o){o.reset()});Ss.prototype.add=function(o,u){var f=fi.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function oc(){var o=ZI,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Fr(){this.next=this.b=this.a=null}Fr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Fr.prototype.reset=function(){this.next=this.b=this.a=null};var Is=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Xe=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<d;_++)_ in g&&u.call(f,g[_],_,o)};function nj(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var rj=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],g=0,_=typeof o=="string"?o.split(""):o,E=0;E<f;E++)if(E in _){var k=_[E];u.call(void 0,k,E,o)&&(d[g++]=k)}return d},vd=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(d[_]=u.call(void 0,g[_],_,o));return d},ij=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o))return!0;return!1};function oj(o){e:{for(var u=UB,f=o.length,d=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in d&&u.call(void 0,d[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function Vi(o,u){return 0<=Is(o,u)}function gd(o,u){u=Is(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function Ur(o,u){var f=0;nj(o,function(d,g){u.call(void 0,d,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function cy(o){return Array.prototype.concat.apply([],arguments)}function ks(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var NI=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},sj=/&/g,aj=/</g,uj=/>/g,lj=/"/g,cj=/'/g,fj=/\x00/g,hj=/[\x00&<>"']/;function Be(o,u){return o.indexOf(u)!=-1}function fy(o,u){return o<u?-1:o>u?1:0}var Za;e:{var AI=c.navigator;if(AI){var RI=AI.userAgent;if(RI){Za=RI;break e}}Za=""}function St(o){return Be(Za,o)}function xI(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Cs(o){for(var u in o)return!1;return!0}function wo(o){var u={},f;for(f in o)u[f]=o[f];return u}var PI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mn(o,u){for(var f,d,g=1;g<arguments.length;g++){d=arguments[g];for(f in d)o[f]=d[f];for(var _=0;_<PI.length;_++)f=PI[_],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function OI(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var g=d;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(C(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;z("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function hi(o,u){this.a=o===md&&u||"",this.b=DI}hi.prototype.ta=!0,hi.prototype.sa=function(){return this.a},hi.prototype.toString=function(){return"Const{"+this.a+"}"};function hy(o){return o instanceof hi&&o.constructor===hi&&o.b===DI?o.a:(z("expected object of type Const, got '"+o+"'"),"type_error:Const")}var DI={},md={},yd;function LI(){if(yd===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:ue,createScript:ue,createScriptURL:ue})}catch(f){c.console&&c.console.error(f.message)}yd=o}else yd=o}return yd}function eu(o,u){this.a=u===FI?o:""}eu.prototype.ta=!0,eu.prototype.sa=function(){return this.a.toString()},eu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function MI(o){return o instanceof eu&&o.constructor===eu?o.a:(z("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function dy(o,u){var f=hy(o);if(!pj.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(dj,function(d,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[g],d instanceof hi?hy(d):encodeURIComponent(String(d))}),vj(o)}var dj=/%{(\w+)}/g,pj=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,FI={};function vj(o){var u=LI();return o=u?u.createScriptURL(o):o,new eu(o,FI)}function Fn(o,u){this.a=u===sc?o:""}Fn.prototype.ta=!0,Fn.prototype.sa=function(){return this.a.toString()},Fn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function _d(o){return o instanceof Fn&&o.constructor===Fn?o.a:(z("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var gj=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,mj=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,UI=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jI(o){if(o instanceof Fn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),UI.test(o))o=new Fn(o,sc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(mj);o=u&&gj.test(u[1])?new Fn(o,sc):null}return o}function BI(o){return o instanceof Fn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),UI.test(o)||(o="about:invalid#zClosurez"),new Fn(o,sc))}var sc={},VI=new Fn("about:invalid#zClosurez",sc);function tu(o,u,f){this.a=f===$I?o:""}tu.prototype.ta=!0,tu.prototype.sa=function(){return this.a.toString()},tu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function yj(o){return o instanceof tu&&o.constructor===tu?o.a:(z("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var $I={};function _j(o,u){OI(o,"HTMLScriptElement"),o.src=MI(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(p===null&&(p=v(c.document)),u=p),u&&o.setAttribute("nonce",u)}function qI(o,u,f,d){return o=o instanceof Fn?o:BI(o),u=u||c,f=f instanceof hi?hy(f):f||"",u.open(_d(o),f,d,void 0)}function zI(o,u){for(var f=o.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)d+=f.shift()+g.shift();return d+f.join("%s")}function py(o){return hj.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(sj,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(aj,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(uj,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(lj,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(cj,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(fj,"&#0;"))),o}function vy(o){return vy[" "](o),o}vy[" "]=m;function wj(o,u){var f=Sj;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var Ej=St("Opera"),jr=St("Trident")||St("MSIE"),HI=St("Edge"),bj=HI||jr,WI=St("Gecko")&&!(Be(Za.toLowerCase(),"webkit")&&!St("Edge"))&&!(St("Trident")||St("MSIE"))&&!St("Edge"),Tj=Be(Za.toLowerCase(),"webkit")&&!St("Edge");function KI(){var o=c.document;return o?o.documentMode:void 0}var wd;e:{var gy="",my=function(){var o=Za;if(WI)return/rv:([^\);]+)(\)|;)/.exec(o);if(HI)return/Edge\/([\d\.]+)/.exec(o);if(jr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(Tj)return/WebKit\/(\S+)/.exec(o);if(Ej)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(my&&(gy=my?my[1]:""),jr){var yy=KI();if(yy!=null&&yy>parseFloat(gy)){wd=String(yy);break e}}wd=gy}var Sj={};function GI(o){return wj(o,function(){for(var u=0,f=NI(String(wd)).split("."),d=NI(String(o)).split("."),g=Math.max(f.length,d.length),_=0;u==0&&_<g;_++){var E=f[_]||"",k=d[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],E[0].length==0&&k[0].length==0)break;u=fy(E[1].length==0?0:parseInt(E[1],10),k[1].length==0?0:parseInt(k[1],10))||fy(E[2].length==0,k[2].length==0)||fy(E[2],k[2]),E=E[3],k=k[3]}while(u==0)}return 0<=u})}var _y;if(c.document&&jr){var QI=KI();_y=QI||parseInt(wd,10)||void 0}else _y=void 0;var Eo=_y;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Ij=!jr||9<=Number(Eo);function ac(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function YI(o,u){xI(u,function(f,d){f&&typeof f=="object"&&f.ta&&(f=f.sa()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:XI.hasOwnProperty(d)?o.setAttribute(XI[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var XI={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function kj(o,u,f){var d=arguments,g=document,_=String(d[0]),E=d[1];if(!Ij&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',py(E.name),'"'),E.type){_.push(' type="',py(E.type),'"');var k={};Mn(k,E),delete k.type,E=k}_.push(">"),_=_.join("")}return _=Ed(g,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):YI(_,E)),2<d.length&&Cj(g,_,d),_}function Cj(o,u,f){function d(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var _=f[g];if(!w(_)||C(_)&&0<_.nodeType)d(_);else{e:{if(_&&typeof _.length=="number"){if(C(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(S(_)){E=typeof _.item=="function";break e}}E=!1}Xe(E?ks(_):_,d)}}}function Ed(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function JI(o){c.setTimeout(function(){throw o},0)}var wy;function Nj(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!St("Presto")&&(o=function(){var g=Ed(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var E="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=O(function(M){(k=="*"||M.origin==k)&&M.data==E&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,k)}}}),typeof o<"u"&&!St("Trident")&&!St("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Hb;f.Hb=null,g()}},function(g){d.next={Hb:g},d=d.next,u.port2.postMessage(0)}}return function(g){c.setTimeout(g,0)}}function bd(o,u){Td||Aj(),Ey||(Td(),Ey=!0),ZI.add(o,u)}var Td;function Aj(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Td=function(){o.then(ek)}}else Td=function(){var u=ek;!S(c.setImmediate)||c.Window&&c.Window.prototype&&!St("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(wy||(wy=Nj()),wy(u)):c.setImmediate(u)}}var Ey=!1,ZI=new Ss;function ek(){for(var o;o=oc();){try{o.a.call(o.b)}catch(u){JI(u)}ut(fi,o)}Ey=!1}function _e(o,u){if(this.a=Ns,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(d){As(f,uc,d)},function(d){if(!(d instanceof nu))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}As(f,$i,d)})}catch(d){As(this,$i,d)}}var Ns=0,uc=2,$i=3;function tk(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}tk.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var nk=new Pe(function(){return new tk},function(o){o.reset()});function by(o,u,f){var d=nk.get();return d.g=o,d.b=u,d.f=f,d}function re(o){if(o instanceof _e)return o;var u=new _e(m);return As(u,uc,o),u}function We(o){return new _e(function(u,f){f(o)})}function rk(o,u,f){ak(o,u,f,null)||bd(B(u,o))}function Rj(o){return new _e(function(u,f){var d=o.length,g=[];if(d)for(var _=function(U,le){d--,g[U]=le,d==0&&u(g)},E=function(U){f(U)},k=0,M;k<o.length;k++)M=o[k],rk(M,B(_,k),E);else u(g)})}function ik(o){return new _e(function(u){var f=o.length,d=[];if(f)for(var g=function(k,M,U){f--,d[k]=M?{Qb:!0,value:U}:{Qb:!1,reason:U},f==0&&u(d)},_=0,E;_<o.length;_++)E=o[_],rk(E,B(g,_,!0),B(g,_,!1));else u(d)})}_e.prototype.then=function(o,u,f){return sk(this,S(o)?o:null,S(u)?u:null,f)},_e.prototype.$goog_Thenable=!0,e=_e.prototype,e.oa=function(o,u){return o=by(o,o,u),o.c=!0,Ty(this,o),this},e.o=function(o,u){return sk(this,null,o,u)},e.cancel=function(o){if(this.a==Ns){var u=new nu(o);bd(function(){ok(this,u)},this)}};function ok(o,u){if(o.a==Ns)if(o.c){var f=o.c;if(f.b){for(var d=0,g=null,_=null,E=f.b;E&&(E.c||(d++,E.a==o&&(g=E),!(g&&1<d)));E=E.next)g||(_=E);g&&(f.a==Ns&&d==1?ok(f,u):(_?(d=_,d.next==f.f&&(f.f=d),d.next=d.next.next):lk(f),ck(f,g,$i,u)))}o.c=null}else As(o,$i,u)}function Ty(o,u){o.b||o.a!=uc&&o.a!=$i||uk(o),o.f?o.f.next=u:o.b=u,o.f=u}function sk(o,u,f,d){var g=by(null,null,null);return g.a=new _e(function(_,E){g.g=u?function(k){try{var M=u.call(d,k);_(M)}catch(U){E(U)}}:_,g.b=f?function(k){try{var M=f.call(d,k);M===void 0&&k instanceof nu?E(k):_(M)}catch(U){E(U)}}:E}),g.a.c=o,Ty(o,g),g.a}e.$c=function(o){this.a=Ns,As(this,uc,o)},e.ad=function(o){this.a=Ns,As(this,$i,o)};function As(o,u,f){o.a==Ns&&(o===f&&(u=$i,f=new TypeError("Promise cannot resolve to itself")),o.a=1,ak(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,uk(o),u!=$i||f instanceof nu||Pj(o,f)))}function ak(o,u,f,d){if(o instanceof _e)return Ty(o,by(u||m,f||null,d)),!0;if(Bi(o))return o.then(u,f,d),!0;if(C(o))try{var g=o.then;if(S(g))return xj(o,g,u,f,d),!0}catch(_){return f.call(d,_),!0}return!1}function xj(o,u,f,d,g){function _(M){k||(k=!0,d.call(g,M))}function E(M){k||(k=!0,f.call(g,M))}var k=!1;try{u.call(o,E,_)}catch(M){_(M)}}function uk(o){o.h||(o.h=!0,bd(o.gc,o))}function lk(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=lk(this);)ck(this,o,this.a,this.i);this.h=!1};function ck(o,u,f,d){if(f==$i&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,fk(u,f,d);else try{u.c?u.g.call(u.f):fk(u,f,d)}catch(g){hk.call(null,g)}ut(nk,u)}function fk(o,u,f){u==uc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function Pj(o,u){o.g=!0,bd(function(){o.g&&hk.call(null,u)})}var hk=JI;function nu(o){W.call(this,o)}F(nu,W),nu.prototype.name="cancel";function Sd(){this.ya=this.ya,this.pa=this.pa}var Oj=0;Sd.prototype.ya=!1;function dk(o){!o.ya&&(o.ya=!0,o.Da(),Oj!=0)&&b(o)}Sd.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Dj=Object.freeze||function(o){return o},pk=!jr||9<=Number(Eo),Lj=jr&&!GI("9"),Mj=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function Un(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Un.prototype.preventDefault=function(){this.defaultPrevented=!0};function Rs(o,u){if(Un.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(WI){e:{try{vy(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Fj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}F(Rs,Un);var Fj=Dj({2:"touch",3:"pen",4:"mouse"});Rs.prototype.preventDefault=function(){Rs.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Lj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Rs.prototype.g=function(){return this.a};var lc="closure_listenable_"+(1e6*Math.random()|0),Uj=0;function jj(o,u,f,d,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Wa=g,this.key=++Uj,this.wa=this.Qa=!1}function Id(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function kd(o){this.src=o,this.a={},this.b=0}kd.prototype.add=function(o,u,f,d,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var E=Iy(o,u,d,g);return-1<E?(u=o[E],f||(u.Qa=!1)):(u=new jj(u,this.src,_,!!d,g),u.Qa=f,o.push(u)),u};function Sy(o,u){var f=u.type;f in o.a&&gd(o.a[f],u)&&(Id(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Iy(o,u,f,d){for(var g=0;g<o.length;++g){var _=o[g];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==d)return g}return-1}var ky="closure_lm_"+(1e6*Math.random()|0),Cy={};function vr(o,u,f,d,g){if(d&&d.once)Ny(o,u,f,d,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)vr(o,u[_],f,d,g);else f=Ry(f),o&&o[lc]?wk(o,u,f,C(d)?!!d.capture:!!d,g):vk(o,u,f,!1,d,g)}function vk(o,u,f,d,g,_){if(!u)throw Error("Invalid event type");var E=C(g)?!!g.capture:!!g,k=Cd(o);if(k||(o[ky]=k=new kd(o)),f=k.add(u,f,d,E,_),!f.proxy)if(d=Bj(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)Mj||(g=E),g===void 0&&(g=!1),o.addEventListener(u.toString(),d,g);else if(o.attachEvent)o.attachEvent(mk(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function Bj(){var o=Vj,u=pk?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Ny(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Ny(o,u[_],f,d,g);else f=Ry(f),o&&o[lc]?xy(o,u,f,C(d)?!!d.capture:!!d,g):vk(o,u,f,!0,d,g)}function Xn(o,u,f,d,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Xn(o,u[_],f,d,g);else d=C(d)?!!d.capture:!!d,f=Ry(f),o&&o[lc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Iy(_,f,d,g),-1<f&&(Id(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Cd(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Iy(u,f,d,g)),(f=-1<o?u[o]:null)&&gk(f))}function gk(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[lc])Sy(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(mk(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=Cd(u))?(Sy(f,o),f.b==0&&(f.src=null,u[ky]=null)):Id(o)}}}function mk(o){return o in Cy?Cy[o]:Cy[o]="on"+o}function yk(o,u,f,d){var g=!0;if((o=Cd(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=_k(_,d),g=g&&_!==!1)}return g}function _k(o,u){var f=o.listener,d=o.Wa||o.src;return o.Qa&&gk(o),f.call(d,u)}function Vj(o,u){if(o.wa)return!0;if(!pk){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new Rs(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var g=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{g=!0}(g||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],g=u.b;g;g=g.parentNode)d.push(g);for(o=o.type,g=d.length-1;0<=g;g--){u.b=d[g];var _=yk(d[g],o,!0,u);f=f&&_}for(g=0;g<d.length;g++)u.b=d[g],_=yk(d[g],o,!1,u),f=f&&_}return f}return _k(o,new Rs(u,this))}function Cd(o){return o=o[ky],o instanceof kd?o:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ry(o){return S(o)?o:(o[Ay]||(o[Ay]=function(u){return o.handleEvent(u)}),o[Ay])}function _n(){Sd.call(this),this.v=new kd(this),this.bc=this,this.hb=null}F(_n,Sd),_n.prototype[lc]=!0,_n.prototype.addEventListener=function(o,u,f,d){vr(this,o,u,f,d)},_n.prototype.removeEventListener=function(o,u,f,d){Xn(this,o,u,f,d)},_n.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var d=o.type||o;if(typeof o=="string")o=new Un(o,f);else if(o instanceof Un)o.target=o.target||f;else{var g=o;o=new Un(d,f),Mn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var E=o.b=u[_];g=Nd(E,d,!0,o)&&g}if(E=o.b=f,g=Nd(E,d,!0,o)&&g,g=Nd(E,d,!1,o)&&g,u)for(_=0;_<u.length;_++)E=o.b=u[_],g=Nd(E,d,!1,o)&&g;return g},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)Id(f[d]);delete o.a[u],o.b--}}this.hb=null};function wk(o,u,f,d,g){o.v.add(String(u),f,!1,d,g)}function xy(o,u,f,d,g){o.v.add(String(u),f,!0,d,g)}function Nd(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var E=u[_];if(E&&!E.wa&&E.capture==f){var k=E.listener,M=E.Wa||E.src;E.Qa&&Sy(o.v,E),g=k.call(M,d)!==!1&&g}}return g&&!d.defaultPrevented}function Py(o,u,f){if(S(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function ru(o){var u=null;return new _e(function(f,d){u=Py(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function Ek(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function bk(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function $j(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Xe(o,u,void 0);else for(var f=bk(o),d=Ek(o),g=d.length,_=0;_<g;_++)u.call(void 0,d[_],f&&f[_],o)}function iu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof iu)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=iu.prototype,e.X=function(){Oy(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Oy(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Oy(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];xs(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)d=o.a[u],xs(g,d)||(o.a[f++]=d,g[d]=1),u++;o.a.length=f}}e.get=function(o,u){return xs(this.b,o)?this.b[o]:u},e.set=function(o,u){xs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var g=f[d],_=this.get(g);o.call(u,_,g,this)}};function xs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var Tk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qj(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),g=null;if(0<=d){var _=o[f].substring(0,d);g=o[f].substring(d+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function bo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof bo?(this.i=u!==void 0?u:o.i,cc(this,o.c),this.l=o.l,this.a=o.a,fc(this,o.g),this.f=o.f,Dy(this,Ck(o.b)),this.h=o.h):o&&(f=String(o).match(Tk))?(this.i=!!u,cc(this,f[1]||"",!0),this.l=hc(f[2]||""),this.a=hc(f[3]||"",!0),fc(this,f[4]),this.f=hc(f[5]||"",!0),Dy(this,f[6]||"",!0),this.h=hc(f[7]||"")):(this.i=!!u,this.b=new Ps(null,this.i))}bo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(dc(u,Sk,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(dc(u,Sk,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(dc(f,f.charAt(0)=="/"?Wj:Hj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",dc(f,Gj)),o.join("")},bo.prototype.resolve=function(o){var u=new bo(this),f=!!o.c;f?cc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)fc(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var g=u.f.lastIndexOf("/");g!=-1&&(d=u.f.substr(0,g+1)+d)}if(g=d,g==".."||g==".")d="";else if(Be(g,"./")||Be(g,"/.")){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],E=0;E<g.length;){var k=g[E++];k=="."?d&&E==g.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),d&&E==g.length&&_.push("")):(_.push(k),d=!0)}d=_.join("/")}else d=g}return f?u.f=d:f=o.b.toString()!=="",f?Dy(u,Ck(o.b)):f=!!o.h,f&&(u.h=o.h),u};function cc(o,u,f){o.c=f?hc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function fc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Dy(o,u,f){u instanceof Ps?(o.b=u,Qj(o.b,o.i)):(f||(u=dc(u,Kj)),o.b=new Ps(u,o.i))}function lt(o,u,f){o.b.set(u,f)}function gr(o,u){return o.b.get(u)}function jn(o){return o instanceof bo?new bo(o):new bo(o,void 0)}function Ad(o,u,f,d){var g=new bo(null,void 0);return o&&cc(g,o),u&&(g.a=u),f&&fc(g,f),d&&(g.f=d),g}function hc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function dc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,zj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function zj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Sk=/[#\/\?@]/g,Hj=/[#\?:]/g,Wj=/[#\?]/g,Kj=/[#\?@]/g,Gj=/#/g;function Ps(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function To(o){o.a||(o.a=new iu,o.b=0,o.c&&qj(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function Ik(o){var u=bk(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ps(null,void 0);o=Ek(o);for(var d=0;d<u.length;d++){var g=u[d],_=o[d];Array.isArray(_)?kk(f,g,_):f.add(g,_)}return f}e=Ps.prototype,e.add=function(o,u){To(this),this.c=null,o=ou(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function di(o,u){To(o),u=ou(o,u),xs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,xs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Oy(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ly(o,u){return To(o),u=ou(o,u),xs(o.a.b,u)}e.forEach=function(o,u){To(this),this.a.forEach(function(f,d){Xe(f,function(g){o.call(u,g,d,this)},this)},this)},e.Y=function(){To(this);for(var o=this.a.X(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var g=o[d],_=0;_<g.length;_++)f.push(u[d]);return f},e.X=function(o){To(this);var u=[];if(typeof o=="string")Ly(this,o)&&(u=cy(u,this.a.get(ou(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=cy(u,o[f])}return u},e.set=function(o,u){return To(this),this.c=null,o=ou(this,o),Ly(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function kk(o,u,f){di(o,u),0<f.length&&(o.c=null,o.a.set(ou(o,u),ks(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],g=encodeURIComponent(String(d));d=this.X(d);for(var _=0;_<d.length;_++){var E=g;d[_]!==""&&(E+="="+encodeURIComponent(String(d[_]))),o.push(E)}}return this.c=o.join("&")};function Ck(o){var u=new Ps;return u.c=o.c,o.a&&(u.a=new iu(o.a),u.b=o.b),u}function ou(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function Qj(o,u){u&&!o.f&&(To(o),o.c=null,o.a.forEach(function(f,d){var g=d.toLowerCase();d!=g&&(di(this,d),kk(this,g,f))},o)),o.f=u}function Nk(o){var u=[];return My(new Yj,o,u),u.join("")}function Yj(){}function My(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),My(o,d[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(_=u[d],typeof _!="function"&&(f.push(g),Rk(d,f),f.push(":"),My(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":Rk(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Ak={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Xj=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Rk(o,u){u.push('"',o.replace(Xj,function(f){var d=Ak[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Ak[f]=d),d}),'"')}function Fy(){var o=zt();return jr&&!!Eo&&Eo==11||/Edge\/\d+/.test(o)}function pc(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function xk(o,u){u=u||c.window;var f="about:blank";o&&(f=_d(jI(o)||VI)),u.location.href=f}function Pk(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<Pk(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function Jj(){var o=zt();return o=su(o)!=Mk?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!jr||!Eo||9<Eo}function Ok(o){return o=(o||zt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Os(o){o=o||c.window;try{o.close()}catch{}}function Dk(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=zt().toLowerCase(),d&&(u.target=d,Be(f,"crios/")&&(u.target="_blank")),su(zt())==By&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof Fn?f:jI(typeof f.href<"u"?f.href:String(f))||VI,f=o.target||f.target,g=[];for(E in o)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+o[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(o[E]?1:0))}var E=g.join(",");if((St("iPhone")&&!St("iPod")&&!St("iPad")||St("iPad")||St("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(E=Ed(document,"A"),OI(E,"HTMLAnchorElement"),u=u instanceof Fn?u:BI(u),E.href=_d(u),E.setAttribute("target",f),o.noreferrer&&E.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),E.dispatchEvent(o),E={}):o.noreferrer?(E=qI("",d,f,E),o=_d(u),E&&(bj&&Be(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),E.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+py(o)+'">',o=(d=LI())?d.createHTML(o):o,o=new tu(o,null,$I),d=E.document)&&(d.write(yj(o)),d.close())):(E=qI(u,d,f,E))&&o.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function Zj(o){return new _e(function(u){function f(){ru(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var eB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tB=/^[^@]+@[^@]+$/;function Rd(){var o=null;return new _e(function(u){c.document.readyState=="complete"?u():(o=function(){u()},Ny(window,"load",o))}).o(function(u){throw Xn(window,"load",o),u})}function nB(){return Uy(void 0)?Rd().then(function(){return new _e(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):We(Error("Cordova must run in an Android or iOS file scheme."))}function Uy(o){return o=o||zt(),!(uu()!=="file:"&&uu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function jy(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Br(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function pi(){return ee.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ee.INTERNAL.hasOwnProperty("node")?"Node":Br()?"Worker":"Browser"}function Lk(){var o=pi();return o==="ReactNative"||o==="Node"}function rB(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var By="Firefox",Mk="Chrome";function su(o){var u=o.toLowerCase();if(Be(u,"opera/")||Be(u,"opr/")||Be(u,"opios/"))return"Opera";if(Be(u,"iemobile"))return"IEMobile";if(Be(u,"msie")||Be(u,"trident/"))return"IE";if(Be(u,"edge/"))return"Edge";if(Be(u,"firefox/"))return By;if(Be(u,"silk/"))return"Silk";if(Be(u,"blackberry"))return"Blackberry";if(Be(u,"webos"))return"Webos";if(!Be(u,"safari/")||Be(u,"chrome/")||Be(u,"crios/")||Be(u,"android"))if(!Be(u,"chrome/")&&!Be(u,"crios/")||Be(u,"edge/")){if(Be(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Mk;else return"Safari";return"Other"}var Fk={md:"FirebaseCore-web",od:"FirebaseUI-web"};function au(o,u){u=u||[];var f=[],d={},g;for(g in Fk)d[Fk[g]]=!0;for(g=0;g<u.length;g++)typeof d[u[g]]<"u"&&(delete d[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=pi(),f==="Browser"?(d=zt(),f=su(d)):f==="Worker"&&(d=zt(),f=su(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function zt(){return c.navigator&&c.navigator.userAgent||""}function Ke(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Vy(){try{var o=c.localStorage,u=Ls();if(o)return o.setItem(u,"1"),o.removeItem(u),Fy()?!!c.indexedDB:!0}catch{return Br()&&!!c.indexedDB}return!1}function Ds(){return(xd()||uu()==="chrome-extension:"||Uy())&&!Lk()&&Vy()&&!Br()}function xd(){return uu()==="http:"||uu()==="https:"}function uu(){return c.location&&c.location.protocol||null}function vc(o){return o=o||zt(),!(Ok(o)||su(o)==By)}function gc(o){return typeof o>"u"?null:Nk(o)}function Uk(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function lu(o){if(o!==null)return JSON.parse(o)}function Ls(o){return o||Math.floor(1e9*Math.random()).toString()}function jk(o){return o=o||zt(),!(su(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function Bk(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function So(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=zt(),u=pi(),this.b=Ok(o)||u==="ReactNative"}So.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(xd()||uu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function $y(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function iB(){var o=c.document,u=null;return $y()||!o?re():new _e(function(f){u=function(){$y()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function mc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function Vk(){return!(!Ke("fireauth.oauthhelper",c)&&!Ke("fireauth.iframe",c))}function oB(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function sB(){var o=c.navigator;return o&&o.serviceWorker?re().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):re(null)}var $k={};function qy(o){$k[o]||($k[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var zy;try{var Hy={};Object.defineProperty(Hy,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hy,"abcd",{configurable:!0,enumerable:!0,value:2}),zy=Hy.abcd==2}catch{zy=!1}function J(o,u,f){zy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function wn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&J(o,f,u[f])}function vi(o){var u={};return wn(u,o),u}function aB(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function uB(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function Wy(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)J(u,f,Wy(o[f]))}return u}function Ky(o){var u=o&&(o[Xy]?"phone":null);if(u&&o&&o[Yy]){J(this,"uid",o[Yy]),J(this,"displayName",o[qk]||null);var f=null;o[Qy]&&(f=new Date(o[Qy]).toUTCString()),J(this,"enrollmentTime",f),J(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}Ky.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gy(o){try{var u=new yc(o)}catch{u=null}return u}var qk="displayName",Qy="enrolledAt",Yy="mfaEnrollmentId",Xy="phoneInfo";function yc(o){Ky.call(this,o),J(this,"phoneNumber",o[Xy])}F(yc,Ky),yc.prototype.w=function(){var o=yc.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function lB(o){var u={},f=o[cB],d=o[hB],g=o[dB];if(o=Gy(o[fB]),!g||g!=Pd&&g!=_c&&!f||g==_c&&!d||g==Jy&&!o)throw Error("Invalid checkActionCode response!");g==_c?(u[Hk]=f||null,u[Wk]=f||null,u[zk]=d):(u[Hk]=d||null,u[Wk]=d||null,u[zk]=f||null),u[pB]=o||null,J(this,gB,g),J(this,vB,Wy(u))}var Jy="REVERT_SECOND_FACTOR_ADDITION",Pd="EMAIL_SIGNIN",_c="VERIFY_AND_CHANGE_EMAIL",cB="email",fB="mfaInfo",hB="newEmail",dB="requestType",zk="email",Hk="fromEmail",pB="multiFactorInfo",Wk="previousEmail",vB="data",gB="operation";function Zy(o){o=jn(o);var u=gr(o,Kk)||null,f=gr(o,Gk)||null,d=gr(o,Qk)||null;if(d=d&&wB[d]||null,!u||!f||!d)throw new R("argument-error",Kk+", "+Gk+"and "+Qk+" are required in a valid action code URL.");wn(this,{apiKey:u,operation:d,code:f,continueUrl:gr(o,mB)||null,languageCode:gr(o,yB)||null,tenantId:gr(o,_B)||null})}var Kk="apiKey",Gk="oobCode",mB="continueUrl",yB="languageCode",Qk="mode",_B="tenantId",wB={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Jy,signIn:Pd,verifyAndChangeEmail:_c,verifyEmail:"VERIFY_EMAIL"};function Yk(o){try{return new Zy(o)}catch{return null}}function Od(o){var u=o[EB];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[Xk];if(f&&typeof f=="object"){u=f[nC];var d=f[eC];if(f=f[tC],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new R("argument-error",eC+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",tC+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",nC+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",Xk+" property must be a non null object when specified.");if(this.f=null,(u=o[Zk])&&typeof u=="object"){if(u=u[rC],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",rC+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",Zk+" property must be a non null object when specified.");if(u=o[e0],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",e0+" property must be a boolean when specified.");if(this.c=!!u,o=o[Jk],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",Jk+" property must be a non empty string when specified.");this.i=o||null}var Xk="android",Jk="dynamicLinkDomain",e0="handleCodeInApp",Zk="iOS",EB="url",eC="installApp",tC="minimumVersion",nC="packageName",rC="bundleId";function Dd(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function bB(o){return vd(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var wc=null;function TB(o){var u=[];return SB(o,function(f){u.push(f)}),u}function SB(o,u){function f(M){for(;d<o.length;){var U=o.charAt(d++),le=wc[U];if(le!=null)return le;if(!/^[\s\xa0]*$/.test(U))throw Error("Unknown base64 encoding at char: "+U)}return M}IB();for(var d=0;;){var g=f(-1),_=f(0),E=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|_>>4),E!=64&&(u(_<<4&240|E>>2),k!=64&&u(E<<6&192|k))}}function IB(){if(!wc){wc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),g=0;g<d.length;g++){var _=d[g];wc[_]===void 0&&(wc[_]=g)}}}function Ld(o){var u=iC(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Ld.prototype.T=function(){return this.f},Ld.prototype.l=function(){return this.c},Ld.prototype.toString=function(){return this.h};function Md(o){try{return new Ld(o)}catch{return null}}function iC(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=TB(o);for(o=[],f=u=0;u<d.length;){var g=d[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=d[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=d[u++];var E=d[u++],k=d[u++],M=((g&7)<<18|(_&63)<<12|(E&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(M>>10)),o[f++]=String.fromCharCode(56320+(M&1023))}else _=d[u++],E=d[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|E&63)}return JSON.parse(o.join(""))}catch{}return null}var oC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fd=["client_id","response_type","scope","redirect_uri","state"],t0={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Fd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Fd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Fd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:oC},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function n0(o){for(var u in t0)if(t0[u].fa==o)return t0[u];return null}function sC(o){var u={};u["facebook.com"]=uC,u["google.com"]=cC,u["github.com"]=lC,u["twitter.com"]=fC;var f=o&&o[aC];try{if(f)return u[f]?new u[f](o):new gi(o);if(typeof o[r0]<"u")return new i0(o)}catch{}return null}var r0="idToken",aC="providerId";function i0(o){var u=o[aC];if(!u&&o[r0]){var f=Md(o[r0]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),J(this,"providerId",u),J(this,"isNewUser",f)}function gi(o){i0.call(this,o),o=lu(o.rawUserInfo||"{}"),J(this,"profile",Wy(o||{}))}F(gi,i0);function uC(o){if(gi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(uC,gi);function lC(o){if(gi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");J(this,"username",this.profile&&this.profile.login||null)}F(lC,gi);function cC(o){if(gi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}F(cC,gi);function fC(o){if(gi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");J(this,"username",o.screenName||null)}F(fC,gi);function hC(o){var u=jn(o),f=gr(u,"link"),d=gr(jn(f),"link");return u=gr(u,"deep_link_id"),gr(jn(u),"link")||u||d||f||o}function Ud(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Ec:jd}var Ec="enroll",jd="signin";Ud.prototype.Ha=function(){return this.a?re(this.a):re(this.b)},Ud.prototype.w=function(){return this.type==Ec?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function cu(){}cu.prototype.ka=function(){},cu.prototype.b=function(){},cu.prototype.c=function(){},cu.prototype.w=function(){};function fu(o,u){return o.then(function(f){if(f[qr]){var d=Md(f[qr]);if(!d||u!=d.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Ln+"user-not-found"?new R("user-mismatch"):f})}function Ms(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",o)}Ms.prototype.ka=function(o){return N0(o,o0(this))},Ms.prototype.b=function(o,u){var f=o0(this);return f.idToken=u,A0(o,f)},Ms.prototype.c=function(o,u){return fu(R0(o,o0(this)),u)};function o0(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ms.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function kB(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ms(o.providerId,o.pendingToken)}catch{}return null}function qi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&J(this,"idToken",u.idToken),u.accessToken&&J(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&J(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)J(this,"accessToken",u.oauthToken),J(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");J(this,"providerId",o),J(this,"signInMethod",f)}qi.prototype.ka=function(o){return N0(o,s0(this))},qi.prototype.b=function(o,u){var f=s0(this);return f.idToken=u,A0(o,f)},qi.prototype.c=function(o,u){var f=s0(this);return fu(R0(o,f),u)};function s0(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:Ik(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}qi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function CB(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new qi(o.providerId,u,o.signInMethod)}catch{}}return null}function Fs(o,u){this.Qc=u||[],wn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(n0(o)||{}).Ja||null,this.pb=null}Fs.prototype.Ka=function(o){return this.Jb=wo(o),this};function dC(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');Fs.call(this,o,[])}F(dC,Fs);function Jn(o){Fs.call(this,o,Fd),this.a=[]}F(Jn,Fs),Jn.prototype.Ca=function(o){return Vi(this.a,o)||this.a.push(o),this},Jn.prototype.Rb=function(){return ks(this.a)},Jn.prototype.credential=function(o,u){var f;if(C(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new qi(this.providerId,f,this.providerId)};function Us(){Jn.call(this,"facebook.com")}F(Us,Jn),J(Us,"PROVIDER_ID","facebook.com"),J(Us,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function pC(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new Us().credential({accessToken:u})}function js(){Jn.call(this,"github.com")}F(js,Jn),J(js,"PROVIDER_ID","github.com"),J(js,"GITHUB_SIGN_IN_METHOD","github.com");function vC(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return C(o)&&(u=o.accessToken),new js().credential({accessToken:u})}function Bs(){Jn.call(this,"google.com"),this.Ca("profile")}F(Bs,Jn),J(Bs,"PROVIDER_ID","google.com"),J(Bs,"GOOGLE_SIGN_IN_METHOD","google.com");function gC(o,u){var f=o;return C(o)&&(f=o.idToken,u=o.accessToken),new Bs().credential({idToken:f,accessToken:u})}function hu(){Fs.call(this,"twitter.com",oC)}F(hu,Fs),J(hu,"PROVIDER_ID","twitter.com"),J(hu,"TWITTER_SIGN_IN_METHOD","twitter.com");function mC(o,u){var f=o;if(C(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new qi("twitter.com",f,"twitter.com")}function Io(o,u,f){this.a=o,this.f=u,J(this,"providerId","password"),J(this,"signInMethod",f===mr.EMAIL_LINK_SIGN_IN_METHOD?mr.EMAIL_LINK_SIGN_IN_METHOD:mr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Io.prototype.ka=function(o){return this.signInMethod==mr.EMAIL_LINK_SIGN_IN_METHOD?we(o,fV,{email:this.a,oobCode:this.f}):we(o,HC,{email:this.a,password:this.f})},Io.prototype.b=function(o,u){return this.signInMethod==mr.EMAIL_LINK_SIGN_IN_METHOD?we(o,hV,{idToken:u,email:this.a,oobCode:this.f}):we(o,zC,{idToken:u,email:this.a,password:this.f})},Io.prototype.c=function(o,u){return fu(this.ka(o),u)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function NB(o){return o&&o.email&&o.password?new Io(o.email,o.password,o.signInMethod):null}function mr(){wn(this,{providerId:"password",isOAuthProvider:!1})}function yC(o,u){if(u=a0(u),!u)throw new R("argument-error","Invalid email link!");return new Io(o,u.code,mr.EMAIL_LINK_SIGN_IN_METHOD)}function a0(o){return o=hC(o),(o=Yk(o))&&o.operation===Pd?o:null}wn(mr,{PROVIDER_ID:"password"}),wn(mr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),wn(mr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ko(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,J(this,"providerId","phone"),this.fa="phone",J(this,"signInMethod","phone")}ko.prototype.ka=function(o){return o.gb(bc(this))},ko.prototype.b=function(o,u){var f=bc(this);return f.idToken=u,we(o,PV,f)},ko.prototype.c=function(o,u){var f=bc(this);return f.operation="REAUTH",o=we(o,OV,f),fu(o,u)},ko.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function AB(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Xe(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new ko(u)}return null}function bc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function zi(o){try{this.a=o||ee.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}wn(this,{providerId:"phone",isOAuthProvider:!1})}zi.prototype.gb=function(o,u){var f=this.a.a;return re(u.verify()).then(function(d){if(typeof d!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=C(o)?o.session:null,_=C(o)?o.phoneNumber:o,E;return g&&g.type==Ec?E=g.Ha().then(function(k){return nV(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:d}})}):g&&g.type==jd?E=g.Ha().then(function(k){return rV(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):E=tV(f,{phoneNumber:_,recaptchaToken:d}),E.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function _C(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new ko({fb:o,eb:u})}wn(zi,{PROVIDER_ID:"phone"}),wn(zi,{PHONE_SIGN_IN_METHOD:"phone"});function u0(o){if(o.temporaryProof&&o.phoneNumber)return new ko({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,E=o&&o.pendingToken;try{switch(u){case"google.com":return gC(_,f);case"facebook.com":return pC(f);case"github.com":return vC(f);case"twitter.com":return mC(f,d);default:return f||d||_||E?E?u.indexOf("saml.")==0?new Ms(u,E):new qi(u,{pendingToken:E,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Jn(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function l0(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function Vr(o,u,f,d,g,_,E){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=_||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Vr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Vr.prototype.T=function(){return this.h},Vr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function wC(o){return o=o||{},o.type?new Vr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&pt(o.error),o.postBody,o.tenantId):null}function RB(){this.b=null,this.a=[]}var c0=null;function xB(o){var u=c0;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=Ke("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function f0(o){var u="unauthorized-domain",f=void 0,d=jn(o);o=d.a,d=d.c,d=="chrome-extension"?f=zI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=zI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}F(f0,R);function Tc(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&J(this,"email",o.Kb),o.ea&&J(this,"phoneNumber",o.ea),o.credential&&J(this,"credential",o.credential),o.$b&&J(this,"tenantId",o.$b)}F(Tc,R),Tc.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Mn(o,u),o},Tc.prototype.toJSON=function(){return this.w()};function Bd(o){if(o.code){var u=o.code||"";u.indexOf(Ln)==0&&(u=u.substring(Ln.length));var f={credential:u0(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new Tc(u,f,o.message)}return null}function Sc(){}Sc.prototype.c=null;function EC(o){return o.c||(o.c=o.b())}var h0;function Vd(){}F(Vd,Sc),Vd.prototype.a=function(){var o=bC(this);return o?new ActiveXObject(o):new XMLHttpRequest},Vd.prototype.b=function(){var o={};return bC(this)&&(o[0]=!0,o[1]=!0),o};function bC(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}h0=new Vd;function $d(){}F($d,Sc),$d.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new TC;throw Error("Unsupported browser")},$d.prototype.b=function(){return{}};function TC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=TC.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,d0(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",d0(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,d0(this,1)};function d0(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function p0(o,u,f){this.reset(o,u,f,void 0,void 0)}p0.prototype.a=null,p0.prototype.reset=function(o,u,f,d,g){delete this.a};function v0(o){this.f=o,this.b=this.c=this.a=null}function Ic(o,u){this.name=o,this.value=u}Ic.prototype.toString=function(){return this.name};var SC=new Ic("SEVERE",1e3),g0=new Ic("WARNING",900),PB=new Ic("CONFIG",700),OB=new Ic("FINE",500);function IC(o){return o.c?o.c:o.a?IC(o.a):(z("Root logger has no level set."),null)}v0.prototype.log=function(o,u,f){if(o.value>=IC(this).value)for(S(u)&&(u=u()),o=new p0(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var m0={},qd=null;function y0(o){qd||(qd=new v0(""),m0[""]=qd,qd.c=PB);var u;if(!(u=m0[o])){u=new v0(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=y0(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,m0[o]=u}return u}function yr(o,u){o&&o.log(OB,u,void 0)}function zd(o){this.f=o}F(zd,Sc),zd.prototype.a=function(){return new Hd(this.f)},zd.prototype.b=function(o){return function(){return o}}({});function Hd(o){_n.call(this),this.u=o,this.h=void 0,this.readyState=_0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=y0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(Hd,_n);var _0=0;e=Hd.prototype,e.open=function(o,u){if(this.readyState!=_0)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Cc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,kc(this)),this.readyState=_0},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Cc(this)),this.a&&(this.readyState=3,Cc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,kC(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function kC(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?kc(this):Cc(this),this.readyState==3&&kC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,kc(this))},e.sc=function(o){this.a&&(this.response=o,kc(this))},e.Va=function(o){var u=this.i;u&&u.log(g0,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&kc(this)};function kc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Cc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(g0,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(g0,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Cc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Hd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Nc(o){_n.call(this),this.headers=new iu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=CC,this.u=this.S=!1}F(Nc,_n);var CC="";Nc.prototype.b=y0("goog.net.XhrIo");var DB=/^https?$/i,LB=["POST","PUT"];function MB(o,u,f,d,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():h0.a(),o.C=o.D?EC(o.D):EC(h0),o.a.onreadystatechange=O(o.Wb,o);try{yr(o.b,Hi(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(E){yr(o.b,Hi(o,"Error opening Xhr: "+E.message)),NC(o,E);return}u=d||"";var _=new iu(o.headers);g&&$j(g,function(E,k){_.set(k,E)}),g=oj(_.Y()),d=c.FormData&&u instanceof c.FormData,!Vi(LB,f)||g||d||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,k){this.a.setRequestHeader(k,E)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{xC(o),0<o.g&&(o.u=FB(o.a),yr(o.b,Hi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=Py(o.Ma,o.g,o)),yr(o.b,Hi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(E){yr(o.b,Hi(o,"Send error: "+E.message)),NC(o,E)}}function FB(o){return jr&&GI(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function UB(o){return o.toLowerCase()=="content-type"}e=Nc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",yr(this.b,Hi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function NC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,AC(o),Wd(o)}function AC(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(yr(this.b,Hi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Wd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Wd(this,!0)),Nc.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?RC(this):this.Jc())},e.Jc=function(){RC(this)};function RC(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Ac(o)==4&&Kd(o)==2)yr(o.b,Hi(o,"Local request error detected and ignored"));else if(o.i&&Ac(o)==4)Py(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Ac(o)==4){yr(o.b,Hi(o,"Request complete")),o.c=!1;try{var u=Kd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var g;if(g=u===0){var _=String(o.l).match(Tk)[1]||null;if(!_&&c.self&&c.self.location){var E=c.self.location.protocol;_=E.substr(0,E.length-1)}g=!DB.test(_?_.toLowerCase():"")}d=g}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Ac(o)?o.a.statusText:""}catch(M){yr(o.b,"Can not get status: "+M.message),k=""}o.h=k+" ["+Kd(o)+"]",AC(o)}}finally{Wd(o)}}}}function Wd(o,u){if(o.a){xC(o);var f=o.a,d=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(g){(o=o.b)&&o.log(SC,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function xC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Ac(o){return o.a?o.a.readyState:0}function Kd(o){try{return 2<Ac(o)?o.a.status:-1}catch{return-1}}function jB(o){try{return o.a?o.a.responseText:""}catch(u){return yr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case CC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(SC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return yr(this.b,"Can not get response: "+u.message),null}};function Hi(o,u){return u+" ["+o.P+" "+o.l+" "+Kd(o)+"]"}function Vs(o){var u=$B;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Vs.prototype.cancel=function(o){if(this.a)this.c instanceof Vs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new xc,Gd(this),Rc(this,!1,o))}},Vs.prototype.m=function(o,u){this.i=!1,Rc(this,o,u)};function Rc(o,u,f){o.a=!0,o.c=f,o.f=!u,OC(o)}function Gd(o){if(o.a){if(!o.v)throw new Qd;o.v=!1}}function BB(o,u){w0(o,null,u,void 0)}function w0(o,u,f,d){o.g.push([u,f,d]),o.a&&OC(o)}Vs.prototype.then=function(o,u,f){var d,g,_=new _e(function(E,k){d=E,g=k});return w0(this,d,function(E){E instanceof xc?_.cancel():g(E)}),_.then(o,u,f)},Vs.prototype.$goog_Thenable=!0;function PC(o){return ij(o.g,function(u){return S(u[1])})}function OC(o){if(o.h&&o.a&&PC(o)){var u=o.h,f=Yd[u];f&&(c.clearTimeout(f.a),delete Yd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],E=g[1];if(g=g[2],_=o.f?E:_)try{var k=_.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(Bi(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(M){u=M,o.f=!0,PC(o)||(f=!0)}}o.c=u,d&&(k=O(o.m,o,!0),d=O(o.m,o,!1),u instanceof Vs?(w0(u,k,d),u.C=!0):u.then(k,d)),f&&(u=new DC(u),Yd[u.a]=u,o.h=u.a)}function Qd(){W.call(this)}F(Qd,W),Qd.prototype.message="Deferred has already fired",Qd.prototype.name="AlreadyCalledError";function xc(){W.call(this)}F(xc,W),xc.prototype.message="Deferred was canceled",xc.prototype.name="CanceledError";function DC(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}DC.prototype.c=function(){throw delete Yd[this.a],this.b};var Yd={};function E0(o){var u={},f=u.document||document,d=MI(o).toString(),g=Ed(document,"SCRIPT"),_={Xb:g,Ma:void 0},E=new Vs(_),k=null,M=u.timeout!=null?u.timeout:5e3;return 0<M&&(k=window.setTimeout(function(){Xd(g,!0);var U=new b0(zB,"Timeout reached for loading script "+d);Gd(E),Rc(E,!1,U)},M),_.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Xd(g,u.xd||!1,k),Gd(E),Rc(E,!0,null))},g.onerror=function(){Xd(g,!0,k);var U=new b0(qB,"Error while loading script "+d);Gd(E),Rc(E,!1,U)},_=u.attributes||{},Mn(_,{type:"text/javascript",charset:"UTF-8"}),YI(g,_),_j(g,o),VB(f).appendChild(g),E}function VB(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function $B(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Xd(o,!0,this.Ma)}}function Xd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var qB=0,zB=1;function b0(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),W.call(this,f),this.code=o}F(b0,W);function Jd(o){this.f=o}F(Jd,Sc),Jd.prototype.a=function(){return new this.f},Jd.prototype.b=function(){return{}};function $r(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||HB,this.g=wo(o.secureTokenHeaders||WB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||KB,this.a=wo(o.firebaseHeaders||GB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=pi()=="Node",f=c.XMLHttpRequest||f&&ee.INTERNAL.node&&ee.INTERNAL.node.XMLHttpRequest,!f&&!Br())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Br()?this.f=new zd(self):Lk()?this.f=new Jd(f):this.f=new $d,this.b=null}var T0,qr="idToken",HB=new So(3e4,6e4),WB={"Content-Type":"application/x-www-form-urlencoded"},KB=new So(3e4,6e4),GB={"Content-Type":"application/json"};function LC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Zd(o,u){u&&(o.l=S0("https://securetoken.googleapis.com/v1/token",u),o.h=S0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=S0("https://identitytoolkit.googleapis.com/v2/",u))}function S0(o,u){return o=jn(o),u=jn(u.url),o.f=o.a+o.f,cc(o,u.c),o.a=u.a,fc(o,u.g),o.toString()}function MC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}$r.prototype.T=function(){return this.b};function FC(o,u,f,d,g,_,E){Jj()||Br()?o=O(o.u,o):(T0||(T0=new _e(function(k,M){YB(k,M)})),o=O(o.s,o)),o(u,f,d,g,_,E)}$r.prototype.u=function(o,u,f,d,g,_){if(Br()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new Nc(this.f);if(_){E.g=Math.max(0,_);var k=setTimeout(function(){E.dispatchEvent("timeout")},_)}wk(E,"complete",function(){k&&clearTimeout(k);var M=null;try{M=JSON.parse(jB(this))||null}catch{M=null}u&&u(M)}),xy(E,"ready",function(){k&&clearTimeout(k),dk(this)}),xy(E,"timeout",function(){k&&clearTimeout(k),dk(this),u&&u(null)}),MB(E,o,f,d,g)};var QB=new hi(md,"https://apis.google.com/js/client.js?onload=%{onload}"),UC="__fcb"+Math.floor(1e6*Math.random()).toString();function YB(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[UC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=dy(QB,{onload:UC});BB(E0(f),function(){u(Error("CORS_UNSUPPORTED"))})}}$r.prototype.s=function(o,u,f,d,g){var _=this;T0.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(E),u&&u(k)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function XB(o,u){return new _e(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?FC(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?d(P0(g)):g.access_token&&g.refresh_token?f(g):d(new R("internal-error")):d(new R("network-request-failed"))},"POST",Ik(u).toString(),o.g,o.m.get()):d(new R("internal-error"))})}function jC(o,u,f,d,g,_,E){var k=jn(u+f);lt(k,"key",o.c),E&&lt(k,"cb",Date.now().toString());var M=d=="GET";if(M)for(var U in g)g.hasOwnProperty(U)&&lt(k,U,g[U]);return new _e(function(le,De){FC(o,k.toString(),function(Ne){Ne?Ne.error?De(P0(Ne,_||{})):le(Ne):De(new R("network-request-failed"))},d,M?void 0:Nk(Uk(g)),o.a,o.v.get())})}function $s(o){if(o=o.email,typeof o!="string"||!tB.test(o))throw new R("invalid-email")}function BC(o){"email"in o&&$s(o)}function JB(o,u){return we(o,uV,{identifier:u,continueUri:xd()?pc():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function ZB(o){return we(o,wV,{}).then(function(u){return u.authorizedDomains||[]})}function Bn(o){if(!o[qr])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,wo(o)):new R("internal-error")}function I0(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}$r.prototype.Ab=function(){return we(this,SV,{})},$r.prototype.Cb=function(o,u){return we(this,qC,{idToken:o,email:u})},$r.prototype.Db=function(o,u){return we(this,zC,{idToken:o,password:u})};var eV={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=$r.prototype,e.Eb=function(o,u){var f={idToken:o},d=[];return xI(eV,function(g,_){var E=u[_];E===null?d.push(g):_ in u&&(f[_]=E)}),d.length&&(f.deleteAttribute=d),we(this,qC,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Mn(o,u),we(this,_V,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Mn(o,u),we(this,gV,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Mn(o,u),we(this,mV,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Mn(o,f),we(this,yV,o)};function tV(o,u){return we(o,TV,u)}e.gb=function(o){return we(this,xV,o)};function nV(o,u){return we(o,IV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function VC(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function rV(o,u){return we(o,kV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function iV(o,u,f){return we(o,cV,{idToken:u,deleteProvider:f})}function k0(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function C0(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ps(o.postBody),Ly(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function $C(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Bd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Bd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Bd(o)):o.errorMessage&&(u=WC(o.errorMessage)),u)throw u;Bn(o)}function N0(o,u){return u.returnIdpCredential=!0,we(o,CV,u)}function A0(o,u){return u.returnIdpCredential=!0,we(o,AV,u)}function R0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,we(o,NV,u)}function x0(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return we(this,bV,{oobCode:o,newPassword:u})},e.Sa=function(o){return we(this,sV,{oobCode:o})},e.kb=function(o){return we(this,oV,{oobCode:o})};var oV={endpoint:"setAccountInfo",A:x0,Z:"email",B:!0},sV={endpoint:"resetPassword",A:x0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},aV={endpoint:"signupNewUser",A:function(o){if($s(o),!o.password)throw new R("weak-password")},G:Bn,V:!0,B:!0},uV={endpoint:"createAuthUri",B:!0},lV={endpoint:"deleteAccount",O:["idToken"]},cV={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},fV={endpoint:"emailLinkSignin",O:["email","oobCode"],A:$s,G:Bn,V:!0,B:!0},hV={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:$s,G:Bn,V:!0},dV={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:VC,G:Bn,B:!0,Na:!0},pV={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:VC,G:Bn,B:!0,Na:!0},vV={endpoint:"getAccountInfo"},gV={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");$s(o)},Z:"email",B:!0},mV={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},yV={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},_V={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");$s(o)},Z:"email",B:!0},wV={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},EV={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},bV={endpoint:"resetPassword",A:x0,Z:"email",B:!0},TV={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qC={endpoint:"setAccountInfo",O:["idToken"],A:BC,V:!0},zC={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(BC(o),!o.password)throw new R("weak-password")},G:Bn,V:!0},SV={endpoint:"signupNewUser",G:Bn,V:!0,B:!0},IV={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},kV={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},CV={endpoint:"verifyAssertion",A:k0,Za:C0,G:$C,V:!0,B:!0},NV={endpoint:"verifyAssertion",A:k0,Za:C0,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw WC(o.errorMessage);Bn(o)},V:!0,B:!0},AV={endpoint:"verifyAssertion",A:function(o){if(k0(o),!o.idToken)throw new R("internal-error")},Za:C0,G:$C,V:!0},RV={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:Bn,V:!0,B:!0},HC={endpoint:"verifyPassword",A:function(o){if($s(o),!o.password)throw new R("wrong-password")},G:Bn,V:!0,B:!0},xV={endpoint:"verifyPhoneNumber",A:I0,G:Bn,B:!0},PV={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");I0(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Bd(o);Bn(o)}},OV={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:I0,G:Bn,B:!0},DV={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[qr]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function we(o,u,f){if(!uB(f,u.O))return We(new R("internal-error"));var d=!!u.Na,g=u.Vb||"POST",_;return re(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?jC(o,o.i,u.endpoint,g,f,u.Ib,u.mb||!1):jC(o,o.h,u.endpoint,g,f,u.Ib,u.mb||!1)}).then(function(E){return _=E,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function WC(o){return P0({error:{errors:[{message:o}],code:400,message:o}})}function P0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new R(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Mn(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in d)if(f.indexOf(g)===0)return new R(d[g],u);return!u&&o&&(u=gc(o)),new R("internal-error",u)}function LV(o){this.b=o,this.a=null,this.sb=MV(this)}function MV(o){return $V().then(function(){return new _e(function(u,f){Ke("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function g(){clearTimeout(_),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},VV.get());d.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function FV(o,u){return o.sb.then(function(){return new _e(function(f){o.a.send(u.type,u,f,Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function UV(o,u){o.sb.then(function(){o.a.register("authEvent",u,Ke("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var jV=new hi(md,"https://apis.google.com/js/api.js?onload=%{onload}"),BV=new So(3e4,6e4),VV=new So(5e3,15e3),ep=null;function $V(){return ep||(ep=new _e(function(o,u){function f(){Bk(),Ke("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){Bk(),u(Error("Network Error"))},timeout:BV.get()})}if(Ke("gapi.iframes.Iframe"))o();else if(Ke("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){Ke("gapi.load")?f():u(Error("Network Error"))},d=dy(jV,{onload:d}),re(E0(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw ep=null,o}))}function KC(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=jn(this.g.url),o=Ad(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Ad("https",this.l,null,"/__/auth/iframe"),this.a=o,lt(this.a,"apiKey",this.h),lt(this.a,"appName",this.i),this.b=null,this.c=[]}KC.prototype.toString=function(){return this.f?lt(this.a,"v",this.f):di(this.a.b,"v"),this.b?lt(this.a,"eid",this.b):di(this.a.b,"eid"),this.c.length?lt(this.a,"fw",this.c.join(",")):di(this.a.b,"fw"),this.a.toString()};function O0(o,u,f,d,g,_){this.u=o,this.s=u,this.c=f,this.m=d,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}O0.prototype.zb=function(o){return this.h=o,this},O0.prototype.toString=function(){if(this.v){var o=jn(this.v.url);o=Ad(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Ad("https",this.u,null,"/__/auth/handler");if(lt(o,"apiKey",this.s),lt(o,"appName",this.c),lt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ee.app(this.c).auth().la()}catch{f=null}u.pb=f,lt(o,"providerId",this.a.providerId),f=this.a,u=Uk(f.Jb);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=wo(u);for(var g=0;g<d.length;g++){var _=d[g];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),Cs(u)||lt(o,"customParameters",gc(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&lt(o,"scopes",f.join(","))),this.l?lt(o,"redirectUrl",this.l):di(o.b,"redirectUrl"),this.g?lt(o,"eventId",this.g):di(o.b,"eventId"),this.i?lt(o,"v",this.i):di(o.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!gr(o,E)&&lt(o,E,this.b[E]);return this.h?lt(o,"tid",this.h):di(o.b,"tid"),this.f?lt(o,"eid",this.f):di(o.b,"eid"),E=D0(this.c),E.length&&lt(o,"fw",E.join(",")),o.toString()};function D0(o){try{return ee.app(o).auth().Ga()}catch{return[]}}function GC(o,u,f,d,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=d||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function QC(o){var u=pc();return ZB(o).then(function(f){e:{var d=jn(u),g=d.c;d=d.a;for(var _=0;_<f.length;_++){var E=f[_],k=d,M=g;if(E.indexOf("chrome-extension://")==0?k=jn(E).a==k&&M=="chrome-extension":M!="http"&&M!="https"?k=!1:eB.test(E)?k=k==E:(E=E.split(".").join("\\."),k=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new f0(pc())})}function YC(o){return o.m||(o.m=Rd().then(function(){if(!o.u){var u=o.c,f=o.i,d=D0(o.b),g=new KC(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=ks(d||[]),o.u=g.toString()}o.v=new LV(o.u),qV(o)})),o.m}e=GC.prototype,e.Pb=function(o,u,f){var d=new R("popup-closed-by-user"),g=new R("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){zV(_).then(function(k){k||(o&&Os(o),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return Zj(o)}).then(function(){if(!E)return ru(f).then(function(){u(d)})})},e.Yb=function(){var o=zt();return!vc(o)&&!jk(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,d,g,_,E,k){if(!o)return We(new R("popup-blocked"));if(E&&!vc())return this.ma().o(function(U){Os(o),g(U)}),d(),re();this.a||(this.a=QC(XC(this)));var M=this;return this.a.then(function(){var U=M.ma().o(function(le){throw Os(o),g(le),le});return d(),U}).then(function(){if(l0(f),!E){var U=Pc(M.s,M.g,M.b,u,f,null,_,M.c,void 0,M.i,k,M.f);xk(U,o)}}).o(function(U){throw U.code=="auth/network-request-failed"&&(M.a=null),U})};function XC(o){return o.l||(o.C=o.c?au(o.c,D0(o.b)):null,o.l=new $r(o.g,ci(o.i),o.C),o.f&&Zd(o.l,o.f)),o.l}e.Ob=function(o,u,f,d){this.a||(this.a=QC(XC(this)));var g=this;return this.a.then(function(){l0(u);var _=Pc(g.s,g.g,g.b,o,u,pc(),f,g.c,void 0,g.i,d,g.f);xk(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return YC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function Pc(o,u,f,d,g,_,E,k,M,U,le,De){return o=new O0(o,u,f,d,g,De),o.l=_,o.g=E,o.i=k,o.b=wo(M||null),o.f=U,o.zb(le).toString()}function qV(o){if(!o.v)throw Error("IfcHandler must be initialized!");UV(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=wC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",re(f)}return f.status="ERROR",re(f)})}function zV(o){var u={type:"webStorageSupport"};return YC(o).then(function(){return FV(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){Ur(this.h,function(u){return u==o})};function JC(o){if(this.a=o||ee.INTERNAL.reactNative&&ee.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=JC.prototype,e.get=function(o){return re(this.a.getItem(o)).then(function(u){return u&&lu(u)})},e.set=function(o,u){return re(this.a.setItem(o,gc(u)))},e.U=function(o){return re(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function ZC(o){this.b=o,this.a={},this.f=O(this.c,this)}var eN=[];function HV(){var o=Br()?self:null;if(Xe(eN,function(f){f.b==o&&(u=f)}),!u){var u=new ZC(o);eN.push(u)}return u}ZC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Xe(d,function(_){g.push(re().then(function(){return _(o.origin,o.data.data)}))}),ik(g).then(function(_){var E=[];Xe(_,function(k){E.push({fulfilled:k.Qb,value:k.value,reason:k.reason?k.reason.message:void 0})}),Xe(E,function(k){for(var M in k)typeof k[M]>"u"&&delete k[M]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:E})})}};function tN(o,u,f){Cs(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function nN(o){this.a=o}nN.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function rN(o){this.c=o,this.b=!1,this.a=[]}function iN(o,u,f,d){var g,_=f||{},E,k,M,U=null;if(o.b)return We(Error("connection_unavailable"));var le=d?800:50,De=typeof MessageChannel<"u"?new MessageChannel:null;return new _e(function(Ne,Ot){De?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),De.port1.start(),k=setTimeout(function(){Ot(Error("unsupported_event"))},le),E=function(Wi){Wi.data.eventId===g&&(Wi.data.status==="ack"?(clearTimeout(k),M=setTimeout(function(){Ot(Error("timeout"))},3e3)):Wi.data.status==="done"?(clearTimeout(M),typeof Wi.data.response<"u"?Ne(Wi.data.response):Ot(Error("unknown_error"))):(clearTimeout(k),clearTimeout(M),Ot(Error("invalid_response"))))},U={messageChannel:De,onMessage:E},o.a.push(U),De.port1.addEventListener("message",E),o.c.postMessage({eventType:u,eventId:g,data:_},[De.port2])):Ot(Error("connection_unavailable"))}).then(function(Ne){return L0(o,U),Ne}).o(function(Ne){throw L0(o,U),Ne})}function L0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),Ur(o.a,function(g){return g==u})}}rN.prototype.close=function(){for(;0<this.a.length;)L0(this,this.a[0]);this.b=!0};function oN(){if(!U0())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Br()&&self?(this.v=HV(),tN(this.v,"keyChanged",function(u,f){return uN(o).then(function(d){return 0<d.length&&Xe(o.a,function(g){g(d)}),{keyProcessed:Vi(d,f.key)}})}),tN(this.v,"ping",function(){return re(["keyChanged"])})):sB().then(function(u){(o.h=u)&&(o.g=new rN(new nN(u)),iN(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&Vi(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var M0;function WV(o){return new _e(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(g){f(Error(g.target.error))}})}function sN(o){return new _e(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},d.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},d.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):WV(o).then(function(){return sN(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function F0(o){return o.i||(o.i=sN(o)),o.i}function tp(o,u){function f(g,_){F0(o).then(u).then(g).o(function(E){if(3<++d)_(E);else return F0(o).then(function(k){return k.close(),o.i=void 0,f(g,_)}).o(function(k){_(k)})})}var d=0;return new _e(f)}function U0(){try{return!!c.indexedDB}catch{return!1}}function Oc(o){return o.objectStore("firebaseLocalStorage")}function Dc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function du(o){return new _e(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=oN.prototype,e.set=function(o,u){var f=this,d=!1;return tp(this,function(g){return g=Oc(Dc(g,!0)),du(g.get(o))}).then(function(g){return tp(f,function(_){if(_=Oc(Dc(_,!0)),g)return g.value=u,du(_.put(g));f.b++,d=!0;var E={};return E.fbase_key=o,E.value=u,du(_.add(E))})}).then(function(){return f.c[o]=u,aN(f,o)}).oa(function(){d&&f.b--})};function aN(o,u){return o.g&&o.h&&oB()===o.h?iN(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):re()}e.get=function(o){return tp(this,function(u){return du(Oc(Dc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return tp(this,function(d){return f=!0,u.b++,du(Oc(Dc(d,!0)).delete(o))}).then(function(){return delete u.c[o],aN(u,o)}).oa(function(){f&&u.b--})};function uN(o){return F0(o).then(function(u){var f=Oc(Dc(u,!1));return f.getAll?du(f.getAll()):new _e(function(d,g){var _=[],E=f.openCursor();E.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):d(_)},E.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=Pk(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&KV(this),this.a.push(o)},e.ia=function(o){Ur(this.a,function(u){return u==o}),this.a.length==0&&lN(this)};function KV(o){function u(){o.f=setTimeout(function(){o.l=uN(o).then(function(f){0<f.length&&Xe(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}lN(o),u()}function lN(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function cN(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=re().then(function(){if(U0()){var d=Ls(),g="__sak"+d;return M0||(M0=new oN),f=M0,f.set(g,d).then(function(){return f.get(g)}).then(function(_){if(_!==d)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(g){Xe(u.a,function(_){_(g)})}),d})}e=cN.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Ur(this.a,function(u){return u==o})};function Lc(){this.a={},this.type="inMemory"}e=Lc.prototype,e.get=function(o){return re(this.a[o])},e.set=function(o,u){return this.a[o]=u,re()},e.U=function(o){return delete this.a[o],re()},e.ca=function(){},e.ia=function(){};function np(){if(!GV())throw pi()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=fN()||ee.INTERNAL.node.localStorage,this.type="localStorage"}function fN(){try{var o=c.localStorage,u=Ls();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function GV(){var o=pi()=="Node";if(o=fN()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=np.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return lu(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=gc(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&vr(c.window,"storage",o)},e.ia=function(o){c.window&&Xn(c.window,"storage",o)};function j0(){this.type="nullStorage"}e=j0.prototype,e.get=function(){return re(null)},e.set=function(){return re()},e.U=function(){return re()},e.ca=function(){},e.ia=function(){};function B0(){if(!QV())throw pi()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=hN()||ee.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hN(){try{var o=c.sessionStorage,u=Ls();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function QV(){var o=pi()=="Node";if(o=hN()||o&&ee.INTERNAL.node&&ee.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=B0.prototype,e.get=function(o){var u=this;return re().then(function(){var f=u.a.getItem(o);return lu(f)})},e.set=function(o,u){var f=this;return re().then(function(){var d=gc(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return re().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function YV(){var o={};o.Browser=XV,o.Node=JV,o.ReactNative=ZV,o.Worker=e$,this.a=o[pi()]}var V0,XV={F:np,cb:B0},JV={F:np,cb:B0},ZV={F:JC,cb:j0},e$={F:np,cb:j0},pu={rd:"local",NONE:"none",td:"session"};function t$(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(d in pu)if(pu[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(pi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!U0()&&o!=="none")throw f;break;default:if(!Vy()&&o!=="none")throw f}}function dN(){var o=!!(!jk(zt())&&jy()),u=vc(),f=Vy();this.m=o,this.h=u,this.l=f,this.a={},V0||(V0=new YV),o=V0;try{this.g=!Fy()&&Vk()||!c.indexedDB?new o.a.F:new cN(Br()?new Lc:new o.a.F)}catch{this.g=new Lc,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Lc}this.v=new Lc,this.f=O(this.Zb,this),this.b={}}var $0;function Mc(){return $0||($0=new dN),$0}function qs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function vu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function n$(o,u,f){var d=vu(u,f),g=qs(o,u.F);return o.get(u,f).then(function(_){var E=null;try{E=lu(c.localStorage.getItem(d))}catch{}if(E&&!_)return c.localStorage.removeItem(d),o.set(u,E,f);E&&_&&g.type!="localStorage"&&c.localStorage.removeItem(d)})}e=dN.prototype,e.get=function(o,u){return qs(this,o.F).get(vu(o,u))};function gu(o,u,f){return f=vu(u,f),u.F=="local"&&(o.b[f]=null),qs(o,u.F).U(f)}e.set=function(o,u,f){var d=vu(o,f),g=this,_=qs(this,o.F);return _.set(d,u).then(function(){return _.get(d)}).then(function(E){o.F=="local"&&(g.b[d]=E)})},e.addListener=function(o,u,f){o=vu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),Cs(this.a)&&(qs(this,"local").ca(this.f),this.h||(Fy()||!Vk())&&c.indexedDB||!this.l||r$(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=vu(o,u),this.a[o]&&(Ur(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),Cs(this.a)&&(qs(this,"local").ia(this.f),q0(this))};function r$(o){q0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new Rs({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Zb(f))}},1e3)}function q0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var g=c.localStorage.getItem(f);g!==d&&(this.b[f]=g,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?qs(this,"local").ia(this.f):q0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},jr&&Eo&&Eo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Xe(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&Xe(this.a[o],function(u){u()})};function i$(o){this.a=o,this.b=Mc()}var z0={name:"authEvent",F:"local"};function o$(o){return o.b.get(z0,o.a).then(function(u){return wC(u)})}function s$(){this.a=Mc()}function a$(){this.b=-1}function rp(o,u){this.b=pN,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),ip===void 0&&(c.Int32Array?ip=new Int32Array(mN):ip=mN),this.reset()}var ip;F(rp,a$);for(var pN=64,u$=pN-1,vN=[],H0=0;H0<u$;H0++)vN[H0]=0;var gN=cy(128,vN);rp.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ks(this.h)};function W0(o){for(var u=o.f,f=o.l,d=0,g=0;g<u.length;)f[d++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*d;for(u=16;64>u;u++){g=f[u-15]|0,d=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=_+E|0}d=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,M=o.a[3]|0,U=o.a[4]|0,le=o.a[5]|0,De=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Ne=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&g^d&k^g&k)|0;E=U&le^~U&De,_=_+((U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))|0,E=E+(ip[u]|0)|0,E=_+(E+(f[u]|0)|0)|0,_=De,De=le,le=U,U=M+E|0,M=k,k=g,g=d,d=E+Ne|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+M|0,o.a[4]=o.a[4]+U|0,o.a[5]=o.a[5]+le|0,o.a[6]=o.a[6]+De|0,o.a[7]=o.a[7]+_|0}function K0(o,u,f){f===void 0&&(f=u.length);var d=0,g=o.c;if(typeof u=="string")for(;d<f;)o.f[g++]=u.charCodeAt(d++),g==o.b&&(W0(o),g=0);else if(w(u))for(;d<f;){var _=u[d++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(W0(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var mN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yN(){rp.call(this,8,l$)}F(yN,rp);var l$=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _N(o,u,f,d,g,_){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new s$,this.g=new i$(this.h),this.f=null,this.b=[],this.a=this.c=null}function op(o){return new R("invalid-cordova-configuration",o)}e=_N.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=nB().then(function(){if(typeof Ke("universalLinks.subscribe",c)!="function")throw op("cordova-universal-links-plugin-fix is not installed");if(typeof Ke("BuildInfo.packageName",c)>"u")throw op("cordova-plugin-buildinfo is not installed");if(typeof Ke("cordova.plugins.browsertab.openUrl",c)!="function")throw op("cordova-plugin-browsertab is not installed");if(typeof Ke("cordova.InAppBrowser.open",c)!="function")throw op("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function c$(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function f$(o){var u=new yN;K0(u,o),o=[];var f=8*u.g;56>u.c?K0(u,gN,56-u.c):K0(u,gN,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(W0(u),d=f=0;d<u.i;d++)for(var g=24;0<=g;g-=8)o[f++]=u.a[d]>>g&255;return bB(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),re()},e.Nb=function(){return We(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,d){if(this.c)return We(new R("redirect-operation-pending"));var g=this,_=c.document,E=null,k=null,M=null,U=null;return this.c=re().then(function(){return l0(u),EN(g)}).then(function(){return h$(g,o,u,f,d)}).then(function(){return new _e(function(le,De){k=function(){var Ne=Ke("cordova.plugins.browsertab.close",c);return le(),typeof Ne=="function"&&Ne(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),M=function(){E||(E=ru(2e3).then(function(){De(new R("redirect-cancelled-by-user"))}))},U=function(){$y()&&M()},_.addEventListener("resume",M,!1),zt().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",U,!1)}).o(function(le){return G0(g).then(function(){throw le})})}).oa(function(){M&&_.removeEventListener("resume",M,!1),U&&_.removeEventListener("visibilitychange",U,!1),E&&E.cancel(),k&&g.Ta(k),g.c=null})};function h$(o,u,f,d,g){var _=c$(),E=new Vr(u,d,null,_,new R("no-auth-event"),null,g),k=Ke("BuildInfo.packageName",c);if(typeof k!="string")throw new R("invalid-cordova-configuration");var M=Ke("BuildInfo.displayName",c),U={};if(zt().toLowerCase().match(/iphone|ipad|ipod/))U.ibi=k;else if(zt().toLowerCase().match(/android/))U.apn=k;else return We(new R("operation-not-supported-in-this-environment"));M&&(U.appDisplayName=M),_=f$(_),U.sessionId=_;var le=Pc(o.v,o.i,o.l,u,f,null,d,o.m,U,o.u,g,o.s);return o.ma().then(function(){var De=o.h;return o.C.a.set(z0,E.w(),De)}).then(function(){var De=Ke("cordova.plugins.browsertab.isAvailable",c);if(typeof De!="function")throw new R("invalid-cordova-configuration");var Ne=null;De(function(Ot){if(Ot){if(Ne=Ke("cordova.plugins.browsertab.openUrl",c),typeof Ne!="function")throw new R("invalid-cordova-configuration");Ne(le)}else{if(Ne=Ke("cordova.InAppBrowser.open",c),typeof Ne!="function")throw new R("invalid-cordova-configuration");Ot=zt(),o.a=Ne(le,Ot.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ot.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function wN(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function EN(o){return o.f||(o.f=o.ma().then(function(){return new _e(function(u){function f(d){return u(d),o.Ta(f),!1}o.Ea(f),d$(o)})})),o.f}function G0(o){var u=null;return o$(o.g).then(function(f){return u=f,f=o.g,gu(f.b,z0,f.a)}).then(function(){return u})}function d$(o){function u(E){d=!0,g&&g.cancel(),G0(o).then(function(k){var M=f;if(k&&E&&E.url){var U=null;M=hC(E.url),M.indexOf("/__/auth/callback")!=-1&&(U=jn(M),U=lu(gr(U,"firebaseError")||null),U=(U=typeof U=="object"?pt(U):null)?new Vr(k.c,k.b,null,null,U,null,k.T()):new Vr(k.c,k.b,M,k.f,null,null,k.T())),M=U||f}wN(o,M)})}var f=new Vr("unknown",null,null,null,new R("no-auth-event")),d=!1,g=ru(500).then(function(){return G0(o).then(function(){d||wN(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(E){if(E.toLowerCase().indexOf(Ke("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:E}),typeof _=="function")try{_(E)}catch(k){console.error(k)}},c0||(c0=new RB),xB(u)}e.Ea=function(o){this.b.push(o),EN(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Vr("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){Ur(this.b,function(u){return u==o})};function p$(o){this.a=o,this.b=Mc()}var Q0={name:"pendingRedirect",F:"session"};function v$(o){return o.b.set(Q0,"pending",o.a)}function Y0(o){return gu(o.b,Q0,o.a)}function g$(o){return o.b.get(Q0,o.a).then(function(u){return u=="pending"})}function sp(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new up,this.C=new xN,this.g=new p$(NN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=bN(this.D,this.v,this.m,Mr,this.J)}function bN(o,u,f,d,g){var _=ee.SDK_VERSION||null;return Uy()?new _N(o,u,f,_,d,g):new GC(o,u,f,_,d,g)}sp.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=bN(this.D,this.v,this.m,null,this.J),this.i={}};function TN(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function SN(o){o.a.Yb()&&TN(o).o(function(u){var f=new Vr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));J0(u)&&o.s(f)}),o.a.Ub()||AN(o.b)}function ap(o,u){Vi(o.h,u)||o.h.push(u),o.f||g$(o.g).then(function(f){f?Y0(o.g).then(function(){TN(o).o(function(d){var g=new Vr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));J0(d)&&o.s(g)})}):SN(o)}).o(function(){SN(o)})}function X0(o,u){Ur(o.h,function(f){return f==u})}sp.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return AN(this.b),u};var m$=new So(2e3,1e4),y$=new So(3e4,6e4);sp.prototype.ra=function(){return this.b.ra()};function IN(o,u,f,d,g,_,E){return o.a.Nb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,E)}function J0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function kN(o,u,f,d,g){var _;return v$(o.g).then(function(){return o.a.Ob(u,f,d,g).o(function(E){if(J0(E))throw new R("operation-not-supported-in-this-environment");return _=E,Y0(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new _e(function(){}):Y0(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function CN(o,u,f,d,g){return o.a.Pb(d,function(_){u.na(f,null,_,g)},m$.get())}var Z0={};function NN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function e_(o,u,f,d){var g=NN(u,f,d);return Z0[g]||(Z0[g]=new sp(o,u,f,d)),Z0[g]}function up(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}up.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},up.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(zs(this,!0,null,o.a),re()):u.Fa(f,d)?_$(this,o,u):We(new R("invalid-auth-event")):(zs(this,!1,null,null),re())}else We(new R("invalid-auth-event"))};function AN(o){o.g||(o.g=!0,zs(o,!1,null,null))}function lp(o){o.g&&!o.i&&zs(o,!1,null,null)}function _$(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,g=u.f,_=u.i,E=u.T(),k=!!u.c.match(/Redirect$/);f(d,g,E,_).then(function(M){zs(o,k,M,null)}).o(function(M){zs(o,k,null,M)})}function w$(o,u){if(o.b=function(){return We(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function RN(o,u){if(o.b=function(){return re(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function zs(o,u,f,d){u?d?w$(o,d):RN(o,f):RN(o,{user:null}),o.f=[],o.c=[]}up.prototype.ra=function(){var o=this;return new _e(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),E$(o))})};function E$(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=ru(y$.get()).then(function(){o.b||(o.g=!0,zs(o,!0,null,u))})}function xN(){}xN.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),re()):u.Fa(f,d)?b$(o,u):We(new R("invalid-auth-event"))}else We(new R("invalid-auth-event"))};function b$(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(d,g,null,f)}).o(function(g){u.na(d,null,g,f)})}function PN(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function t_(o,u){this.a=u,J(this,"verificationId",o)}t_.prototype.confirm=function(o){return o=_C(this.verificationId,o),this.a(o)};function n_(o,u,f,d){return new zi(o).gb(u,f).then(function(g){return new t_(g,d)})}function T$(o){var u=iC(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");wn(this,{token:o,expirationTime:mc(1e3*u.exp),authTime:mc(1e3*u.auth_time),issuedAtTime:mc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function r_(o,u,f){var d=u&&u[DN];if(!d)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=wo(u),this.g=f,this.c=new Ud(null,d),this.b=[];var g=this;Xe(u[ON]||[],function(_){(_=Gy(_))&&g.b.push(_)}),J(this,"auth",this.a),J(this,"session",this.c),J(this,"hints",this.b)}var ON="mfaInfo",DN="mfaPendingCredential";r_.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var d=wo(u.f);return delete d[ON],delete d[DN],Mn(d,f),u.g(d)})};function i_(o,u,f,d){R.call(this,"multi-factor-auth-required",d,u),this.b=new r_(o,u,f),J(this,"resolver",this.b)}F(i_,R);function LN(o,u,f){if(o&&C(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new i_(u,o.serverResponse,f,o.message)}catch{}return null}function MN(){}MN.prototype.tb=function(o,u,f){return u.type==Ec?S$(this,o,u,f):I$(this,o,u)};function S$(o,u,f,d){return f.Ha().then(function(g){return g={idToken:g},typeof d<"u"&&(g.displayName=d),Mn(g,{phoneVerificationInfo:bc(o.a)}),we(u,dV,g)})}function I$(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Mn(d,{phoneVerificationInfo:bc(o.a)}),we(u,pV,d)})}function o_(o){J(this,"factorId",o.fa),this.a=o}F(o_,MN);function FN(o){if(o_.call(this,o),this.a.fa!=zi.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(FN,o_);function mu(o,u){Un.call(this,o);for(var f in u)this[f]=u[f]}F(mu,Un);function s_(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),vr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Xe(u.multiFactor.enrolledFactors,function(d){var g=null,_={};if(d){d.uid&&(_[Yy]=d.uid),d.displayName&&(_[qk]=d.displayName),d.enrollmentTime&&(_[Qy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(_[Xy]=d.phoneNumber);try{g=new yc(_)}catch{}d=g}else d=null;d&&f.push(d)}),cp(this,f)}function k$(o){var u=[];return Xe(o.mfaInfo||[],function(f){(f=Gy(f))&&u.push(f)}),u}e=s_.prototype,e.yc=function(o){cp(this,k$(o.hd))};function cp(o,u){o.b=u,J(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Ud(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Sb().then(function(g){return o.tb(d,g,u)}).then(function(g){return mi(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(g){return we(d,DV,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=rj(u.b,function(E){return E.uid!=f});return cp(u,_),mi(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:vd(this.b,function(o){return o.w()})}}};function a_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}a_.prototype.start=function(){this.a=this.c,u_(this,!0)};function C$(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function u_(o,u){o.stop(),o.b=ru(C$(o,u)).then(function(){return iB()}).then(function(){return o.h()}).then(function(){u_(o,!0)}).o(function(f){o.i(f)&&u_(o,!1)})}a_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function l_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}l_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function UN(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function jN(o,u){o.b=Md(u[qr]||""),o.a=u.refreshToken,u=u.expiresIn,UN(o,typeof u<"u"?Number(u):void 0)}function N$(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function A$(o,u){return XB(o.f,u).then(function(f){return o.b=Md(f.access_token),o.a=f.refresh_token,UN(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}l_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?We(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?A$(this,{grant_type:"refresh_token",refresh_token:this.a}):re(null):re({accessToken:this.b.toString(),refreshToken:this.a})};function fp(o,u){this.a=o||null,this.b=u||null,wn(this,{lastSignInTime:mc(u||null),creationTime:mc(o||null)})}function R$(o){return new fp(o.a,o.b)}fp.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function x$(o,u,f,d,g,_){wn(this,{uid:o,displayName:d||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Zn(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=ee.SDK_VERSION?au(ee.SDK_VERSION):null;this.a=new $r(this.l,ci(Mr),d),(this.u=o.emulatorConfig||null)&&Zd(this.a,this.u),this.h=new l_(this.a),g_(this,u[qr]),jN(this.h,u),J(this,"refreshToken",this.h.a),VN(this,f||{}),_n.call(this),this.P=!1,this.s&&Ds()&&(this.b=e_(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=P$(this),this.ba=O(this.ib,this);var g=this;this.za=null,this.Pa=function(_){g.xa(_.h)},this.qa=null,this.Ba=function(_){c_(g,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Fc(g,_.f)},this.ja=null,this.S=new s_(this,f),J(this,"multiFactor",this.S)}F(Zn,_n),Zn.prototype.xa=function(o){this.za=o,LC(this.a,o)};function c_(o,u){o.u=u,Zd(o.a,u),o.b&&(u=o.b,o.b=e_(o.s,o.l,o.m,o.u),o.P&&(X0(u,o),ap(o.b,o)))}Zn.prototype.la=function(){return this.za};function f_(o,u){o.qa&&Xn(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&vr(u,"languageCodeChanged",o.Pa)}function h_(o,u){o.$&&Xn(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&vr(u,"emulatorConfigChanged",o.Ba)}function Fc(o,u){o.aa=u,MC(o.a,ee.SDK_VERSION?au(ee.SDK_VERSION,o.aa):null)}Zn.prototype.Ga=function(){return ks(this.aa)};function d_(o,u){o.ja&&Xn(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&vr(u,"frameworkChanged",o.Oa)}Zn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function p_(o){try{return ee.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function P$(o){return new a_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function BN(o){o.J||o.D.b||(o.D.start(),Xn(o,"tokenChanged",o.ba),vr(o,"tokenChanged",o.ba))}function v_(o){Xn(o,"tokenChanged",o.ba),o.D.stop()}function g_(o,u){o.Aa=u,J(o,"_lat",u)}function O$(o,u){Ur(o.W,function(f){return f==u})}function Hs(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return ik(u).then(function(){return o})}function Uc(o){o.b&&!o.P&&(o.P=!0,ap(o.b,o))}function VN(o,u){wn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new fp(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}J(Zn.prototype,"providerId","firebase");function $N(){}function m_(o){return re().then(function(){if(o.J)throw new R("app-deleted")})}function y_(o){return vd(o.providerData,function(u){return u.providerId})}function __(o,u){u&&(qN(o,u.providerId),o.providerData.push(u))}function qN(o,u){Ur(o.providerData,function(f){return f.providerId==u})}function Co(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&J(o,u,f)}function hp(o,u){o!=u&&(wn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?J(o,"metadata",R$(u.metadata)):J(o,"metadata",new fp),Xe(u.providerData,function(f){__(o,f)}),N$(o.h,u.h),J(o,"refreshToken",o.h.a),cp(o.S,u.S.b))}e=Zn.prototype,e.reload=function(){var o=this;return It(this,m_(this).then(function(){return w_(o).then(function(){return Hs(o)}).then($N)}))};function w_(o){return o.I().then(function(u){var f=o.isAnonymous;return D$(o,u).then(function(){return f||Co(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new T$(u)})},e.I=function(o){var u=this;return It(this,m_(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(g_(u,f.accessToken),u.dispatchEvent(new mu("tokenChanged"))),Co(u,"refreshToken",f.refreshToken),f.accessToken}))};function mi(o,u){u[qr]&&o.Aa!=u[qr]&&(jN(o.h,u),o.dispatchEvent(new mu("tokenChanged")),g_(o,u[qr]),Co(o,"refreshToken",o.h.a))}function D$(o,u){return we(o.a,vV,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],VN(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=L$(o),f=0;f<u.length;f++)__(this,u[f]);Co(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new mu("userReloaded",{hd:o}))};function L$(o){return(o=o.providerUserInfo)&&o.length?vd(o,function(u){return new x$(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return qy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return It(this,o.c(this.a,this.uid).then(function(d){return mi(u,d),f=jc(u,d,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function dp(o,u){return w_(o).then(function(){if(Vi(y_(o),u))return Hs(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return qy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return It(this,dp(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=jc(u,d,"link"),zN(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return It(this,dp(this,"phone").then(function(){return n_(p_(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return It(this,re().then(function(){return n_(p_(f),o,u,O(f.ub,f))}),!0)};function jc(o,u,f){var d=u0(u);return u=sC(u),vi({user:o,credential:d,additionalUserInfo:u,operationType:f})}function zN(o,u){return mi(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return It(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return mi(u,f),u.reload()}))},e.ed=function(o){var u=this;return It(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return mi(u,f),u.reload()}))},e.Db=function(o){var u=this;return It(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return mi(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return m_(this);var u=this;return It(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return mi(u,f),Co(u,"displayName",f.displayName||null),Co(u,"photoURL",f.photoUrl||null),Xe(u.providerData,function(d){d.providerId==="password"&&(J(d,"displayName",u.displayName),J(d,"photoURL",u.photoURL))}),Hs(u)}).then($N))},e.cd=function(o){var u=this;return It(this,w_(this).then(function(f){return Vi(y_(u),o)?iV(u.a,f,[o]).then(function(d){var g={};return Xe(d.providerUserInfo||[],function(_){g[_.providerId]=!0}),Xe(y_(u),function(_){g[_]||qN(u,_)}),g[zi.PROVIDER_ID]||J(u,"phoneNumber",null),Hs(u)}):Hs(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return It(this,this.I().then(function(u){return we(o.a,lV,{idToken:u})}).then(function(){o.dispatchEvent(new mu("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");f_(o,null),h_(o,null),d_(o,null),o.N=[],o.J=!0,v_(o),J(o,"refreshToken",null),o.b&&X0(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return HN(this,"linkViaPopup",o,function(){return dp(u,o.providerId).then(function(){return Hs(u)})},!1)},e.Nc=function(o){return HN(this,"reauthViaPopup",o,function(){return re()},!0)};function HN(o,u,f,d,g){if(!Ds())return We(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return We(o.i);var _=n0(f.providerId),E=Ls(o.uid+":::"),k=null;(!vc()||jy())&&o.s&&f.isOAuthProvider&&(k=Pc(o.s,o.l,o.m,u,f,null,E,ee.SDK_VERSION||null,null,null,o.tenantId,o.u));var M=Dk(k,_&&_.va,_&&_.ua);return d=d().then(function(){if(KN(o),!g)return o.I().then(function(){})}).then(function(){return IN(o.b,M,u,f,E,!!k,o.tenantId)}).then(function(){return new _e(function(U,le){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=U,o.C=le,o.g=E,o.c=CN(o.b,o,u,M,E)})}).then(function(U){return M&&Os(M),U?vi(U):null}).o(function(U){throw M&&Os(M),U}),It(o,d,g)}e.Fc=function(o){var u=this;return WN(this,"linkViaRedirect",o,function(){return dp(u,o.providerId)},!1)},e.Oc=function(o){return WN(this,"reauthViaRedirect",o,function(){return re()},!0)};function WN(o,u,f,d,g){if(!Ds())return We(new R("operation-not-supported-in-this-environment"));if(o.i&&!g)return We(o.i);var _=null,E=Ls(o.uid+":::");return d=d().then(function(){if(KN(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=E,Hs(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(E_,o.w(),k.a)),k}).then(function(){return kN(o.b,u,f,E,o.tenantId)}).o(function(k){if(_=k,o.ha)return QN(o.ha);throw _}).then(function(){if(_)throw _}),It(o,d,g)}function KN(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(E){return A0(g.a,{requestUri:o,postBody:d,sessionId:u,idToken:E})}).then(function(E){return _=jc(g,E,"link"),zN(g,E)}).then(function(){return _}),It(this,f)},e.Mb=function(o,u,f,d){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=re().then(function(){return fu(R0(g.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),g.uid)}).then(function(k){return _=jc(g,k,"reauthenticate"),mi(g,k),g.i=null,g.reload()}).then(function(){return _});return It(this,E,!0)},e.vb=function(o){var u=this,f=null;return It(this,this.I().then(function(d){return f=d,typeof o>"u"||Cs(o)?{}:Dd(new Od(o))}).then(function(d){return u.a.vb(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,d=null;return It(this,this.I().then(function(g){return d=g,typeof u>"u"||Cs(u)?{}:Dd(new Od(u))}).then(function(g){return f.a.Fb(d,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function It(o,u,f){var d=M$(o,u,f);return o.N.push(d),d.oa(function(){gd(o.N,d)}),d.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=LN(g.w(),p_(o),O(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=fu(re(o),f.uid).then(function(d){return u=jc(f,d,"reauthenticate"),mi(f,d),f.i=null,f.reload()}).then(function(){return u}),It(this,o,!0)};function M$(o,u,f){return o.i&&!f?(u.cancel(),We(o.i)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new mu("userInvalidated")),o.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Mn(o,this.metadata.w()),Xe(this.providerData,function(u){o.providerData.push(aB(u))}),Mn(o,this.S.w()),o};function GN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[qr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var g=new Zn(u,f,o);return o.providerData&&Xe(o.providerData,function(_){_&&__(g,vi(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function F$(o,u,f,d){var g=new Zn(o,u);return f&&(g.ha=f),d&&Fc(g,d),g.reload().then(function(){return g})}function U$(o,u,f,d){var g=o.h,_={};return _[qr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Zn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),d&&Fc(u,d),hp(u,o),u}function j$(o){this.a=o,this.b=Mc()}var E_={name:"redirectUser",F:"session"};function QN(o){return gu(o.b,E_,o.a)}function B$(o,u){return o.b.get(E_,o.a).then(function(f){return f&&u&&(f.authDomain=u),GN(f||{})})}function b_(o){this.a=o,this.b=Mc(),this.c=null,this.f=V$(this),this.b.addListener(yi("local"),this.a,O(this.g,this))}b_.prototype.g=function(){var o=this,u=yi("local");yu(this,function(){return re().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return T_(o,"local").then(function(){o.c=u})})})};function T_(o,u){var f=[],d;for(d in pu)pu[d]!==u&&f.push(gu(o.b,yi(pu[d]),o.a));return f.push(gu(o.b,S_,o.a)),Rj(f)}function V$(o){var u=yi("local"),f=yi("session"),d=yi("none");return n$(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(d,o.a).then(function(_){return _?d:o.b.get(u,o.a).then(function(E){return E?u:o.b.get(S_,o.a).then(function(k){return k?yi(k):u})})})}).then(function(g){return o.c=g,T_(o,g.F)}).o(function(){o.c||(o.c=u)})}var S_={name:"persistence",F:"session"};function yi(o){return{name:"authUser",F:o}}b_.prototype.yb=function(o){var u=null,f=this;return t$(o),yu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,T_(f,o)}).then(function(){if(f.c=yi(o),u)return f.b.set(f.c,u,f.a)}):re()})};function $$(o){return yu(o,function(){return o.b.set(S_,o.c.F,o.a)})}function YN(o,u){return yu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function XN(o){return yu(o,function(){return gu(o.b,o.c,o.a)})}function JN(o,u,f){return yu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),GN(d||{})})})}function yu(o,u){return o.f=o.f.then(u,u),o.f}function zr(o){if(this.l=!1,J(this,"settings",new PN),J(this,"app",o),Ue(this).options&&Ue(this).options.apiKey)o=ee.SDK_VERSION?au(ee.SDK_VERSION):null,this.a=new $r(Ue(this).options&&Ue(this).options.apiKey,ci(Mr),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ee.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=ee.INTERNAL.createSubscribe(O(this.Ac,this)),_u(this,null),this.i=new b_(Ue(this).options.apiKey+":"+Ue(this).name),this.D=new j$(Ue(this).options.apiKey+":"+Ue(this).name),this.$=it(this,G$(this)),this.h=it(this,Q$(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,H$(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,_n.call(this),z$(this),this.J=[],this.R=null}F(zr,_n);function ZN(o){Un.call(this,"languageCodeChanged"),this.h=o}F(ZN,Un);function eA(o){Un.call(this,"emulatorConfigChanged"),this.c=o}F(eA,Un);function tA(o){Un.call(this,"frameworkChanged"),this.f=o}F(tA,Un),e=zr.prototype,e.yb=function(o){return o=this.i.yb(o),it(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,LC(this.a,this.aa),this.dispatchEvent(new ZN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,q$(u),this.R={url:o,ec:u},this.settings.jb=!0,Zd(this.a,this.R),this.dispatchEvent(new eA(this.R))}};function q$(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&Rd().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),MC(this.a,ee.SDK_VERSION?au(ee.SDK_VERSION,this.J):null),this.dispatchEvent(new tA(this.J))},e.Ga=function(){return ks(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function z$(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=jn(this.R.url);u=vi({protocol:u.c,host:u.a,port:u.g,options:vi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Ue(this).options.apiKey,authDomain:Ue(this).options.authDomain,appName:Ue(this).name,currentUser:he(this)&&he(this).w()}};function I_(o){return o.Oa||We(new R("auth-domain-config-required"))}function H$(o){var u=Ue(o).options.authDomain,f=Ue(o).options.apiKey;u&&Ds()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=e_(u,f,Ue(o).name,o.R),ap(o.b,o),he(o)&&Uc(he(o)),o.m){Uc(o.m);var d=o.m;d.xa(o.la()),f_(d,o),d=o.m,Fc(d,o.J),d_(d,o),d=o.m,c_(d,o.R),h_(d,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,d){var g=this,_={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Ws(g,N0(g.a,_))})},e.Xc=function(o){if(!Ds())return We(new R("operation-not-supported-in-this-environment"));var u=this,f=n0(o.providerId),d=Ls(),g=null;(!vc()||jy())&&Ue(this).options.authDomain&&o.isOAuthProvider&&(g=Pc(Ue(this).options.authDomain,Ue(this).options.apiKey,Ue(this).name,"signInViaPopup",o,null,d,ee.SDK_VERSION||null,null,null,this.T(),this.R));var _=Dk(g,f&&f.va,f&&f.ua);return f=I_(this).then(function(E){return IN(E,_,"signInViaPopup",o,d,!!g,u.T())}).then(function(){return new _e(function(E,k){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=E,u.C=k,u.g=d,u.c=CN(u.b,u,"signInViaPopup",_,d)})}).then(function(E){return _&&Os(_),E?vi(E):null}).o(function(E){throw _&&Os(_),E}),it(this,f)},e.Yc=function(o){if(!Ds())return We(new R("operation-not-supported-in-this-environment"));var u=this,f=I_(this).then(function(){return $$(u.i)}).then(function(){return kN(u.b,"signInViaRedirect",o,void 0,u.T())});return it(this,f)};function nA(o){if(!Ds())return We(new R("operation-not-supported-in-this-environment"));var u=I_(o).then(function(){return o.b.ra()}).then(function(f){return f?vi(f):null});return it(o,u)}e.ra=function(){var o=this;return nA(this).then(function(u){return o.b&&lp(o.b.b),u}).o(function(u){throw o.b&&lp(o.b.b),u})},e.dd=function(o){if(!o)return We(new R("null-user"));if(this.S!=o.tenantId)return We(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=Ue(this).options.apiKey,f.authDomain=Ue(this).options.authDomain,f.appName=Ue(this).name;var d=U$(o,f,u.D,u.Ga());return it(this,this.h.then(function(){if(Ue(u).options.apiKey!=o.l)return d.reload()}).then(function(){return he(u)&&o.uid==he(u).uid?(hp(he(u),o),u.da(o)):(_u(u,d),Uc(d),u.da(d))}).then(function(){Bc(u)}))};function W$(o,u){var f={};return f.apiKey=Ue(o).options.apiKey,f.authDomain=Ue(o).options.authDomain,f.appName=Ue(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return F$(f,u,o.D,o.Ga())}).then(function(d){return he(o)&&d.uid==he(o).uid?(hp(he(o),d),o.da(d)):(_u(o,d),Uc(d),o.da(d))}).then(function(){Bc(o)})}function _u(o,u){he(o)&&(O$(he(o),o.Ba),Xn(he(o),"tokenChanged",o.qa),Xn(he(o),"userDeleted",o.za),Xn(he(o),"userInvalidated",o.Aa),v_(he(o))),u&&(u.W.push(o.Ba),vr(u,"tokenChanged",o.qa),vr(u,"userDeleted",o.za),vr(u,"userInvalidated",o.Aa),0<o.u&&BN(u)),J(o,"currentUser",u),u&&(u.xa(o.la()),f_(u,o),Fc(u,o.J),d_(u,o),c_(u,o.R),h_(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&lp(o.b.b),he(o)?(_u(o,null),XN(o.i).then(function(){Bc(o)})):re()});return it(this,u)};function K$(o){var u=B$(o.D,Ue(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),QN(o.D)});return it(o,u)}function G$(o){var u=Ue(o).options.authDomain,f=K$(o).then(function(){return JN(o.i,u,o.R)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return YN(o.i,d).then(function(){return d})}).o(function(g){return g.code=="auth/network-request-failed"?d:XN(o.i)})):null}).then(function(d){_u(o,d||null)});return it(o,f)}function Q$(o){return o.$.then(function(){return nA(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(yi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return JN(this.i,Ue(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=he(o)&&u){f=he(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return hp(he(o),u),he(o).I();(he(o)||u)&&(_u(o,u),u&&(Uc(u),u.ha=o.D),o.b&&ap(o.b,o),Bc(o))}})},e.da=function(o){return YN(this.i,o)},e.mc=function(){Bc(this),this.da(he(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ws(o,u){var f=null,d=null;return it(o,u.then(function(g){return f=u0(g),d=sC(g),W$(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=LN(g.w(),o,O(o.kc,o))),_||g}).then(function(){return vi({user:he(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ws(u,re(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(he(u))})},e.Ac=function(o){var u=this;Y$(this,function(){o.next(he(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof o=="function"?o(he(d)):typeof o.next=="function"&&o.next(he(d))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return he(u)?he(u).I(o).then(function(d){return{accessToken:d}}):null});return it(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ws(u,we(u.a,RV,{token:o}))}).then(function(f){var d=f.user;return Co(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ws(f,we(f.a,HC,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ws(f,we(f.a,aV,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ws(u,o.ka(u.a))})},e.Sc=function(o){return qy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=he(o);if(u&&u.isAnonymous){var f=vi({providerId:null,isNewUser:!1});return vi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ws(o,o.a.Ab()).then(function(d){var g=d.user;return Co(g,"isAnonymous",!0),o.da(g),d})})};function Ue(o){return o.app}function he(o){return o.currentUser}e.getUid=function(){return he(this)&&he(this).uid||null};function pp(o){return he(o)&&he(o)._lat||null}function Bc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](pp(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](pp(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&he(this)&&BN(he(this))},e.Pc=function(o){var u=this;Xe(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&he(this)&&v_(he(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),it(this,this.h.then(function(){u.l||Vi(u.s,o)&&o(pp(u))}))},e.removeAuthTokenListener=function(o){Ur(this.s,function(u){return u==o})};function Y$(o,u){o.N.push(u),it(o,o.h.then(function(){!o.l&&Vi(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(pp(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(yi("local"),o.a,this.ja)),this.b&&(X0(this.b,this),lp(this.b.b)),Promise.resolve()};function it(o,u){return o.P.push(u),u.oa(function(){gd(o.P,u)}),u}e.hc=function(o){return it(this,JB(this.a,o))},e.Bc=function(o){return!!a0(o)},e.xb=function(o,u){var f=this;return it(this,re().then(function(){var d=new Od(u);if(!d.c)throw new R("argument-error",e0+" must be true when sending sign in link to email");return Dd(d)}).then(function(d){return f.a.xb(o,d)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return it(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return it(this,this.a.Sa(o).then(function(u){return new lB(u)}))},e.kb=function(o){return it(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return it(this,re().then(function(){return typeof u>"u"||Cs(u)?{}:Dd(new Od(u))}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.Wc=function(o,u){return it(this,n_(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return it(this,re().then(function(){var d=u||pc(),g=yC(o,d);if(d=a0(d),!d)throw new R("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(g)}))};function Vc(){}Vc.prototype.render=function(){},Vc.prototype.reset=function(){},Vc.prototype.getResponse=function(){},Vc.prototype.execute=function(){};function wu(){this.a={},this.b=1e12}var k_=null;wu.prototype.render=function(o,u){return this.a[this.b.toString()]=new vp(o,u),this.b++},wu.prototype.reset=function(o){var u=C_(this,o);o=rA(o),u&&o&&(u.delete(),delete this.a[o])},wu.prototype.getResponse=function(o){return(o=C_(this,o))?o.getResponse():null},wu.prototype.execute=function(o){(o=C_(this,o))&&o.execute()};function C_(o,u){return(u=rA(u))&&o.a[u]||null}function rA(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function vp(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ac(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():vr(this.f,"click",this.i)}vp.prototype.getResponse=function(){return N_(this),this.b},vp.prototype.execute=function(){N_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=rB();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},vp.prototype.delete=function(){N_(this),this.g=!0,clearTimeout(this.a),this.a=null,Xn(this.f,"click",this.i)};function N_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function A_(){}J(A_,"FACTOR_ID","phone");function R_(){}R_.prototype.g=function(){return k_||(k_=new wu),re(k_)},R_.prototype.c=function(){};var x_=null;function P_(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var X$=new hi(md,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),J$=new So(3e4,6e4);P_.prototype.g=function(o){var u=this;return new _e(function(f,d){var g=setTimeout(function(){d(new R("network-request-failed"))},J$.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var E=c.grecaptcha.render;c.grecaptcha.render=function(k,M){return k=E(k,M),u.b++,k},clearTimeout(g),f(c.grecaptcha)}else clearTimeout(g),d(new R("internal-error"));delete c[u.a]};var _=dy(X$,{onload:u.a,hl:o||""});re(E0(_)).o(function(){clearTimeout(g),d(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(c.grecaptcha)})},P_.prototype.c=function(){this.b--};var O_=null;function D_(o,u,f,d,g,_,E){if(J(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(x_||(x_=new R_),E=x_):(O_||(O_=new P_),E=O_),this.m=E,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[sA])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Z$]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ac(u)||!this.i&&ac(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $r(o,_||null,g||null),this.u=d||function(){return null};var k=this;this.l=[];var M=this.a[iA];this.a[iA]=function(le){if(aA(k,le),typeof M=="function")M(le);else if(typeof M=="string"){var De=Ke(M,c);typeof De=="function"&&De(le)}};var U=this.a[oA];this.a[oA]=function(){if(aA(k,null),typeof U=="function")U();else if(typeof U=="string"){var le=Ke(U,c);typeof le=="function"&&le()}}}var iA="callback",oA="expired-callback",sA="sitekey",Z$="size";function aA(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function e6(o,u){Ur(o.l,function(f){return f==u})}function L_(o,u){return o.h.push(u),u.oa(function(){gd(o.h,u)}),u}e=D_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=L_(this,re().then(function(){if(xd()&&!Br())return Rd();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,we(o.s,EV,{})}).then(function(u){o.a[sA]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){gp(this);var o=this;return L_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=ac(u);u=kj("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){gp(this);var o=this;return L_(this,this.render().then(function(u){return new _e(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var g=function(_){_&&(e6(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){gp(this),this.c!==null&&this.g.reset(this.c)};function gp(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){gp(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=ac(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function M_(o,u,f){var d=!1;try{this.b=f||ee.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ee.SDK_VERSION?au(ee.SDK_VERSION,_):null,D_.call(this,f,o,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},_,ci(Mr),d)}F(M_,D_);function uA(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,E=0;E<u.length;E++)if(u[E].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)d="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=lA.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=lA[g],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new R("argument-error",o+" failed: "+d)}var lA="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function X(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function F_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function vt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:C}}function Eu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function _i(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function t6(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function n6(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof zr)}}}function r6(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ee.app.App)}}}function No(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function cA(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function bu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function U_(o,u){return C(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function fA(o){return C(o)&&typeof o.uid=="string"}function mp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function ct(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(g){return o.M(g)||u.M(g)}}}function Je(o,u){for(var f in u){var d=u[f].name;o[d]=dA(d,o[f],u[f].j)}}function hA(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:B(function(g){return this[g]},f),set:B(function(g,_,E,k){uA(g,[E],[k],!0),this[_]=k},d,f,u[f].lb),enumerable:!0})}}function ft(o,u,f,d){o[u]=dA(u,f,d)}function dA(o,u,f){function d(){var E=Array.prototype.slice.call(arguments);return uA(g,f,E),u.apply(this,E)}if(!f)return u;var g=i6(o),_;for(_ in u)d[_]=u[_];for(_ in u.prototype)d.prototype[_]=u.prototype[_];return d}function i6(o){return o=o.split("."),o[o.length-1]}Je(zr.prototype,{kb:{name:"applyActionCode",j:[X("code")]},Sa:{name:"checkActionCode",j:[X("code")]},ob:{name:"confirmPasswordReset",j:[X("code"),X("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[X("email"),X("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[X("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[X("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ct(vt(),Eu(),"nextOrObserver"),Eu("opt_error",!0),Eu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ct(vt(),Eu(),"nextOrObserver"),Eu("opt_error",!0),Eu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[X("email"),ct(vt("opt_actionCodeSettings",!0),_i(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[X("email"),vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[X("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[No()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[No()]},Tc:{name:"signInWithCustomToken",j:[X("token")]},Uc:{name:"signInWithEmailAndPassword",j:[X("email"),X("password")]},Vc:{name:"signInWithEmailLink",j:[X("email"),X("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[X("phoneNumber"),mp()]},Xc:{name:"signInWithPopup",j:[bu()]},Yc:{name:"signInWithRedirect",j:[bu()]},dd:{name:"updateCurrentUser",j:[ct(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Zn)}}}(),_i(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[X(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[X("url"),vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[X("code")]}}),hA(zr.prototype,{lc:{name:"languageCode",lb:ct(X(),_i(),"languageCode")},ti:{name:"tenantId",lb:ct(X(),_i(),"tenantId")}}),zr.Persistence=pu,zr.Persistence.LOCAL="local",zr.Persistence.SESSION="session",zr.Persistence.NONE="none",Je(Zn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[F_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[F_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[No()]},rb:{name:"linkWithCredential",j:[No()]},Dc:{name:"linkWithPhoneNumber",j:[X("phoneNumber"),mp()]},Ec:{name:"linkWithPopup",j:[bu()]},Fc:{name:"linkWithRedirect",j:[bu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[No()]},ub:{name:"reauthenticateWithCredential",j:[No()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[X("phoneNumber"),mp()]},Nc:{name:"reauthenticateWithPopup",j:[bu()]},Oc:{name:"reauthenticateWithRedirect",j:[bu()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ct(vt("opt_actionCodeSettings",!0),_i(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[X(null,!0)]},cd:{name:"unlink",j:[X("provider")]},Cb:{name:"updateEmail",j:[X("email")]},Db:{name:"updatePassword",j:[X("password")]},ed:{name:"updatePhoneNumber",j:[No("phone")]},Eb:{name:"updateProfile",j:[vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[X("email"),ct(vt("opt_actionCodeSettings",!0),_i(null,!0),"opt_actionCodeSettings",!0)]}}),Je(wu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Je(Vc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Je(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),hA(PN.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:F_("appVerificationDisabledForTesting")}}),Je(t_.prototype,{confirm:{name:"confirm",j:[X("verificationCode")]}}),ft(cu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[CB,NB,AB,kB],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[ct(X(),vt(),"json")]),ft(mr,"credential",function(o,u){return new Io(o,u)},[X("email"),X("password")]),Je(Io.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Je(Us.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(Us,"credential",pC,[ct(X(),vt(),"token")]),ft(mr,"credentialWithLink",yC,[X("email"),X("emailLink")]),Je(js.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(js,"credential",vC,[ct(X(),vt(),"token")]),Je(Bs.prototype,{Ca:{name:"addScope",j:[X("scope")]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(Bs,"credential",gC,[ct(X(),ct(vt(),_i()),"idToken"),ct(X(),_i(),"accessToken",!0)]),Je(hu.prototype,{Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),ft(hu,"credential",mC,[ct(X(),vt(),"token"),X("secret",!0)]),Je(Jn.prototype,{Ca:{name:"addScope",j:[X("scope")]},credential:{name:"credential",j:[ct(X(),ct(vt(),_i()),"optionsOrIdToken"),ct(X(),_i(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[vt("customOAuthParameters")]}}),Je(qi.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Je(Ms.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),ft(zi,"credential",_C,[X("verificationId"),X("verificationCode")]),Je(zi.prototype,{gb:{name:"verifyPhoneNumber",j:[ct(X(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?U_(f.session,Ec)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?U_(f.session,jd)&&fA(f.multiFactorHint):f.session&&f.multiFactorUid?U_(f.session,jd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),mp()]}}),Je(ko.prototype,{w:{name:"toJSON",j:[X(null,!0)]}}),Je(R.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Je(Tc.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Je(f0.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Je(i_.prototype,{toJSON:{name:"toJSON",j:[X(null,!0)]}}),Je(r_.prototype,{Rc:{name:"resolveSignIn",j:[cA()]}}),Je(s_.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[cA(),X("displayName",!0)]},bd:{name:"unenroll",j:[ct({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:fA},X(),"multiFactorInfoIdentifier")]}}),Je(M_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ft(Zy,"parseLink",Yk,[X("link")]),ft(A_,"assertion",function(o){return new FN(o)},[No("phone")]),function(){if(typeof ee<"u"&&ee.INTERNAL&&ee.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Jy,VERIFY_AND_CHANGE_EMAIL:_c,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:zr,AuthCredential:cu,Error:R};ft(o,"EmailAuthProvider",mr,[]),ft(o,"FacebookAuthProvider",Us,[]),ft(o,"GithubAuthProvider",js,[]),ft(o,"GoogleAuthProvider",Bs,[]),ft(o,"TwitterAuthProvider",hu,[]),ft(o,"OAuthProvider",Jn,[X("providerId")]),ft(o,"SAMLAuthProvider",dC,[X("providerId")]),ft(o,"PhoneAuthProvider",zi,[n6()]),ft(o,"RecaptchaVerifier",M_,[ct(X(),t6(),"recaptchaContainer"),vt("recaptchaParameters",!0),r6()]),ft(o,"ActionCodeURL",Zy,[]),ft(o,"PhoneMultiFactorGenerator",A_,[]),ee.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new zr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),ee.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ee.registerVersion("@firebase/auth","0.16.8"),ee.INTERNAL.extendNamespace({User:Zn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var iH="@firebase/database",oH="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eL="";function tL(e){eL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sH=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Nt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ih(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aH=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return cr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sH(t)}}catch{}return new aH},ia=nL("localStorage"),Y1=nL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zu=new Ba("@firebase/database"),rL=function(){var e=1;return function(){return e++}}(),iL=function(e){var t=Iz(e),n=new Ez;n.update(t);var r=n.digest();return rm.encodeByteArray(r)},Uh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Uh.apply(null,i):typeof i=="object"?n+=Nt(i):n+=i,n+=" "}return n},da=null,AR=!0,oL=function(e,t){q(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Zu.logLevel=ye.VERBOSE,da=Zu.log.bind(Zu),t&&Y1.set("logging_enabled",!0)):typeof e=="function"?da=e:(da=null,Y1.remove("logging_enabled"))},Ft=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(AR===!0&&(AR=!1,da===null&&Y1.get("logging_enabled")===!0&&oL(!0)),da){var n=Uh.apply(null,e);da(n)}},jh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Ft.apply(void 0,pe([e],Qt(t)))}},X1=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Uh.apply(void 0,pe([],Qt(e)));Zu.error(n)},Pi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Uh.apply(void 0,pe([],Qt(e)));throw Zu.error(n),new Error(n)},Jt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Uh.apply(void 0,pe([],Qt(e)));Zu.warn(n)},uH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},om=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},lH=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},co="[MIN_NAME]",Oi="[MAX_NAME]",Va=function(e,t){if(e===t)return 0;if(e===co||t===Oi)return-1;if(t===co||e===Oi)return 1;var n=Jv(e),r=Jv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},cH=function(e,t){return e===t?0:e<t?-1:1},Jc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Nt(t))},sT=function(e){if(typeof e!="object"||e===null)return Nt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Nt(t[i]),r+=":",r+=sT(e[t[i]]);return r+="}",r},sL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Pt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var aL=function(e){q(!om(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(c=0;c<64;c+=8){var m=parseInt(p.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},fH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dH(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var pH=new RegExp("^-?(0*)\\d{1,10}$"),uL=-2147483648,aT=2147483647,Jv=function(e){if(pH.test(e)){var t=Number(e);if(t>=uL&&t<=aT)return t}return null},$l=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw Jt("Exception was thrown by user callback.",n),t},Math.floor(0))}},vH=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},If=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gH=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){Jt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mH=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(t)},e}(),kf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uT="5",lL="v",cL="s",fL="r",hL="f",dL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pL="ls",yH="p",J1="ac",vL="websocket",gL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lT=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ia.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ia.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function _H(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function mL(e,t,n){q(typeof t=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");var r;if(t===vL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===gL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);_H(e)&&(n.ns=e.namespace);var i=[];return Pt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wH=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),cr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return zD(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vw={},gw={};function cT(e){var t=e.toString();return vw[t]||(vw[t]=new wH),vw[t]}function EH(e,t){var n=e.toString();return gw[n]||(gw[n]=t()),gw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bH=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&$l(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RR="start",TH="close",SH="pLPCommand",IH="pRTLPCB",yL="id",_L="pw",wL="ser",kH="cb",CH="seg",NH="ts",AH="d",RH="dframe",EL=1870,bL=30,xH=EL-bL,PH=25e3,OH=3e4,fT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jh(t),this.stats_=cT(n),this.urlFn=function(h){return c.appCheckToken&&(h[J1]=c.appCheckToken),mL(n,gL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bH(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(OH)),lH(function(){if(!r.isClosed_){r.scriptTagHolder=new DH(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Qt(a,5),h=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===RR)r.id=p,r.password=v;else if(h===TH)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Qt(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[RR]="t",i[wL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[kH]=r.scriptTagHolder.uniqueCallbackIdentifier),i[lL]=uT,r.transportSessionId&&(i[cL]=r.transportSessionId),r.lastSessionId&&(i[pL]=r.lastSessionId),r.applicationId&&(i[yH]=r.applicationId),r.appCheckToken&&(i[J1]=r.appCheckToken),typeof location<"u"&&location.hostname&&dL.test(location.hostname)&&(i[fL]=hL);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fH()&&!hH()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=qD(n),i=sL(r,xH),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[RH]="t",r[yL]=t,r[_L]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Nt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),DH=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rL(),window[SH+this.uniqueCallbackIdentifier]=t,window[IH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Ft("frame writing exception"),c.stack&&Ft(c.stack),Ft(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Ft("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[yL]=this.myID,t[_L]=this.myPW,t[wL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+bL+r.length<=EL){var a=this.pendingSegs.shift();r=r+"&"+CH+i+"="+a.seg+"&"+NH+i+"="+a.ts+"&"+AH+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(PH)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Ft("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LH=16384,MH=45e3,Zv=null;typeof MozWebSocket<"u"?Zv=MozWebSocket:typeof WebSocket<"u"&&(Zv=WebSocket);var Zs=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jh(this.connId),this.stats_=cT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[lL]=uT,typeof location<"u"&&location.hostname&&dL.test(location.hostname)&&(s[fL]=hL),n&&(s[cL]=n),r&&(s[pL]=r),i&&(s[J1]=i),mL(t,vL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ia.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!KD()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Zv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Zv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ia.isInMemoryStorage||ia.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ia.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=ih(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Nt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=sL(n,LH);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(MH))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FH=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[fT,Zs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Zs&&Zs.isAvailable(),s=i&&!Zs.previouslyFailed();if(t.webSocketOnly&&(i||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zs];else{var a=this.transports_=[];try{for(var l=$t(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UH=6e4,jH=5e3,BH=10*1024,VH=100*1024,mw="t",xR="d",$H="s",PR="r",qH="e",OR="o",DR="a",LR="n",MR="p",zH="h",TL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jh("c:"+this.id+":"),this.transportManager_=new FH(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=If(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>VH?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>BH?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(mw in t){var n=t[mw];n===DR?this.upgradeIfSecondaryHealthy_():n===PR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Jc("t",t),r=Jc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Jc("t",t),r=Jc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Jc(mw,t);if(xR in t){var r=t[xR];if(n===zH)this.onHandshake_(r);else if(n===LR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$H?this.onConnectionShutdown_(r):n===PR?this.onReset_(r):n===qH?X1("Server Error: "+r):n===OR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):X1("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uT!==r&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),If(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(UH))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):If(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(jH))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=pe([],Qt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){q(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FR=function(e){G(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!eT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(IL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UR=32,jR=768,Oe=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Re(){return new Oe("")}function ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ls(e){return e.pieces_.length-e.pieceNum_}function je(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Oe(e.pieces_,t)}function hT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function HH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function oh(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function kL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Oe(t,0)}function Ye(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Oe)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Oe(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function Nn(e,t){var n=ve(e),r=ve(t);if(n===null)return t;if(n===r)return Nn(je(e),je(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function WH(e,t){for(var n=oh(e,0),r=oh(t,0),i=0;i<n.length&&i<r.length;i++){var s=Va(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function dT(e,t){if(ls(e)!==ls(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Tr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ls(e)>ls(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var KH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=oh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=im(this.parts_[r]);CL(this)}return e}();function GH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=im(t),CL(e)}function QH(e){var t=e.parts_.pop();e.byteLength_-=im(t),e.parts_.length>0&&(e.byteLength_-=1)}function CL(e){if(e.byteLength_>jR)throw new Error(e.errorPrefix_+"has a key path longer than "+jR+" bytes ("+e.byteLength_+").");if(e.parts_.length>UR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+UR+") or object contains a cycle "+Xs(e))}function Xs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YH=function(e){G(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return q(n==="visible","Unknown event type: "+n),[this.visible_]},t}(IL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc=1e3,XH=60*5*1e3,JH=3*1e3,BR=30*1e3,ZH=1.3,e8=3e4,t8="server_kill",VR=3,pa=function(e){G(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=jh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=Zc,p.maxReconnectDelay_=XH,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!KD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return YH.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&FR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Nt(a)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new jt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},JH),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&cr(n,"w")){var i=Ia(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Jt("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||_z(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=BR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=yz(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Nt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):X1("Unrecognized action received from server: "+Nt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>e8&&(this.reconnectDelay_=Zc),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ZH)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,S,C=this;return N(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(T){q(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(T)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=Qt.apply(void 0,[b.sent(),2]),y=m[0],w=m[1],l?Ft("getToken() completed but was canceled"):(Ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new TL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){Jt(T+" ("+C.repoInfo_.toString()+")"),C.interrupt(t8)},a)),[3,4];case 3:return S=b.sent(),this.log_("Failed to get token: "+S),l||(this.repoInfo_.nodeAdmin&&Jt(S),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],G1(this.interruptReasons_)&&(this.reconnectDelay_=Zc,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return sT(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Oe(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Ft("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VR&&(this.reconnectDelay_=BR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Ft("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=$t(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,$t(c.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+eL.replace(/\./g,"-")]=1,eT()?n["framework.cordova"]=1:WD()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=FR.getInstance().currentlyOnline();return G1(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(SL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sm=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new be(co,t),i=new be(co,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return be.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp,NL=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Lp},set:function(n){Lp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Va(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Bl("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return be.MIN},t.prototype.maxPost=function(){return new be(Oi,Lp)},t.prototype.makePost=function(n,r){return q(typeof n=="string","KeyIndex indexValue must always be a string."),new be(n,Lp)},t.prototype.toString=function(){return".key"},t}(sm),Ci=new NL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Xr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Zi.EMPTY_NODE,this.right=s??Zi.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Zi.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Zi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),n8=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Xr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Zi=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Xr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Mp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Mp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Mp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Mp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new n8,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(e,t){return Va(e.name,t.name)}function pT(e,t){return Va(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z1;function i8(e){Z1=e}var AL=function(e){return typeof e=="number"?"number:"+aL(e):"string:"+e},RL=function(e){if(e.isLeafNode()){var t=e.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&cr(t,".sv"),"Priority must be a string or number.")}else q(e===Z1||e.isEmpty(),"priority of unexpected type.");q(e===Z1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $R,dl=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return $R},set:function(t){$R=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ge(t)?this:ve(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ve(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||ls(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+AL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=aL(this.value_):t+=this.value_,this.lazyHash_=iL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return q(i>=0,"Unknown leaf type: "+n),q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL,PL;function o8(e){xL=e}function s8(e){PL=e}var a8=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Va(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return be.MIN},t.prototype.maxPost=function(){return new be(Oi,new dl("[PRIORITY-POST]",PL))},t.prototype.makePost=function(n,r){var i=xL(n);return new be(r,new dl("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(sm),$e=new a8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u8=Math.log(2),l8=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/u8,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),eg=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,v,m;if(p===0)return null;if(p===1)return v=e[c],m=n?n(v):v,new Xr(m,v.node,Xr.BLACK,null,null);var y=parseInt(p/2,10)+c,w=i(c,y),S=i(y+1,h);return v=e[y],m=n?n(v):v,new Xr(m,v.node,Xr.BLACK,w,S)},s=function(c){for(var h=null,p=null,v=e.length,m=function(b,T){var I=v-b,P=v;v-=b;var L=i(I+1,P),O=e[I],B=n?n(O):O;y(new Xr(B,O.node,T,null,L))},y=function(b){h?(h.left=b,h=b):(p=b,h=b)},w=0;w<c.count;++w){var S=c.nextBitIsOne(),C=Math.pow(2,c.count-(w+1));S?m(C,Xr.BLACK):(m(C,Xr.BLACK),m(C,Xr.RED))}return p},a=new l8(e.length),l=s(a);return new Zi(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yw,Su={},tg=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return q(Su&&$e,"ChildrenNode.ts has not been loaded"),yw=yw||new e({".priority":Su},{".priority":$e}),yw},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Ia(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Zi?n:null},e.prototype.hasIndex=function(t){return cr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){q(t!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(be.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=eg(r,t.getCompare()):l=Su;var c=t.toString(),h=ie({},this.indexSet_);h[c]=t;var p=ie({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Yv(this.indexes_,function(s,a){var l=Ia(r.indexSet_,a);if(q(l,"Missing index implementation for "+a),s===Su)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(be.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),eg(c,l.getCompare())}else return Su;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new be(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Yv(this.indexes_,function(i){if(i===Su)return i;var s=n.get(t.name);return s?i.remove(new be(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef,fe=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RL(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ef||(ef=new e(new Zi(pT),null,tg.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ef},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?ef:n},e.prototype.getChild=function(t){var n=ve(t);return n===null?this:this.getImmediateChild(n).getChild(je(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(q(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new be(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?ef:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ve(t);if(r===null)return n;q(ve(t)!==".priority"||ls(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(je(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild($e,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+AL(this.getPriority().val())+":"),this.forEachChild($e,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":iL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new be(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new be(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new be(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,be.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,be.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bh?-1:0},e.prototype.withIndex=function(t){if(t===Ci||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Ci||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator($e),i=n.getIterator($e),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Ci?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),c8=function(e){G(t,e);function t(){return e.call(this,new Zi(pT),fe.EMPTY_NODE,tg.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return fe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(fe),Bh=new c8;Object.defineProperties(be,{MIN:{value:new be(co,fe.EMPTY_NODE)},MAX:{value:new be(Oi,Bh)}});NL.__EMPTY_NODE=fe.EMPTY_NODE;dl.__childrenNodeConstructor=fe;i8(Bh);s8(Bh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f8=!0;function et(e,t){if(t===void 0&&(t=null),e===null)return fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new dl(n,et(t))}if(!(e instanceof Array)&&f8){var r=[],i=!1,s=e;if(Pt(s,function(h,p){if(h.substring(0,1)!=="."){var v=et(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new be(h,v)))}}),r.length===0)return fe.EMPTY_NODE;var a=eg(r,r8,function(h){return h.name},pT);if(i){var l=eg(r,$e.getCompare());return new fe(a,et(t),new tg({".priority":l},{".priority":$e}))}else return new fe(a,et(t),tg.Default)}else{var c=fe.EMPTY_NODE;return Pt(e,function(h,p){if(cr(e,h)&&h.substring(0,1)!=="."){var v=et(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(et(t))}}o8(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vT=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,q(!ge(n)&&ve(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Va(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=et(n),s=fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new be(r,s)},t.prototype.maxPost=function(){var n=fe.EMPTY_NODE.updateChild(this.indexPath_,Bh);return new be(Oi,n)},t.prototype.toString=function(){return oh(this.indexPath_,0).join("/")},t}(sm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h8=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Va(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return be.MIN},t.prototype.maxPost=function(){return be.MAX},t.prototype.makePost=function(n,r){var i=et(n);return new be(r,i)},t.prototype.toString=function(){return".value"},t}(sm),gT=new h8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eE="-",OL="z",DL=786,d8=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=pl.charAt(n%64),n=Math.floor(n/64);q(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=pl.charAt(t[i]);return q(a.length===20,"nextPushId: Length should be 20."),a}}(),qR=function(e){if(e===""+aT)return eE;var t=Jv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<DL)return n.push(eE),n.join("");for(var i=n.length-1;i>=0&&n[i]===OL;)i--;if(i===-1)return Oi;var s=n[i],a=pl.charAt(pl.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},zR=function(e){if(e===""+uL)return co;var t=Jv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===eE?n.length===1?""+aT:(delete n[n.length-1],n.join("")):(n[n.length-1]=pl.charAt(pl.indexOf(n[n.length-1])-1),n.join("")+OL.repeat(DL-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(e){return{type:"value",snapshotNode:e}}function vl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ah(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function p8(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(sh(n,l)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(vl(n,r)):a.trackChildChange(ah(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild($e,function(i,s){n.hasChild(i)||r.trackChildChange(sh(i,s))}),n.isLeafNode()||n.forEachChild($e,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(ah(i,s,a))}else r.trackChildChange(vl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?fe.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(){function e(t){this.indexedFilter_=new mT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new be(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);var s=this;return n.forEachChild($e,function(a,l){s.matches(new be(a,l))||(i=i.updateImmediateChild(a,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v8=function(){function e(t){this.rangedFilter_=new ML(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new be(n,r))||(r=fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(C,b){return m(b,C)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(T,I){return l(I,T)}}else a=this.index_.getCompare();var c=t;q(c.numChildren()===this.limit_,"");var h=new be(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),S=v&&!r.isEmpty()&&w>=0;if(S)return s!=null&&s.trackChildChange(ah(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(sh(n,m));var C=c.updateImmediateChild(n,fe.EMPTY_NODE),b=y!=null&&this.rangedFilter_.matches(y);return b?(s!=null&&s.trackChildChange(vl(y.name,y.node)),C.updateImmediateChild(y.name,y.node)):C}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(sh(p.name,p.node)),s.trackChildChange(vl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,fe.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:co},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===$e},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function g8(e){return e.loadsAllData()?new mT(e.getIndex()):e.hasLimit()?new v8(e):new ML(e)}function m8(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function y8(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function tE(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _8(e,t,n){var r;if(e.index_===Ci)typeof t=="string"&&(t=qR(t)),r=tE(e,t,n);else{var i=void 0;n==null?i=Oi:i=qR(n),r=tE(e,t,i)}return r.startAfterSet_=!0,r}function nE(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function w8(e,t,n){var r,i;return e.index_===Ci?(typeof t=="string"&&(t=zR(t)),i=nE(e,t,n)):(n==null?r=co:r=zR(n),i=nE(e,t,r)),i.endBeforeSet_=!0,i}function am(e,t){var n=e.copy();return n.index_=t,n}function HR(e){var t={};if(e.isDefault())return t;var n;return e.index_===$e?n="$priority":e.index_===gT?n="$value":e.index_===Ci?n="$key":(q(e.index_ instanceof vT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Nt(n),e.startSet_&&(t.startAt=Nt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Nt(e.indexStartName_))),e.endSet_&&(t.endAt=Nt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Nt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function WR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==$e&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E8=function(e){G(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=jh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=HR(n._queryParams);this.restRequest_(l+".json",p,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),Ia(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=HR(n._queryParams),s=n._path.toString(),a=new jt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Qt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+wz(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=ih(v.responseText)}catch{Jt("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&Jt("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(SL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b8=function(){function e(){this.rootNode_=fe.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){return{value:null,children:new Map}}function ql(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ve(t);e.children.has(r)||e.children.set(r,ng());var i=e.children.get(r);t=je(t),ql(i,t,n)}}function rE(e,t){if(ge(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild($e,function(s,a){ql(e,new Oe(s),a)}),rE(e,t)}else if(e.children.size>0){var r=ve(t);if(t=je(t),e.children.has(r)){var i=rE(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function iE(e,t,n){e.value!==null?n(t,e.value):T8(e,function(r,i){var s=new Oe(t.toString()+"/"+r);iE(i,s,n)})}function T8(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ie({},t);return this.last_&&Pt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KR=10*1e3,S8=30*1e3,I8=5*60*1e3,k8=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new UL(t);var r=KR+(S8-KR)*Math.random();If(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Pt(n,function(s,a){a>0&&cr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),If(this.reportStats_.bind(this),Math.floor(Math.random()*2*I8))},e}();function C8(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ti||(ti={}));function yT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _T(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N8=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ti.ACK_USER_WRITE,this.source=yT()}return e.prototype.operationForChild=function(t){if(ge(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Oe(t));return new e(Re(),n,this.revert)}else return q(ve(this.path)===t,"operationForChild called for unrelated child."),new e(je(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL=function(){function e(t,n){this.source=t,this.path=n,this.type=ti.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,Re()):new e(this.source,je(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ti.OVERWRITE}return e.prototype.operationForChild=function(t){return ge(this.path)?new e(this.source,Re(),this.snap.getImmediateChild(t)):new e(this.source,je(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ET=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ti.MERGE}return e.prototype.operationForChild=function(t){if(ge(this.path)){var n=this.children.subtree(new Oe(t));return n.isEmpty()?null:n.value?new um(this.source,Re(),n.value):new e(this.source,Re(),n)}else return q(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,je(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(ge(t))return this.isFullyInitialized()&&!this.filtered_;var n=ve(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A8=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function R8(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(p8(a.childName,a.snapshotNode))}),tf(e,i,"child_removed",t,r,n),tf(e,i,"child_added",t,r,n),tf(e,i,"child_moved",s,r,n),tf(e,i,"child_changed",t,r,n),tf(e,i,"value",t,r,n),i}function tf(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return P8(e,l,c)}),a.forEach(function(l){var c=x8(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function x8(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function P8(e,t,n){if(t.childName==null||n.childName==null)throw Bl("Should only compare child_ events.");var r=new be(t.childName,t.snapshotNode),i=new be(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(e,t){return{eventCache:e,serverCache:t}}function Cf(e,t,n,r){return lm(new cs(t,n,r),e.serverCache)}function BL(e,t,n,r){return lm(e.eventCache,new cs(t,n,r))}function rg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ka(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _w,O8=function(){return _w||(_w=new Zi(cH)),_w},fr=function(){function e(t,n){n===void 0&&(n=O8()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Pt(t,function(r,i){n=n.set(new Oe(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(ge(t))return null;var r=ve(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(je(t),n);if(s!=null){var a=Ye(new Oe(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(ge(t))return this;var n=ve(t),r=this.children.get(n);return r!==null?r.subtree(je(t)):new e(null)},e.prototype.set=function(t,n){if(ge(t))return new e(n,this.children);var r=ve(t),i=this.children.get(r)||new e(null),s=i.set(je(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(ge(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ve(t),r=this.children.get(n);if(r){var i=r.remove(je(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(ge(t))return this.value;var n=ve(t),r=this.children.get(n);return r?r.get(je(t)):null},e.prototype.setTree=function(t,n){if(ge(t))return n;var r=ve(t),i=this.children.get(r)||new e(null),s=i.setTree(je(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Re(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Ye(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Re(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(ge(t))return null;var s=ve(t),a=this.children.get(s);return a?a.findOnPath_(je(t),Ye(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Re(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(ge(t))return this;this.value&&r(n,this.value);var i=ve(t),s=this.children.get(i);return s?s.foreachOnPath_(je(t),Ye(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Re(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Ye(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new fr(null))},e}();function Nf(e,t,n){if(ge(t))return new ro(new fr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Nn(i,t);return s=s.updateChild(a,n),new ro(e.writeTree_.set(i,s))}else{var l=new fr(n),c=e.writeTree_.setTree(t,l);return new ro(c)}}function oE(e,t,n){var r=e;return Pt(n,function(i,s){r=Nf(r,Ye(t,i),s)}),r}function GR(e,t){if(ge(t))return ro.empty();var n=e.writeTree_.setTree(t,new fr(null));return new ro(n)}function sE(e,t){return $a(e,t)!=null}function $a(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Nn(n.path,t)):null}function QR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($e,function(r,i){t.push(new be(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new be(r,i.value))}),t}function ns(e,t){if(ge(t))return e;var n=$a(e,t);return n!=null?new ro(new fr(n)):new ro(e.writeTree_.subtree(t))}function aE(e){return e.writeTree_.isEmpty()}function gl(e,t){return VL(Re(),e.writeTree_,t)}function VL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=VL(Ye(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ye(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(e,t){return HL(t,e)}function D8(e,t,n,r,i){q(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Nf(e.visibleWrites,t,n)),e.lastWriteId=r}function L8(e,t,n,r){q(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=oE(e.visibleWrites,t,n),e.lastWriteId=r}function M8(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function F8(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});q(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&U8(l,r.path)?i=!1:Tr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return j8(e),!0;if(r.snap)e.visibleWrites=GR(e.visibleWrites,r.path);else{var c=r.children;Pt(c,function(h){e.visibleWrites=GR(e.visibleWrites,Ye(r.path,h))})}return!0}else return!1}function U8(e,t){if(e.snap)return Tr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Tr(Ye(e.path,n),t))return!0;return!1}function j8(e){e.visibleWrites=$L(e.allWrites,B8,Re()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function B8(e){return e.visible}function $L(e,t,n){for(var r=ro.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)Tr(n,a)?(l=Nn(n,a),r=Nf(r,l,s.snap)):Tr(a,n)&&(l=Nn(a,n),r=Nf(r,Re(),s.snap.getChild(l)));else if(s.children){if(Tr(n,a))l=Nn(n,a),r=oE(r,l,s.children);else if(Tr(a,n))if(l=Nn(a,n),ge(l))r=oE(r,Re(),s.children);else{var c=Ia(s.children,ve(l));if(c){var h=c.getChild(je(l));r=Nf(r,Re(),h)}}}else throw Bl("WriteRecord should have .snap or .children")}}return r}function qL(e,t,n,r,i){if(!r&&!i){var s=$a(e.visibleWrites,t);if(s!=null)return s;var a=ns(e.visibleWrites,t);if(aE(a))return n;if(n==null&&!sE(a,Re()))return null;var l=n||fe.EMPTY_NODE;return gl(a,l)}else{var c=ns(e.visibleWrites,t);if(!i&&aE(c))return n;if(!i&&n==null&&!sE(c,Re()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Tr(m.path,t)||Tr(t,m.path))},p=$L(e.allWrites,h,t),l=n||fe.EMPTY_NODE;return gl(p,l)}}function V8(e,t,n){var r=fe.EMPTY_NODE,i=$a(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild($e,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=ns(e.visibleWrites,t);return n.forEachChild($e,function(l,c){var h=gl(ns(s,new Oe(l)),c);r=r.updateImmediateChild(l,h)}),QR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=ns(e.visibleWrites,t);return QR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function $8(e,t,n,r,i){q(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Ye(t,n);if(sE(e.visibleWrites,s))return null;var a=ns(e.visibleWrites,s);return aE(a)?i.getChild(n):gl(a,i.getChild(n))}function q8(e,t,n,r){var i=Ye(t,n),s=$a(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=ns(e.visibleWrites,i);return gl(a,r.getNode().getImmediateChild(n))}else return null}function z8(e,t){return $a(e.visibleWrites,t)}function H8(e,t,n,r,i,s,a){var l,c=ns(e.visibleWrites,t),h=$a(c,Re());if(h!=null)l=h;else if(n!=null)l=gl(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],v=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=m.getNext();return p}else return[]}function W8(){return{visibleWrites:ro.empty(),allWrites:[],lastWriteId:-1}}function ig(e,t,n,r){return qL(e.writeTree,e.treePath,t,n,r)}function bT(e,t){return V8(e.writeTree,e.treePath,t)}function YR(e,t,n,r){return $8(e.writeTree,e.treePath,t,n,r)}function og(e,t){return z8(e.writeTree,Ye(e.treePath,t))}function K8(e,t,n,r,i,s){return H8(e.writeTree,e.treePath,t,n,r,i,s)}function TT(e,t,n){return q8(e.writeTree,e.treePath,t,n)}function zL(e,t){return HL(Ye(e.treePath,t),e.writeTree)}function HL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G8=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ah(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,vl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ah(r,t.snapshotNode,i.oldSnap));else throw Bl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q8=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),WL=new Q8,ST=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TT(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ka(this.viewCache_),s=K8(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(e){return{filter:e}}function X8(e,t){q(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function J8(e,t,n,r,i){var s=new G8,a,l;if(n.type===ti.OVERWRITE){var c=n;c.source.fromUser?a=uE(e,t,c.path,c.snap,r,i,s):(q(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!ge(c.path),a=sg(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===ti.MERGE){var h=n;h.source.fromUser?a=eW(e,t,h.path,h.children,r,i,s):(q(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=lE(e,t,h.path,h.children,r,i,l,s))}else if(n.type===ti.ACK_USER_WRITE){var p=n;p.revert?a=rW(e,t,p.path,r,i,s):a=tW(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===ti.LISTEN_COMPLETE)a=nW(e,t,n.path,r,s);else throw Bl("Unknown operation type: "+n.type);var v=s.getChanges();return Z8(t,a,v),{viewCache:a,changes:v}}function Z8(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rg(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(LL(rg(t)))}}function KL(e,t,n,r,i,s){var a=t.eventCache;if(og(r,n)!=null)return t;var l=void 0,c=void 0;if(ge(n))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=ka(t),p=h instanceof fe?h:fe.EMPTY_NODE,v=bT(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=ig(r,ka(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=ve(n);if(y===".priority"){q(ls(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var S=YR(r,n,w,c);S!=null?l=e.filter.updatePriority(w,S):l=a.getNode()}else{var C=je(n),b=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var T=YR(r,n,a.getNode(),c);T!=null?b=a.getNode().getImmediateChild(y).updateChild(C,T):b=a.getNode().getImmediateChild(y)}else b=TT(r,y,t.serverCache);b!=null?l=e.filter.updateChild(a.getNode(),y,b,C,i,s):l=a.getNode()}}return Cf(t,l,a.isFullyInitialized()||ge(n),e.filter.filtersNodes())}function sg(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(ge(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),v,null)}else{var m=ve(n);if(!c.isCompleteForPath(n)&&ls(n)>1)return t;var y=je(n),w=c.getNode().getImmediateChild(m),S=w.updateChild(y,r);m===".priority"?h=p.updatePriority(c.getNode(),S):h=p.updateChild(c.getNode(),m,S,y,WL,null)}var C=BL(t,h,c.isFullyInitialized()||ge(n),p.filtersNodes()),b=new ST(i,C,s);return KL(e,C,n,i,b,l)}function uE(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new ST(i,t,s);if(ge(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=Cf(t,h,!0,e.filter.filtersNodes());else{var v=ve(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=Cf(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=je(n),y=l.getNode().getImmediateChild(v),w=void 0;if(ge(m))w=r;else{var S=p.getCompleteChild(v);S!=null?hT(m)===".priority"&&S.getChild(kL(m)).isEmpty()?w=S:w=S.updateChild(m,r):w=fe.EMPTY_NODE}if(y.equals(w))c=t;else{var C=e.filter.updateChild(l.getNode(),v,w,m,p,a);c=Cf(t,C,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function XR(e,t){return e.eventCache.isCompleteForChild(t)}function eW(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=Ye(n,c);XR(t,ve(p))&&(l=uE(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=Ye(n,c);XR(t,ve(p))||(l=uE(e,l,p,h,i,s,a))}),l}function JR(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function lE(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;ge(n)?h=r:h=new fr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=JR(e,y,m);c=sg(e,c,new Oe(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!p.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),S=JR(e,w,m);c=sg(e,c,new Oe(v),S,i,s,a,l)}}),c}function tW(e,t,n,r,i,s,a){if(og(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return sg(e,t,n,c.getNode().getChild(n),i,s,l,a);if(ge(n)){var h=new fr(null);return c.getNode().forEachChild(Ci,function(v,m){h=h.set(new Oe(v),m)}),lE(e,t,n,h,i,s,l,a)}else return t}else{var p=new fr(null);return r.foreach(function(v,m){var y=Ye(n,v);c.isCompleteForPath(y)&&(p=p.set(v,c.getNode().getChild(y)))}),lE(e,t,n,p,i,s,l,a)}}function nW(e,t,n,r,i){var s=t.serverCache,a=BL(t,s.getNode(),s.isFullyInitialized()||ge(n),s.isFiltered());return KL(e,a,n,r,WL,i)}function rW(e,t,n,r,i,s){var a;if(og(r,n)!=null)return t;var l=new ST(r,t,i),c=t.eventCache.getNode(),h=void 0;if(ge(n)||ve(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=ig(r,ka(t));else{var v=t.serverCache.getNode();q(v instanceof fe,"serverChildren would be complete if leaf node"),p=bT(r,v)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var m=ve(n),y=TT(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,je(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,fe.EMPTY_NODE,je(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ig(r,ka(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||og(r,Re())!=null,Cf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iW=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new mT(r.getIndex()),s=g8(r);this.processor_=Y8(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(fe.EMPTY_NODE,l.getNode(),null),p=new cs(c,a.isFullyInitialized(),i.filtersNodes()),v=new cs(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=lm(v,p),this.eventGenerator_=new A8(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function oW(e){return e.viewCache_.serverCache.getNode()}function sW(e){return rg(e.viewCache_)}function aW(e,t){var n=ka(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(ve(t)).isEmpty())?n.getChild(t):null}function ZR(e){return e.eventRegistrations_.length===0}function uW(e,t){e.eventRegistrations_.push(t)}function ex(e,t,n){var r=[];if(n){q(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function tx(e,t,n,r){t.type===ti.MERGE&&t.source.queryId!==null&&(q(ka(e.viewCache_),"We should always have a full cache before handling merges"),q(rg(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=J8(e.processor_,i,t,n,r);return X8(e.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,GL(e,s.changes,s.viewCache.eventCache.getNode(),null)}function lW(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild($e,function(s,a){r.push(vl(s,a))})}return n.isFullyInitialized()&&r.push(LL(n.getNode())),GL(e,r,n.getNode(),t)}function GL(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return R8(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag,QL=function(){function e(){this.views=new Map}return e}();function cW(e){q(!ag,"__referenceConstructor has already been defined"),ag=e}function fW(){return q(ag,"Reference.ts has not been loaded"),ag}function hW(e){return e.views.size===0}function IT(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return q(l!=null,"SyncTree gave us an op for an invalid query."),tx(l,t,n,r)}else{var c=[];try{for(var h=$t(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(tx(l,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function YL(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=ig(n,i?r:null),c=!1;l?c=!0:r instanceof fe?(l=bT(n,r),c=!1):(l=fe.EMPTY_NODE,c=!1);var h=lm(new cs(l,c,!1),new cs(r,i,!1));return new iW(t,h)}return a}function dW(e,t,n,r,i,s){var a=YL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),uW(a,n),lW(a,n)}function pW(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=fs(e);if(a==="default")try{for(var p=$t(e.views.entries()),v=p.next();!v.done;v=p.next()){var m=Qt(v.value,2),y=m[0],w=m[1];c=c.concat(ex(w,n,r)),ZR(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(S){i={error:S}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(ex(w,n,r)),ZR(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!fs(e)&&l.push(new(fW())(t._repo,t._path)),{removed:l,events:c}}function XL(e){var t,n,r=[];try{for(var i=$t(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function rs(e,t){var n,r,i=null;try{for(var s=$t(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||aW(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function JL(e,t){var n=t._queryParams;if(n.loadsAllData())return fm(e);var r=t._queryIdentifier;return e.views.get(r)}function ZL(e,t){return JL(e,t)!=null}function fs(e){return fm(e)!=null}function fm(e){var t,n;try{for(var r=$t(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ug;function vW(e){q(!ug,"__referenceConstructor has already been defined"),ug=e}function gW(){return q(ug,"Reference.ts has not been loaded"),ug}var mW=1,nx=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new fr(null),this.pendingWriteTree_=W8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function kT(e,t,n,r,i){return D8(e.pendingWriteTree_,t,n,r,i),i?zl(e,new um(yT(),t,n)):[]}function yW(e,t,n,r){L8(e.pendingWriteTree_,t,n,r);var i=fr.fromObject(n);return zl(e,new ET(yT(),t,i))}function Ko(e,t,n){n===void 0&&(n=!1);var r=M8(e.pendingWriteTree_,t),i=F8(e.pendingWriteTree_,t);if(i){var s=new fr(null);return r.snap!=null?s=s.set(Re(),!0):Pt(r.children,function(a){s=s.set(new Oe(a),!0)}),zl(e,new N8(r.path,s,n))}else return[]}function Vh(e,t,n){return zl(e,new um(_T(),t,n))}function _W(e,t,n){var r=fr.fromObject(n);return zl(e,new ET(_T(),t,r))}function wW(e,t){return zl(e,new jL(_T(),t))}function EW(e,t,n){var r=CT(e,n);if(r){var i=NT(r),s=i.path,a=i.queryId,l=Nn(s,t),c=new jL(wT(a),l);return AT(e,s,c)}else return[]}function cE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||ZL(s,t))){var l=pW(s,t,n,r);hW(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(T,I){return fs(I)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=IW(v),y=0;y<m.length;++y){var w=m[y],S=w.query,C=nM(e,w);e.listenProvider_.startListening(Af(S),lg(e,S),C.hashFn,C.onComplete)}}if(!p&&c.length>0&&!r)if(h){var b=null;e.listenProvider_.stopListening(Af(t),b)}else c.forEach(function(T){var I=e.queryToTagMap.get(dm(T));e.listenProvider_.stopListening(Af(T),I)});kW(e,c)}return a}function bW(e,t,n,r){var i=CT(e,r);if(i!=null){var s=NT(i),a=s.path,l=s.queryId,c=Nn(a,t),h=new um(wT(l),c,n);return AT(e,a,h)}else return[]}function TW(e,t,n,r){var i=CT(e,r);if(i){var s=NT(i),a=s.path,l=s.queryId,c=Nn(a,t),h=fr.fromObject(n),p=new ET(wT(l),c,h);return AT(e,a,p)}else return[]}function rx(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(S,C){var b=Nn(S,r);i=i||rs(C,b),s=s||fs(C)});var a=e.syncPointTree_.get(r);a?(s=s||fs(a),i=i||rs(a,Re())):(a=new QL,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=fe.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(S,C){var b=rs(C,Re());b&&(i=i.updateImmediateChild(S,b))})}var h=ZL(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=dm(t);q(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=CW();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var m=cm(e.pendingWriteTree_,r),y=dW(a,t,n,m,i,l);if(!h&&!s){var w=JL(a,t);y=y.concat(NW(e,t,w))}return y}function hm(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Nn(a,t),h=rs(l,c);if(h)return h});return qL(i,t,s,n,r)}function SW(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=Nn(h,n);r=r||rs(p,v)});var i=e.syncPointTree_.get(n);i?r=r||rs(i,Re()):(i=new QL,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new cs(r,!0,!1):null,l=cm(e.pendingWriteTree_,t._path),c=YL(i,t,l,s?a.getNode():fe.EMPTY_NODE,s);return sW(c)}function zl(e,t){return eM(t,e.syncPointTree_,null,cm(e.pendingWriteTree_,Re()))}function eM(e,t,n,r){if(ge(e.path))return tM(e,t,n,r);var i=t.get(Re());n==null&&i!=null&&(n=rs(i,Re()));var s=[],a=ve(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=zL(r,a);s=s.concat(eM(l,c,h,p))}return i&&(s=s.concat(IT(i,e,r,n))),s}function tM(e,t,n,r){var i=t.get(Re());n==null&&i!=null&&(n=rs(i,Re()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=zL(r,a),p=e.operationForChild(a);p&&(s=s.concat(tM(p,l,c,h)))}),i&&(s=s.concat(IT(i,e,r,n))),s}function nM(e,t){var n=t.query,r=lg(e,n);return{hashFn:function(){var i=oW(t)||fe.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?EW(e,n._path,r):wW(e,n._path);var s=dH(i,n);return cE(e,n,null,s)}}}function lg(e,t){var n=dm(t);return e.queryToTagMap.get(n)}function dm(e){return e._path.toString()+"$"+e._queryIdentifier}function CT(e,t){return e.tagToQueryMap.get(t)}function NT(e){var t=e.indexOf("$");return q(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Oe(e.substr(0,t))}}function AT(e,t,n){var r=e.syncPointTree_.get(t);q(r,"Missing sync point for query tag that we're tracking");var i=cm(e.pendingWriteTree_,t);return IT(r,n,i,null)}function IW(e){return e.fold(function(t,n,r){if(n&&fs(n)){var i=fm(n);return[i]}else{var s=[];return n&&(s=XL(n)),Pt(r,function(a,l){s=s.concat(l)}),s}})}function Af(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(gW())(e._repo,e._path):e}function kW(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=dm(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function CW(){return mW++}function NW(e,t,n){var r=t._path,i=lg(e,t),s=nM(e,n),a=e.listenProvider_.startListening(Af(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)q(!fs(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,m,y){if(!ge(v)&&m&&fs(m))return[fm(m).query];var w=[];return m&&(w=w.concat(XL(m).map(function(S){return S.query}))),Pt(y,function(S,C){w=w.concat(C)}),w}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(Af(p),lg(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AW=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),RW=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Ye(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return hm(this.syncTree_,this.path_)},e}(),xW=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ix=function(e,t,n){if(!e||typeof e!="object")return e;if(q(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return PW(e[".sv"],t,n);if(typeof e[".sv"]=="object")return OW(e[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},PW=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+e)}},OW=function(e,t,n){e.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);var i=t.node();if(q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},rM=function(e,t,n,r){return xT(t,new RW(n,e),r)},RT=function(e,t,n){return xT(e,new AW(t),n)};function xT(e,t,n){var r=e.getPriority().val(),i=ix(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=ix(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new dl(l,et(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new dl(i))),c.forEachChild($e,function(h,p){var v=xT(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function pm(e,t){for(var n=t instanceof Oe?t:new Oe(t),r=e,i=ve(n);i!==null;){var s=Ia(r.node.children,i)||{children:{},childCount:0};r=new PT(i,r,s),n=je(n),i=ve(n)}return r}function qa(e){return e.node.value}function OT(e,t){e.node.value=t,fE(e)}function iM(e){return e.node.childCount>0}function DW(e){return qa(e)===void 0&&!iM(e)}function vm(e,t){Pt(e.node.children,function(n,r){t(new PT(n,e,r))})}function oM(e,t,n,r){n&&!r&&t(e),vm(e,function(i){oM(i,t,!0,r)}),n&&r&&t(e)}function LW(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $h(e){return new Oe(e.parent===null?e.name:$h(e.parent)+"/"+e.name)}function fE(e){e.parent!==null&&MW(e.parent,e.name,e)}function MW(e,t,n){var r=DW(n),i=cr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,fE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,fE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FW=/[\[\].#$\/\u0000-\u001F\u007F]/,UW=/[\[\].#$\u0000-\u001F\u007F]/,ww=10*1024*1024,gm=function(e){return typeof e=="string"&&e.length!==0&&!FW.test(e)},sM=function(e){return typeof e=="string"&&e.length!==0&&!UW.test(e)},jW=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),sM(e)},uh=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!om(e)||e&&typeof e=="object"&&cr(e,".sv")},Di=function(e,t,n,r){r&&t===void 0||qh(Kn(e,"value"),t,n)},qh=function(e,t,n){var r=n instanceof Oe?new KH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Xs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Xs(r)+" with contents = "+t.toString());if(om(t))throw new Error(e+"contains "+t.toString()+" "+Xs(r));if(typeof t=="string"&&t.length>ww/3&&im(t)>ww)throw new Error(e+"contains a string greater than "+ww+" utf8 bytes "+Xs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Pt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!gm(a)))throw new Error(e+" contains an invalid key ("+a+") "+Xs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GH(r,a),qh(e,l,r),QH(r)}),i&&s)throw new Error(e+' contains ".value" child '+Xs(r)+" in addition to actual children.")}},BW=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=oh(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!gm(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(WH);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Tr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},aM=function(e,t,n,r){if(!(r&&t===void 0)){var i=Kn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Pt(t,function(a,l){var c=new Oe(a);if(qh(i,l,Ye(n,c)),hT(c)===".priority"&&!uh(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),BW(i,s)}},DT=function(e,t,n){if(!(n&&t===void 0)){if(om(t))throw new Error(Kn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uh(t))throw new Error(Kn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},VW=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Kn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zh=function(e,t,n,r){if(!(r&&n===void 0)&&!gm(n))throw new Error(Kn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},lh=function(e,t,n,r){if(!(r&&n===void 0)&&!sM(n))throw new Error(Kn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$W=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lh(e,t,n,r)},Sr=function(e,t){if(ve(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},uM=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!gm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jW(n))throw new Error(Kn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},qW=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Kn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zW=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function mm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!dT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function LT(e,t,n){mm(e,n),lM(e,function(r){return dT(r,t)})}function Or(e,t,n){mm(e,n),lM(e,function(r){return Tr(r,t)||Tr(t,r)})}function lM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(HW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function HW(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();da&&Ft("event: "+n.toString()),$l(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cM="repo_interrupt",WW=25,KW=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ng(),this.transactionQueueTree_=new PT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function GW(e,t,n){if(e.stats_=cT(e.repoInfo_),e.forceRestClient_||vH())e.server_=new E8(e.repoInfo_,function(r,i,s,a){ox(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return sx(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new pa(e.repoInfo_,t,function(r,i,s,a){ox(e,r,i,s,a)},function(r){sx(e,r)},function(r){YW(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=EH(e.repoInfo_,function(){return new k8(e.stats_,e.server_)}),e.infoData_=new b8,e.infoSyncTree_=new nx({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Vh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),MT(e,"connected",!1),e.serverSyncTree_=new nx({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Or(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function fM(e){var t=e.infoData_.getNode(new Oe(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Hh(e){return xW({timestamp:fM(e)})}function ox(e,t,n,r,i){e.dataUpdateCount++;var s=new Oe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Yv(n,function(m){return et(m)});a=TW(e.serverSyncTree_,s,l,i)}else{var c=et(n);a=bW(e.serverSyncTree_,s,c,i)}else if(r){var h=Yv(n,function(m){return et(m)});a=_W(e.serverSyncTree_,s,h)}else{var p=et(n);a=Vh(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=ml(e,s)),Or(e.eventQueue_,v,a)}function QW(e,t){e.interceptServerDataCallback_=t}function sx(e,t){MT(e,"connected",t),t===!1&&ZW(e)}function YW(e,t){Pt(t,function(n,r){MT(e,n,r)})}function MT(e,t,n){var r=new Oe("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);var s=Vh(e.infoSyncTree_,r,i);Or(e.eventQueue_,r,s)}function ym(e){return e.nextWriteId_++}function XW(e,t){var n=SW(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=et(r).withIndex(t._queryParams.getIndex()),s=Vh(e.serverSyncTree_,t._path,i);return LT(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Hl(e,"get for query "+Nt(t)+" failed: "+r),Promise.reject(new Error(r))})}function FT(e,t,n,r,i){Hl(e,"set",{path:t.toString(),value:n,priority:r});var s=Hh(e),a=et(n,r),l=hm(e.serverSyncTree_,t),c=RT(a,l,s),h=ym(e),p=kT(e.serverSyncTree_,t,c,h,!0);mm(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(m,y){var w=m==="ok";w||Jt("set at "+t+" failed: "+m);var S=Ko(e.serverSyncTree_,h,!w);Or(e.eventQueue_,t,S),hs(e,i,m,y)});var v=jT(e,t);ml(e,v),Or(e.eventQueue_,v,[])}function JW(e,t,n,r){Hl(e,"update",{path:t.toString(),value:n});var i=!0,s=Hh(e),a={};if(Pt(n,function(h,p){i=!1,a[h]=rM(Ye(t,h),et(p),e.serverSyncTree_,s)}),i)Ft("update() called with empty data.  Don't do anything."),hs(e,r,"ok",void 0);else{var l=ym(e),c=yW(e.serverSyncTree_,t,a,l);mm(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||Jt("update at "+t+" failed: "+h);var m=Ko(e.serverSyncTree_,l,!v),y=m.length>0?ml(e,t):t;Or(e.eventQueue_,y,m),hs(e,r,h,p)}),Pt(n,function(h){var p=jT(e,Ye(t,h));ml(e,p)}),Or(e.eventQueue_,t,[])}}function ZW(e){Hl(e,"onDisconnectEvents");var t=Hh(e),n=ng();iE(e.onDisconnect_,Re(),function(i,s){var a=rM(i,s,e.serverSyncTree_,t);ql(n,i,a)});var r=[];iE(n,Re(),function(i,s){r=r.concat(Vh(e.serverSyncTree_,i,s));var a=jT(e,i);ml(e,a)}),e.onDisconnect_=ng(),Or(e.eventQueue_,Re(),r)}function eK(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&rE(e.onDisconnect_,t),hs(e,n,r,i)})}function ax(e,t,n,r){var i=et(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&ql(e.onDisconnect_,t,i),hs(e,r,s,a)})}function tK(e,t,n,r,i){var s=et(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&ql(e.onDisconnect_,t,s),hs(e,i,a,l)})}function nK(e,t,n,r){if(G1(n)){Ft("onDisconnect().update() called with empty data.  Don't do anything."),hs(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Pt(n,function(a,l){var c=et(l);ql(e.onDisconnect_,Ye(t,a),c)}),hs(e,r,i,s)})}function rK(e,t,n){var r;ve(t._path)===".info"?r=rx(e.infoSyncTree_,t,n):r=rx(e.serverSyncTree_,t,n),LT(e.eventQueue_,t._path,r)}function hE(e,t,n){var r;ve(t._path)===".info"?r=cE(e.infoSyncTree_,t,n):r=cE(e.serverSyncTree_,t,n),LT(e.eventQueue_,t._path,r)}function hM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cM)}function iK(e){e.persistentConnection_&&e.persistentConnection_.resume(cM)}function oK(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new UL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Pt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function sK(e,t){e.stats_.incrementCounter(t),C8(e.statsReporter_,t)}function Hl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Ft.apply(void 0,pe([r],Qt(t)))}function hs(e,t,n,r){t&&$l(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function aK(e,t,n,r,i,s){Hl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:rL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=UT(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{qh("transaction failed: Data returned ",c,a.path),a.status=0;var h=pm(e.transactionQueueTree_,t),p=qa(h)||[];p.push(a),OT(h,p);var v=void 0;if(typeof c=="object"&&c!==null&&cr(c,".priority"))v=Ia(c,".priority"),q(uh(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=hm(e.serverSyncTree_,t)||fe.EMPTY_NODE;v=m.getPriority().val()}var y=Hh(e),w=et(c,v),S=RT(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=S,a.currentWriteId=ym(e);var C=kT(e.serverSyncTree_,t,S,a.currentWriteId,a.applyLocally);Or(e.eventQueue_,t,C),_m(e,e.transactionQueueTree_)}}function UT(e,t,n){return hm(e.serverSyncTree_,t,n)||fe.EMPTY_NODE}function _m(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||wm(e,t),qa(t)){var n=pM(e,t);q(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&uK(e,$h(t),n)}else iM(t)&&vm(t,function(i){_m(e,i)})}function uK(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=UT(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];q(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Nn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(m){Hl(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var w=[],S=function(b){n[b].status=2,y=y.concat(Ko(e.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&w.push(function(){return n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)}),n[b].unwatcher()},C=0;C<n.length;C++)S(C);wm(e,pm(e.transactionQueueTree_,t)),_m(e,e.transactionQueueTree_),Or(e.eventQueue_,t,y);for(var C=0;C<w.length;C++)$l(w[C])}else{if(m==="datastale")for(var C=0;C<n.length;C++)n[C].status===3?n[C].status=4:n[C].status=0;else{Jt("transaction at "+v.toString()+" failed: "+m);for(var C=0;C<n.length;C++)n[C].status=4,n[C].abortReason=m}ml(e,t)}},a)}function ml(e,t){var n=dM(e,t),r=$h(n),i=pM(e,n);return lK(e,i,r),r}function lK(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],v=Nn(n,p.path),m=!1,y;if(q(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)m=!0,y=p.abortReason,i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=WW)m=!0,y="maxretry",i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0));else{var w=UT(e,p.path,a);p.currentInputSnapshot=w;var S=t[h].update(w.val());if(S!==void 0){qh("transaction failed: Data returned ",S,p.path);var C=et(S),b=typeof S=="object"&&S!=null&&cr(S,".priority");b||(C=C.updatePriority(w.getPriority()));var T=p.currentWriteId,I=Hh(e),P=RT(C,w,I);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=P,p.currentWriteId=ym(e),a.splice(a.indexOf(T),1),i=i.concat(kT(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(Ko(e.serverSyncTree_,T,!0))}else m=!0,y="nodata",i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0))}Or(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(L){setTimeout(L,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);wm(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)$l(r[c]);_m(e,e.transactionQueueTree_)}}function dM(e,t){var n,r=e.transactionQueueTree_;for(n=ve(t);n!==null&&qa(r)===void 0;)r=pm(r,n),t=je(t),n=ve(t);return r}function pM(e,t){var n=[];return vM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function vM(e,t,n){var r=qa(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);vm(t,function(s){vM(e,s,n)})}function wm(e,t){var n=qa(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,OT(t,n.length>0?n:void 0)}vm(t,function(s){wm(e,s)})}function jT(e,t){var n=$h(dM(e,t)),r=pm(e.transactionQueueTree_,t);return LW(r,function(i){Ew(e,i)}),Ew(e,r),oM(r,function(i){Ew(e,i)}),n}function Ew(e,t){var n=qa(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(q(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(q(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ko(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?OT(t,void 0):n.length=s+1,Or(e.eventQueue_,$h(t),i);for(var a=0;a<r.length;a++)$l(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function fK(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=$t(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Jt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var dE=function(e,t){var n=hK(e),r=n.namespace;n.domain==="firebase.com"&&Pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uH();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Oe(n.pathString)}},hK=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=cK(e.substring(p,v)));var m=fK(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())},e}(),mM=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dK=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new jt;return eK(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Sr("OnDisconnect.remove",this._path);var t=new jt;return ax(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Sr("OnDisconnect.set",this._path),Di("OnDisconnect.set",t,this._path,!1);var n=new jt;return ax(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Sr("OnDisconnect.setWithPriority",this._path),Di("OnDisconnect.setWithPriority",t,this._path,!1),DT("OnDisconnect.setWithPriority",n,!1);var r=new jt;return tK(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Sr("OnDisconnect.update",this._path),aM("OnDisconnect.update",t,this._path,!1);var n=new jt;return nK(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return ge(this._path)?null:hT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Fi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=WR(this._queryParams),n=sT(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return WR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=de(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=dT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+HH(this._path)},e}();function Em(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ys(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ci){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==co)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Oi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===$e){if(t!=null&&!uh(t)||n!=null&&!uh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(q(e.getIndex()instanceof vT||e.getIndex()===gT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bm(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Fi=function(e){G(t,e);function t(n,r){return e.call(this,n,r,new FL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=kL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Lr),Tm=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Oe(t),r=Ca(this.ref,t);return new e(this._node.getChild(n),r,$e)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,Ca(n.ref,i),$e))})},e.prototype.hasChild=function(t){var n=new Oe(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function _M(e,t){return e=de(e),e._checkNotDeleted("ref"),t!==void 0?Ca(e._root,t):e._root}function ux(e,t){e=de(e),e._checkNotDeleted("refFromURL");var n=dE(t,e._repo.repoInfo_.nodeAdmin);uM("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Pi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),_M(e,n.path.toString())}function Ca(e,t){return e=de(e),ve(e._path)===null?$W("child","path",t,!1):lh("child","path",t,!1),new Fi(e._repo,Ye(e._path,t))}function pK(e,t){e=de(e),Sr("push",e._path),Di("push",t,e._path,!0);var n=fM(e._repo),r=d8(n),i=Ca(e,r),s=Ca(e,r),a;return t!=null?a=BT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function vK(e){return Sr("remove",e._path),BT(e,null)}function BT(e,t){e=de(e),Sr("set",e._path),Di("set",t,e._path,!1);var n=new jt;return FT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function gK(e,t){e=de(e),Sr("setPriority",e._path),DT("setPriority",t,!1);var n=new jt;return FT(e._repo,Ye(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function mK(e,t,n){if(Sr("setWithPriority",e._path),Di("setWithPriority",t,e._path,!1),DT("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new jt;return FT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function yK(e,t){aM("update",t,e._path,!1);var n=new jt;return JW(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function _K(e){return e=de(e),XW(e._repo,e).then(function(t){return new Tm(t,new Fi(e._repo,e._path),e._queryParams.getIndex())})}var wM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new gM("value",this,new Tm(t.snapshotNode,new Fi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new mM(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),EM=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new mM(this,t,n):null},e.prototype.createEvent=function(t,n){q(t.childName!=null,"Child events should have a childName.");var r=Ca(new Fi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new gM(t.type,this,new Tm(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Wh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,v){hE(e._repo,e,h),a(p,v)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new yM(n,s||void 0),h=t==="value"?new wM(c):new EM(t,c);return rK(e._repo,e,h),function(){return hE(e._repo,e,h)}}function pE(e,t,n,r){return Wh(e,"value",t,n,r)}function lx(e,t,n,r){return Wh(e,"child_added",t,n,r)}function cx(e,t,n,r){return Wh(e,"child_changed",t,n,r)}function fx(e,t,n,r){return Wh(e,"child_moved",t,n,r)}function hx(e,t,n,r){return Wh(e,"child_removed",t,n,r)}function dx(e,t,n){var r=null,i=n?new yM(n):null;t==="value"?r=new wM(i):t&&(r=new EM(t,i)),hE(e._repo,e,r)}var ui=function(){function e(){}return e}(),bM=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Di("endAt",this._value,n._path,!0);var r=nE(n._queryParams,this._value,this._key);if(bm(r),ys(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lr(n._repo,n._path,r,n._orderByCalled)},t}(ui);function wK(e,t){return zh("endAt","key",t,!0),new bM(e,t)}var EK=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Di("endBefore",this._value,n._path,!1);var r=w8(n._queryParams,this._value,this._key);if(bm(r),ys(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lr(n._repo,n._path,r,n._orderByCalled)},t}(ui);function bK(e,t){return zh("endBefore","key",t,!0),new EK(e,t)}var TM=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Di("startAt",this._value,n._path,!0);var r=tE(n._queryParams,this._value,this._key);if(bm(r),ys(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lr(n._repo,n._path,r,n._orderByCalled)},t}(ui);function TK(e,t){return e===void 0&&(e=null),zh("startAt","key",t,!0),new TM(e,t)}var SK=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Di("startAfter",this._value,n._path,!1);var r=_8(n._queryParams,this._value,this._key);if(bm(r),ys(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lr(n._repo,n._path,r,n._orderByCalled)},t}(ui);function IK(e,t){return zh("startAfter","key",t,!0),new SK(e,t)}var kK=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lr(n._repo,n._path,m8(n._queryParams,this._limit),n._orderByCalled)},t}(ui);function CK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kK(e)}var NK=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lr(n._repo,n._path,y8(n._queryParams,this._limit),n._orderByCalled)},t}(ui);function AK(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NK(e)}var RK=function(e){G(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Em(n,"orderByChild");var r=new Oe(this._path);if(ge(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new vT(r),s=am(n._queryParams,i);return ys(s),new Lr(n._repo,n._path,s,!0)},t}(ui);function xK(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lh("orderByChild","path",e,!1),new RK(e)}var PK=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Em(n,"orderByKey");var r=am(n._queryParams,Ci);return ys(r),new Lr(n._repo,n._path,r,!0)},t}(ui);function OK(){return new PK}var DK=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Em(n,"orderByPriority");var r=am(n._queryParams,$e);return ys(r),new Lr(n._repo,n._path,r,!0)},t}(ui);function LK(){return new DK}var MK=function(e){G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Em(n,"orderByValue");var r=am(n._queryParams,gT);return ys(r),new Lr(n._repo,n._path,r,!0)},t}(ui);function FK(){return new MK}var UK=function(e){G(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Di("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bM(this._value,this._key)._apply(new TM(this._value,this._key)._apply(n))},t}(ui);function jK(e,t){return zh("equalTo","key",t,!0),new UK(e,t)}function Wr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=de(e);try{for(var a=$t(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}cW(Fi);vW(Fi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BK="FIREBASE_DATABASE_EMULATOR_HOST",vE={},SM=!1;function VK(e,t,n,r){e.repoInfo_=new lT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function IM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ft("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=dE(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[BK]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=dE(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new kf(kf.OWNER):new mH(e.name,e.options,t);uM("Invalid Firebase Database URL",a),ge(a.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=qK(l,e,p,new gH(e.name,n));return new HK(v,e)}function $K(e,t){var n=vE[t];(!n||n[e.key]!==e)&&Pi("Database "+t+"("+e.repoInfo_+") has already been deleted."),hM(e),delete n[e.key]}function qK(e,t,n,r){var i=vE[t.name];i||(i={},vE[t.name]=i);var s=i[e.toURLString()];return s&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new KW(e,SM,n,r),i[e.toURLString()]=s,s}function zK(e){SM=e}var HK=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(GW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,Re())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&($K(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Pi("Cannot call "+t+" on a deleted database.")},e}();function WK(e,t,n,r){r===void 0&&(r={}),e=de(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Pi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new kf(kf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:Zb(r.mockUserToken,e.app.options.projectId);s=new kf(a)}VK(i,t,n,s)}function KK(e){e=de(e),e._checkNotDeleted("goOffline"),hM(e._repo)}function GK(e){e=de(e),e._checkNotDeleted("goOnline"),iK(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QK={".sv":"timestamp"};function YK(){return QK}function XK(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JK=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function ZK(e,t,n){var r;if(e=de(e),Sr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new jt,a=function(c,h,p){var v=null;c?s.reject(c):(v=new Tm(p,new Fi(e._repo,e._path),$e),s.resolve(new JK(h,v)))},l=pE(e,function(){});return aK(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eG=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){oe("OnDisconnect.cancel",0,1,arguments.length),Mt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){oe("OnDisconnect.remove",0,1,arguments.length),Mt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){oe("OnDisconnect.set",1,2,arguments.length),Mt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){oe("OnDisconnect.setWithPriority",2,3,arguments.length),Mt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(oe("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,Jt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tG=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return oe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return oe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return oe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return oe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return oe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return oe("DataSnapshot.child",0,1,arguments.length),t=String(t),lh("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return oe("DataSnapshot.hasChild",1,1,arguments.length),lh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return oe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return oe("DataSnapshot.forEach",1,1,arguments.length),Mt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return oe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return oe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return oe("DataSnapshot.ref",0,0,arguments.length),new oa(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),kM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;oe("Query.on",2,4,arguments.length),Mt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(l.context,new Rf(s.database,p),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return pE(this._delegate,c,h),n;case"child_added":return lx(this._delegate,c,h),n;case"child_removed":return hx(this._delegate,c,h),n;case"child_changed":return cx(this._delegate,c,h),n;case"child_moved":return fx(this._delegate,c,h),n;default:throw new Error(Kn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(oe("Query.off",0,3,arguments.length),VW("Query.off",t,!0),Mt("Query.off","callback",n,!0),CR("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,dx(this._delegate,t,i)}else dx(this._delegate,t)},e.prototype.get=function(){var t=this;return _K(this._delegate).then(function(n){return new Rf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;oe("Query.once",1,4,arguments.length),Mt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new jt,c=function(p,v){var m=new Rf(s.database,p);n&&n.call(a.context,m,v),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":pE(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":lx(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":hx(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":cx(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":fx(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Kn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return oe("Query.limitToFirst",1,1,arguments.length),new e(this.database,Wr(this._delegate,CK(t)))},e.prototype.limitToLast=function(t){return oe("Query.limitToLast",1,1,arguments.length),new e(this.database,Wr(this._delegate,AK(t)))},e.prototype.orderByChild=function(t){return oe("Query.orderByChild",1,1,arguments.length),new e(this.database,Wr(this._delegate,xK(t)))},e.prototype.orderByKey=function(){return oe("Query.orderByKey",0,0,arguments.length),new e(this.database,Wr(this._delegate,OK()))},e.prototype.orderByPriority=function(){return oe("Query.orderByPriority",0,0,arguments.length),new e(this.database,Wr(this._delegate,LK()))},e.prototype.orderByValue=function(){return oe("Query.orderByValue",0,0,arguments.length),new e(this.database,Wr(this._delegate,FK()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),oe("Query.startAt",0,2,arguments.length),new e(this.database,Wr(this._delegate,TK(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),oe("Query.startAfter",0,2,arguments.length),new e(this.database,Wr(this._delegate,IK(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),oe("Query.endAt",0,2,arguments.length),new e(this.database,Wr(this._delegate,wK(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),oe("Query.endBefore",0,2,arguments.length),new e(this.database,Wr(this._delegate,bK(t,n)))},e.prototype.equalTo=function(t,n){return oe("Query.equalTo",1,2,arguments.length),new e(this.database,Wr(this._delegate,jK(t,n)))},e.prototype.toString=function(){return oe("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return oe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(oe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Mt(t,"cancel",i.cancel,!0),i.context=r,CR(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Kn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new oa(this.database,new Fi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),oa=function(e){G(t,e);function t(n,r){var i=e.call(this,n,new Lr(r._repo,r._path,new FL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return oe("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return oe("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,Ca(this._delegate,n))},t.prototype.getParent=function(){oe("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return oe("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){oe("Reference.set",1,2,arguments.length),Mt("Reference.set","onComplete",r,!0);var i=BT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(oe("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Jt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sr("Reference.update",this._delegate._path),Mt("Reference.update","onComplete",r,!0);var a=yK(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){oe("Reference.setWithPriority",2,3,arguments.length),Mt("Reference.setWithPriority","onComplete",i,!0);var s=mK(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){oe("Reference.remove",0,1,arguments.length),Mt("Reference.remove","onComplete",n,!0);var r=vK(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;oe("Reference.transaction",1,3,arguments.length),Mt("Reference.transaction","transactionUpdate",n,!1),Mt("Reference.transaction","onComplete",r,!0),qW("Reference.transaction","applyLocally",i,!0);var a=ZK(this._delegate,n,{applyLocally:i}).then(function(l){return new tG(l.committed,new Rf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){oe("Reference.setPriority",1,2,arguments.length),Mt("Reference.setPriority","onComplete",r,!0);var i=gK(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;oe("Reference.push",0,2,arguments.length),Mt("Reference.push","onComplete",r,!0);var s=pK(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return Sr("Reference.onDisconnect",this._delegate._path),new eG(new dK(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(kM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cg=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),WK(this._delegate,t,n,r)},e.prototype.ref=function(t){if(oe("database.ref",0,1,arguments.length),t instanceof oa){var n=ux(this._delegate,t.toString());return new oa(this,n)}else{var n=_M(this._delegate,t);return new oa(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";oe(n,1,1,arguments.length);var r=ux(this._delegate,t);return new oa(this,r)},e.prototype.goOffline=function(){return oe("database.goOffline",0,0,arguments.length),KK(this._delegate)},e.prototype.goOnline=function(){return oe("database.goOnline",0,0,arguments.length),GK(this._delegate)},e.ServerValue={TIMESTAMP:YK(),increment:function(t){return XK(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nG=function(){Zs.forceDisallow(),fT.forceAllow()},rG=function(){fT.forceDisallow()},iG=function(){return Zs.isAvailable()},oG=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},sG=function(e,t){oK(e._delegate._repo,t)},aG=function(e,t){sK(e._delegate._repo,t)},uG=function(e){return e._delegate._repo.dataUpdateCount},lG=function(e,t){return QW(e._delegate._repo,t)};function cG(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;tL(r);var c=new QD("auth-internal",new YD("database-standalone"));return c.setComponent(new gn("auth-internal",function(){return i},"PRIVATE")),{instance:new cg(IM(t,c,void 0,n,l),t),namespace:s}}var fG=Object.freeze({__proto__:null,forceLongPolling:nG,forceWebSockets:rG,isWebSocketsAvailable:iG,setSecurityDebugCallback:oG,stats:sG,statsIncrementCounter:aG,dataUpdateCount:uG,interceptServerData:lG,initStandalone:cG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hG=pa;pa.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};pa.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var dG=TL,pG=function(e){var t=pa.prototype.put;return pa.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){pa.prototype.put=t}},vG=lT,gG=function(e){return e._delegate._queryIdentifier},mG=function(e){zK(e)},yG=Object.freeze({__proto__:null,DataConnection:hG,RealTimeConnection:dG,hijackHash:pG,ConnectionTarget:vG,queryIdentifier:gG,forceRestClient:mG});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _G=cg.ServerValue;function wG(e){tL(e.SDK_VERSION),e.INTERNAL.registerComponent(new gn("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new cg(IM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:oa,Query:kM,Database:cg,DataSnapshot:Rf,enableLogging:oL,INTERNAL:fG,ServerValue:_G,TEST_ACCESS:yG}).setMultipleInstances(!0)),e.registerVersion(iH,oH)}wG(ee);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gE=function(e,t){return gE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},gE(e,t)};function EG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function CM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var bG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,VT=VT||{},ce=bG||self;function fg(){}function mE(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Kh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function TG(e){return Object.prototype.hasOwnProperty.call(e,bw)&&e[bw]||(e[bw]=++SG)}var bw="closure_uid_"+(1e9*Math.random()>>>0),SG=0;function IG(e,t,n){return e.call.apply(e.bind,arguments)}function kG(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Zt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=IG:Zt=kG,Zt.apply(null,arguments)}function Fp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function rn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function _s(){this.s=this.s,this.o=this.o}var CG=0;_s.prototype.s=!1;_s.prototype.na=function(){!this.s&&(this.s=!0,this.M(),CG!=0)&&TG(this)};_s.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var NM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},AM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function NG(e){e:{for(var t=_7,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function px(e){return Array.prototype.concat.apply([],arguments)}function $T(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function hg(e){return/^[\s\xa0]*$/.test(e)}var vx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function Tw(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var gx=ce.navigator;if(gx){var mx=gx.userAgent;if(mx){Cn=mx;break e}}Cn=""}function qT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function RM(e){var t={};for(var n in e)t[n]=e[n];return t}var yx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<yx.length;s++)n=yx[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zT(e){return zT[" "](e),e}zT[" "]=fg;function AG(e){var t=PG;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var RG=kn(Cn,"Opera"),yl=kn(Cn,"Trident")||kn(Cn,"MSIE"),PM=kn(Cn,"Edge"),yE=PM||yl,OM=kn(Cn,"Gecko")&&!(kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge"))&&!(kn(Cn,"Trident")||kn(Cn,"MSIE"))&&!kn(Cn,"Edge"),xG=kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge");function DM(){var e=ce.document;return e?e.documentMode:void 0}var dg;e:{var Sw="",Iw=function(){var e=Cn;if(OM)return/rv:([^\);]+)(\)|;)/.exec(e);if(PM)return/Edge\/([\d\.]+)/.exec(e);if(yl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(xG)return/WebKit\/(\S+)/.exec(e);if(RG)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Iw&&(Sw=Iw?Iw[1]:""),yl){var kw=DM();if(kw!=null&&kw>parseFloat(Sw)){dg=String(kw);break e}}dg=Sw}var PG={};function OG(){return AG(function(){for(var e=0,t=vx(String(dg)).split("."),n=vx("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=Tw(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||Tw(s[2].length==0,a[2].length==0)||Tw(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var _E;if(ce.document&&yl){var _x=DM();_E=_x||parseInt(dg,10)||void 0}else _E=void 0;var DG=_E,LG=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",fg,t),ce.removeEventListener("test",fg,t)}catch{}return e}();function hn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};function ch(e,t){if(hn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(OM){e:{try{zT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:MG[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ch.Z.h.call(this)}}rn(ch,hn);var MG={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gh="closure_listenable_"+(1e6*Math.random()|0),FG=0;function UG(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++FG,this.ca=this.fa=!1}function Sm(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Im(e){this.src=e,this.g={},this.h=0}Im.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=EE(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new UG(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function wE(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=NM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sm(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function EE(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var HT="closure_lm_"+(1e6*Math.random()|0),Cw={};function LM(e,t,n,r,i){if(r&&r.once)return FM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)LM(e,t[s],n,r,i);return null}return n=GT(n),e&&e[Gh]?e.N(t,n,Kh(r)?!!r.capture:!!r,i):MM(e,t,n,!1,r,i)}function MM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Kh(i)?!!i.capture:!!i,l=KT(e);if(l||(e[HT]=l=new Im(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=jG(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)LG||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jG(){function e(n){return t.call(e.src,e.listener,n)}var t=BG;return e}function FM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)FM(e,t[s],n,r,i);return null}return n=GT(n),e&&e[Gh]?e.O(t,n,Kh(r)?!!r.capture:!!r,i):MM(e,t,n,!0,r,i)}function UM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)UM(e,t[s],n,r,i);else r=Kh(r)?!!r.capture:!!r,n=GT(n),e&&e[Gh]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=EE(s,n,r,i),-1<n&&(Sm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=KT(e))&&(t=e.g[t.toString()],e=-1,t&&(e=EE(t,n,r,i)),(n=-1<e?t[e]:null)&&WT(n))}function WT(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Gh])wE(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=KT(t))?(wE(n,e),n.h==0&&(n.src=null,t[HT]=null)):Sm(e)}}}function jM(e){return e in Cw?Cw[e]:Cw[e]="on"+e}function BG(e,t){if(e.ca)e=!0;else{t=new ch(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&WT(e),e=n.call(r,t)}return e}function KT(e){return e=e[HT],e instanceof Im?e:null}var Nw="__closure_events_fn_"+(1e9*Math.random()>>>0);function GT(e){return typeof e=="function"?e:(e[Nw]||(e[Nw]=function(t){return e.handleEvent(t)}),e[Nw])}function qt(){_s.call(this),this.i=new Im(this),this.P=this,this.I=null}rn(qt,_s);qt.prototype[Gh]=!0;qt.prototype.removeEventListener=function(e,t,n,r){UM(this,e,t,n,r)};function en(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new hn(t,e);else if(t instanceof hn)t.target=t.target||e;else{var i=t;t=new hn(r,e),xM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Up(a,r,!0,t)&&i}if(a=t.g=e,i=Up(a,r,!0,t)&&i,i=Up(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Up(a,r,!1,t)&&i}qt.prototype.M=function(){if(qt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Sm(n[r]);delete e.g[t],e.h--}}this.I=null};qt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};qt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Up(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&wE(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var QT=ce.JSON.stringify;function VG(){var e=VM,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $G=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=BM.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),BM=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new qG},function(e){return e.reset()}),qG=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function zG(e){ce.setTimeout(function(){throw e},0)}function YT(e,t){bE||HG(),TE||(bE(),TE=!0),VM.add(e,t)}var bE;function HG(){var e=ce.Promise.resolve(void 0);bE=function(){e.then(WG)}}var TE=!1,VM=new $G;function WG(){for(var e;e=VG();){try{e.h.call(e.g)}catch(n){zG(n)}var t=BM;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}TE=!1}function km(e,t){qt.call(this),this.h=e||1,this.g=t||ce,this.j=Zt(this.kb,this),this.l=Date.now()}rn(km,qt);Y=km.prototype;Y.da=!1;Y.S=null;Y.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),en(this,"tick"),this.da&&(XT(this),this.start()))}};Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function XT(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Y.M=function(){km.Z.M.call(this),XT(this),delete this.g};function JT(e,t,n){if(typeof e=="function")n&&(e=Zt(e,n));else if(e&&typeof e.handleEvent=="function")e=Zt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function $M(e){e.g=JT(function(){e.g=null,e.i&&(e.i=!1,$M(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var KG=function(e){EG(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:$M(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(_s);function fh(e){_s.call(this),this.h=e,this.g={}}rn(fh,_s);var wx=[];function qM(e,t,n,r){Array.isArray(n)||(n&&(wx[0]=n.toString()),n=wx);for(var i=0;i<n.length;i++){var s=LM(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function zM(e){qT(e.g,function(t,n){this.g.hasOwnProperty(n)&&WT(t)},e),e.g={}}fh.prototype.M=function(){fh.Z.M.call(this),zM(this)};fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Cm(){this.g=!0}Cm.prototype.Aa=function(){this.g=!1};function GG(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function QG(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Hu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+XG(e,n)+(r?" "+r:"")})}function YG(e,t){e.info(function(){return"TIMEOUT: "+t})}Cm.prototype.info=function(){};function XG(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return QT(n)}catch{return t}}var za={},Ex=null;function Nm(){return Ex=Ex||new qt}za.Ma="serverreachability";function HM(e){hn.call(this,za.Ma,e)}rn(HM,hn);function hh(e){var t=Nm();en(t,new HM(t))}za.STAT_EVENT="statevent";function WM(e,t){hn.call(this,za.STAT_EVENT,e),this.stat=t}rn(WM,hn);function An(e){var t=Nm();en(t,new WM(t,e))}za.Na="timingevent";function KM(e,t){hn.call(this,za.Na,e),this.size=t}rn(KM,hn);function Qh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var Am={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},GM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ZT(){}ZT.prototype.h=null;function bx(e){return e.h||(e.h=e.i())}function QM(){}var Yh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eS(){hn.call(this,"d")}rn(eS,hn);function tS(){hn.call(this,"c")}rn(tS,hn);var SE;function Rm(){}rn(Rm,ZT);Rm.prototype.g=function(){return new XMLHttpRequest};Rm.prototype.i=function(){return{}};SE=new Rm;function Xh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fh(this),this.P=JG,e=yE?125:void 0,this.W=new km(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new YM}function YM(){this.i=null,this.g="",this.h=!1}var JG=45e3,IE={},pg={};Y=Xh.prototype;Y.setTimeout=function(e){this.P=e};function kE(e,t,n){e.K=1,e.v=Pm(fo(t)),e.s=n,e.U=!0,XM(e,null)}function XM(e,t){e.F=Date.now(),Jh(e),e.A=fo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),iF(n.h,"t",r),e.C=0,n=e.l.H,e.h=new YM,e.g=SF(e.l,n?t:null,!e.s),0<e.O&&(e.L=new KG(Zt(e.Ia,e,e.g),e.O)),qM(e.V,e.g,"readystatechange",e.gb),t=e.H?RM(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hh(),GG(e.j,e.u,e.A,e.m,e.X,e.s)}Y.gb=function(e){e=e.target;var t=this.L;t&&eo(e)==3?t.l():this.Ia(e)};Y.Ia=function(e){try{if(e==this.g)e:{var t=eo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||yE||this.g&&(this.h.h||this.g.ga()||kx(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?hh(3):hh(2)),xm(this);var i=this.g.ba();this.N=i;t:if(JM(this)){var s=kx(this.g);e="";var a=s.length,l=eo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),xf(this);var c="";break t}this.h.i=new ce.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,QG(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hg(h)){var v=h;break t}}v=null}if(i=v)Hu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,CE(this,i);else{this.i=!1,this.o=3,An(12),sa(this),xf(this);break e}}this.U?(ZM(this,t,c),yE&&this.i&&t==3&&(qM(this.V,this.W,"tick",this.fb),this.W.start())):(Hu(this.j,this.m,c,null),CE(this,c)),t==4&&sa(this),this.i&&!this.I&&(t==4?wF(this.l,this):(this.i=!1,Jh(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,An(12)):(this.o=0,An(13)),sa(this),xf(this)}}}catch{}finally{}};function JM(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function ZM(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=ZG(e,n),i==pg){t==4&&(e.o=4,An(14),r=!1),Hu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==IE){e.o=4,An(15),Hu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Hu(e.j,e.m,i,null),CE(e,i);JM(e)&&i!=pg&&i!=IE&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,An(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cS(t),t.L=!0,An(11))):(Hu(e.j,e.m,n,"[Invalid Chunked Response]"),sa(e),xf(e))}Y.fb=function(){if(this.g){var e=eo(this.g),t=this.g.ga();this.C<t.length&&(xm(this),ZM(this,e,t),this.i&&e!=4&&Jh(this))}};function ZG(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?pg:(n=Number(t.substring(n,r)),isNaN(n)?IE:(r+=1,r+n>t.length?pg:(t=t.substr(r,n),e.C=r+n,t)))}Y.cancel=function(){this.I=!0,sa(this)};function Jh(e){e.Y=Date.now()+e.P,eF(e,e.P)}function eF(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Qh(Zt(e.eb,e),t)}function xm(e){e.B&&(ce.clearTimeout(e.B),e.B=null)}Y.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(YG(this.j,this.A),this.K!=2&&(hh(),An(17)),sa(this),this.o=2,xf(this)):eF(this,this.Y-e)};function xf(e){e.l.G==0||e.I||wF(e.l,e)}function sa(e){xm(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,XT(e.W),zM(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function CE(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||NE(n.i,e))){if(n.I=e.N,!e.J&&NE(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)yg(n),Lm(n);else break e;lS(n),An(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Qh(Zt(n.ab,n),6e3));if(1>=aF(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else aa(n,11)}else if((e.J||n.g==e)&&yg(n),!hg(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=r.i;!v.g&&(kn(p,"spdy")||kn(p,"quic")||kn(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(iS(v,v.h),v.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Qe(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=TF(r,r.H?r.la:null,r.W),y.J){uF(r.i,y);var w=y,S=r.K;S&&w.setTimeout(S),w.B&&(xm(w),Jh(w)),r.g=y}else yF(r);0<n.l.length&&Mm(n)}else s[0]!="stop"&&s[0]!="close"||aa(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?aa(n,7):uS(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}hh(4)}catch{}}function e7(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(mE(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function nS(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(mE(e)||typeof e=="string")AM(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(mE(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=e7(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Wl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Y=Wl.prototype;Y.R=function(){rS(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Y.T=function(){return rS(this),this.g.concat()};function rS(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Na(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Na(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Y.get=function(e,t){return Na(this.h,e)?this.h[e]:t};Y.set=function(e,t){Na(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Y.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function t7(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Aa(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Aa){this.g=t!==void 0?t:e.g,vg(this,e.j),this.s=e.s,gg(this,e.i),mg(this,e.m),this.l=e.l,t=e.h;var n=new dh;n.i=t.i,t.g&&(n.g=new Wl(t.g),n.h=t.h),Tx(this,n),this.o=e.o}else e&&(n=String(e).match(tF))?(this.g=!!t,vg(this,n[1]||"",!0),this.s=Pf(n[2]||""),gg(this,n[3]||"",!0),mg(this,n[4]),this.l=Pf(n[5]||"",!0),Tx(this,n[6]||"",!0),this.o=Pf(n[7]||"")):(this.g=!!t,this.h=new dh(null,this.g))}Aa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ff(t,Sx,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ff(t,Sx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ff(n,n.charAt(0)=="/"?s7:o7,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ff(n,u7)),e.join("")};function fo(e){return new Aa(e)}function vg(e,t,n){e.j=n?Pf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gg(e,t,n){e.i=n?Pf(t,!0):t}function mg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tx(e,t,n){t instanceof dh?(e.h=t,l7(e.h,e.g)):(n||(t=ff(t,a7)),e.h=new dh(t,e.g))}function Qe(e,t,n){e.h.set(t,n)}function Pm(e){return Qe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function n7(e){return e instanceof Aa?fo(e):new Aa(e,void 0)}function r7(e,t,n,r){var i=new Aa(null,void 0);return e&&vg(i,e),t&&gg(i,t),n&&mg(i,n),r&&(i.l=r),i}function Pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ff(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,i7),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function i7(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Sx=/[#\/\?@]/g,o7=/[#\?:]/g,s7=/[#\?]/g,a7=/[#\?@]/g,u7=/#/g;function dh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ws(e){e.g||(e.g=new Wl,e.h=0,e.i&&t7(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Y=dh.prototype;Y.add=function(e,t){ws(this),this.i=null,e=Kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function nF(e,t){ws(e),t=Kl(e,t),Na(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Na(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&rS(e)))}function rF(e,t){return ws(e),t=Kl(e,t),Na(e.g.h,t)}Y.forEach=function(e,t){ws(this),this.g.forEach(function(n,r){AM(n,function(i){e.call(t,i,r,this)},this)},this)};Y.T=function(){ws(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Y.R=function(e){ws(this);var t=[];if(typeof e=="string")rF(this,e)&&(t=px(t,this.g.get(Kl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=px(t,e[n])}return t};Y.set=function(e,t){return ws(this),this.i=null,e=Kl(this,e),rF(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Y.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function iF(e,t,n){nF(e,t),0<n.length&&(e.i=null,e.g.set(Kl(e,t),$T(n)),e.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function l7(e,t){t&&!e.j&&(ws(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nF(this,r),iF(this,i,n))},e)),e.j=t}var c7=function(){function e(t,n){this.h=t,this.g=n}return e}();function oF(e){this.l=e||f7,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var f7=10;function sF(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function aF(e){return e.h?1:e.g?e.g.size:0}function NE(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function iS(e,t){e.g?e.g.add(t):e.h=t}function uF(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}oF.prototype.cancel=function(){var e,t;if(this.i=lF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=CM(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function lF(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=CM(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return $T(e.i)}function oS(){}oS.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)};oS.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};function h7(){this.g=new oS}function d7(e,t,n){var r=n||"";try{nS(e,function(i,s){var a=i;Kh(i)&&(a=QT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function p7(e,t){var n=new Cm;if(ce.Image){var r=new Image;r.onload=Fp(jp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fp(jp,n,r,"TestLoadImage: error",!1,t),r.onabort=Fp(jp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fp(jp,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function jp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Zh(e){this.l=e.$b||null,this.j=e.ib||!1}rn(Zh,ZT);Zh.prototype.g=function(){return new Om(this.l,this.j)};Zh.prototype.i=function(e){return function(){return e}}({});function Om(e,t){qt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn(Om,qt);var sS=0;Y=Om.prototype;Y.open=function(e,t){if(this.readyState!=sS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ph(this)};Y.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ce).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ed(this)),this.readyState=sS};Y.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ph(this)),this.g&&(this.readyState=3,ph(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cF(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function cF(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Y.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ed(this):ph(this),this.readyState==3&&cF(this)}};Y.Ua=function(e){this.g&&(this.response=this.responseText=e,ed(this))};Y.Ta=function(e){this.g&&(this.response=e,ed(this))};Y.ha=function(){this.g&&ed(this)};function ed(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ph(e)}Y.setRequestHeader=function(e,t){this.v.append(e,t)};Y.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ph(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Om.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var v7=ce.JSON.parse;function bt(e){qt.call(this),this.headers=new Wl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fF,this.K=this.L=!1}rn(bt,qt);var fF="",g7=/^https?$/i,m7=["POST","PUT"];Y=bt.prototype;Y.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SE.g(),this.C=this.u?bx(this.u):bx(SE),this.g.onreadystatechange=Zt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){Ix(this,s);return}e=n||"";var i=new Wl(this.headers);r&&nS(r,function(s,a){i.set(a,s)}),r=NG(i.T()),n=ce.FormData&&e instanceof ce.FormData,!(0<=NM(m7,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pF(this),0<this.B&&((this.K=y7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.pa,this)):this.A=JT(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ix(this,s)}};function y7(e){return yl&&OG()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function _7(e){return e.toLowerCase()=="content-type"}Y.pa=function(){typeof VT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))};function Ix(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hF(e),Dm(e)}function hF(e){e.D||(e.D=!0,en(e,"complete"),en(e,"error"))}Y.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,en(this,"complete"),en(this,"abort"),Dm(this))};Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dm(this,!0)),bt.Z.M.call(this)};Y.Fa=function(){this.s||(this.F||this.v||this.l?dF(this):this.cb())};Y.cb=function(){dF(this)};function dF(e){if(e.h&&typeof VT<"u"&&(!e.C[1]||eo(e)!=4||e.ba()!=2)){if(e.v&&eo(e)==4)JT(e.Fa,0,e);else if(en(e,"readystatechange"),eo(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(tF)[1]||null;if(!s&&ce.self&&ce.self.location){var a=ce.self.location.protocol;s=a.substr(0,a.length-1)}i=!g7.test(s?s.toLowerCase():"")}r=i}if(r)en(e,"complete"),en(e,"success");else{e.m=6;try{var l=2<eo(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",hF(e)}}finally{Dm(e)}}}}function Dm(e,t){if(e.g){pF(e);var n=e.g,r=e.C[0]?fg:null;e.g=null,e.C=null,t||en(e,"ready");try{n.onreadystatechange=r}catch{}}}function pF(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ce.clearTimeout(e.A),e.A=null)}function eo(e){return e.g?e.g.readyState:0}Y.ba=function(){try{return 2<eo(this)?this.g.status:-1}catch{return-1}};Y.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),v7(t)}};function kx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fF:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Y.Da=function(){return this.m};Y.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function w7(e){var t="";return qT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function aS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=w7(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Qe(e,t,n))}function nf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vF(e){this.za=0,this.l=[],this.h=new Cm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nf("baseRetryDelayMs",5e3,e),this.$a=nf("retryDelaySeedMs",1e4,e),this.Ya=nf("forwardChannelMaxRetries",2,e),this.ra=nf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new oF(e&&e.concurrentRequestLimit),this.Ca=new h7,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Y=vF.prototype;Y.ma=8;Y.G=1;function uS(e){if(gF(e),e.G==3){var t=e.V++,n=fo(e.F);Qe(n,"SID",e.J),Qe(n,"RID",t),Qe(n,"TYPE","terminate"),td(e,n),t=new Xh(e,e.h,t,void 0),t.K=2,t.v=Pm(fo(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.v.toString(),"")),!n&&ce.Image&&(new Image().src=t.v,n=!0),n||(t.g=SF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Jh(t)}bF(e)}Y.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Lm(e){e.g&&(cS(e),e.g.cancel(),e.g=null)}function gF(e){Lm(e),e.u&&(ce.clearTimeout(e.u),e.u=null),yg(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ce.clearTimeout(e.m),e.m=null)}function Aw(e,t){e.l.push(new c7(e.Za++,t)),e.G==3&&Mm(e)}function Mm(e){sF(e.i)||e.m||(e.m=!0,YT(e.Ha,e),e.C=0)}function E7(e,t){return aF(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Qh(Zt(e.Ha,e,t),EF(e,e.C)),e.C++,!0)}Y.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=RM(n),xM(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=mF(this,t,r),i=fo(this.F),Qe(i,"RID",e),Qe(i,"CVER",22),this.D&&Qe(i,"X-HTTP-Session-Id",this.D),td(this,i),this.o&&n&&aS(i,this.o,n),iS(this.i,t),this.Ra&&Qe(i,"TYPE","init"),this.ja?(Qe(i,"$req",r),Qe(i,"SID","null"),t.$=!0,kE(t,i,null)):kE(t,i,r),this.G=2}}else this.G==3&&(e?Cx(this,e):this.l.length==0||sF(this.i)||Cx(this))};function Cx(e,t){var n;t?n=t.m:n=e.V++;var r=fo(e.F);Qe(r,"SID",e.J),Qe(r,"RID",n),Qe(r,"AID",e.U),td(e,r),e.o&&e.s&&aS(r,e.o,e.s),n=new Xh(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=mF(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),iS(e.i,n),kE(n,r,t)}function td(e,t){e.j&&nS({},function(n,r){Qe(t,r,n)})}function mF(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zt(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,p=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{d7(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yF(e){e.g||e.u||(e.Y=1,YT(e.Ga,e),e.A=0)}function lS(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Qh(Zt(e.Ga,e),EF(e,e.A)),e.A++,!0)}Y.Ga=function(){if(this.u=null,_F(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Qh(Zt(this.bb,this),e)}};Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,An(10),Lm(this),_F(this))};function cS(e){e.B!=null&&(ce.clearTimeout(e.B),e.B=null)}function _F(e){e.g=new Xh(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=fo(e.oa);Qe(t,"RID","rpc"),Qe(t,"SID",e.J),Qe(t,"CI",e.N?"0":"1"),Qe(t,"AID",e.U),td(e,t),Qe(t,"TYPE","xmlhttp"),e.o&&e.s&&aS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Pm(fo(t)),n.s=null,n.U=!0,XM(n,e)}Y.ab=function(){this.v!=null&&(this.v=null,Lm(this),lS(this),An(19))};function yg(e){e.v!=null&&(ce.clearTimeout(e.v),e.v=null)}function wF(e,t){var n=null;if(e.g==t){yg(e),cS(e),e.g=null;var r=2}else if(NE(e.i,t))n=t.D,uF(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=Nm(),en(r,new KM(r,n)),Mm(e)}else yF(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&E7(e,t)||r==2&&lS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:aa(e,5);break;case 4:aa(e,10);break;case 3:aa(e,6);break;default:aa(e,2)}}}function EF(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function aa(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Zt(e.jb,e);n||(n=new Aa("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||vg(n,"https"),Pm(n)),p7(n.toString(),r)}else An(2);e.G=0,e.j&&e.j.va(t),bF(e),gF(e)}Y.jb=function(e){e?(this.h.info("Successfully pinged google.com"),An(2)):(this.h.info("Failed to ping google.com"),An(1))};function bF(e){e.G=0,e.I=-1,e.j&&((lF(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,$T(e.l),e.l.length=0),e.j.ua())}function TF(e,t,n){var r=n7(n);if(r.i!="")t&&gg(r,t+"."+r.i),mg(r,r.m);else{var i=ce.location;r=r7(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&qT(e.aa,function(s,a){Qe(r,a,s)}),t=e.D,n=e.sa,t&&n&&Qe(r,t,n),Qe(r,"VER",e.ma),td(e,r),r}function SF(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new bt(new Zh({ib:!0})):new bt(e.qa),t.L=e.H,t}function IF(){}Y=IF.prototype;Y.xa=function(){};Y.wa=function(){};Y.va=function(){};Y.ua=function(){};Y.Oa=function(){};function _g(){if(yl&&!(10<=Number(DG)))throw Error("Environmental error: no available transport.")}_g.prototype.g=function(e,t){return new hr(e,t)};function hr(e,t){qt.call(this),this.g=new vF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!hg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hg(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Gl(this)}rn(hr,qt);hr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),YT(Zt(e.hb,e,t))),An(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=TF(e,null,e.W),Mm(e)};hr.prototype.close=function(){uS(this.g)};hr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Aw(this.g,t)}else this.v?(t={},t.__data__=QT(e),Aw(this.g,t)):Aw(this.g,e)};hr.prototype.M=function(){this.g.j=null,delete this.j,uS(this.g),delete this.g,hr.Z.M.call(this)};function kF(e){eS.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}rn(kF,eS);function CF(){tS.call(this),this.status=1}rn(CF,tS);function Gl(e){this.g=e}rn(Gl,IF);Gl.prototype.xa=function(){en(this.g,"a")};Gl.prototype.wa=function(e){en(this.g,new kF(e))};Gl.prototype.va=function(e){en(this.g,new CF)};Gl.prototype.ua=function(){en(this.g,"b")};_g.prototype.createWebChannel=_g.prototype.g;hr.prototype.send=hr.prototype.u;hr.prototype.open=hr.prototype.m;hr.prototype.close=hr.prototype.close;Am.NO_ERROR=0;Am.TIMEOUT=8;Am.HTTP_ERROR=6;GM.COMPLETE="complete";QM.EventType=Yh;Yh.OPEN="a";Yh.CLOSE="b";Yh.ERROR="c";Yh.MESSAGE="d";qt.prototype.listen=qt.prototype.N;bt.prototype.listenOnce=bt.prototype.O;bt.prototype.getLastError=bt.prototype.La;bt.prototype.getLastErrorCode=bt.prototype.Da;bt.prototype.getStatus=bt.prototype.ba;bt.prototype.getResponseJson=bt.prototype.Qa;bt.prototype.getResponseText=bt.prototype.ga;bt.prototype.send=bt.prototype.ea;var b7=function(){return new _g},T7=function(){return Nm()},Rw=Am,S7=GM,I7=za,Nx={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},k7=Zh,Bp=QM,C7=bt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();or.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return G(t,e),t}(Error),ii=new Ba("@firebase/firestore");function AE(){return ii.logLevel}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ii.logLevel<=ye.DEBUG){var r=t.map(fS);ii.debug.apply(ii,pe(["Firestore (8.10.1): "+e],r))}}function _t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ii.logLevel<=ye.ERROR){var r=t.map(fS);ii.error.apply(ii,pe(["Firestore (8.10.1): "+e],r))}}function vh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ii.logLevel<=ye.WARN){var r=t.map(fS);ii.warn.apply(ii,pe(["Firestore (8.10.1): "+e],r))}}function fS(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw _t(t),new Error(t)}function ae(e,t){e||te()}function K(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=N7(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ee(e,t){return e<t?-1:e>t?1:0}function _l(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function AF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ee(this.nanoseconds,t.nanoseconds):Ee(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),me=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Gn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ha(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function RF(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xF=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&te(),r===void 0?r=t.length-n:r>t.length-n&&te(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),xe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(xF),A7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ai=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return A7.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new j(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new j(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new j(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(xF),wl=function(){function e(t){this.fields=t,t.sort(ai.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return _l(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),xn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ee(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();xn.EMPTY_BYTE_STRING=new xn("");var R7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(e){if(ae(!!e),typeof e=="string"){var t=0,n=R7.exec(e);if(ae(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mt(e.seconds),nanos:mt(e.nanos)}}function mt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function El(e){return typeof e=="string"?xn.fromBase64String(e):xn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function PF(e){var t=e.mapValue.fields.__previous_value__;return hS(t)?PF(t):t}function gh(e){var t=ds(e.mapValue.fields.__local_write_time__.timestampValue);return new Gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e){return e==null}function wg(e){return e===0&&1/e==-1/0}function OF(e){return typeof e=="number"&&Number.isInteger(e)&&!wg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(xe.fromString(t))},e.fromName=function(t){return new e(xe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&xe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return xe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new xe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hS(e)?4:10:te()}function Li(e,t){var n=Ra(e);if(n!==Ra(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gh(e).isEqual(gh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ds(r.timestampValue),a=ds(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return El(r.bytesValue).isEqual(El(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return mt(r.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(r.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return mt(r.integerValue)===mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=mt(r.doubleValue),a=mt(i.doubleValue);return s===a?wg(s)===wg(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return _l(e.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(Ax(s)!==Ax(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Li(s[l],a[l])))return!1;return!0}(e,t);default:return te()}}function mh(e,t){return(e.values||[]).find(function(n){return Li(n,t)})!==void 0}function bl(e,t){var n=Ra(e),r=Ra(t);if(n!==r)return Ee(n,r);switch(n){case 0:return 0;case 1:return Ee(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=mt(i.integerValue||i.doubleValue),l=mt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Rx(e.timestampValue,t.timestampValue);case 4:return Rx(gh(e),gh(t));case 5:return Ee(e.stringValue,t.stringValue);case 6:return function(i,s){var a=El(i),l=El(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Ee(a[c],l[c]);if(h!==0)return h}return Ee(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ee(mt(i.latitude),mt(s.latitude));return a!==0?a:Ee(mt(i.longitude),mt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=bl(a[c],l[c]);if(h)return h}return Ee(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=Ee(l[p],h[p]);if(v!==0)return v;var m=bl(a[l[p]],c[h[p]]);if(m!==0)return m}return Ee(l.length,h.length)}(e.mapValue,t.mapValue);default:throw te()}}function Rx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ee(e,t);var n=ds(e),r=ds(t),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function dS(e){return RE(e)}function RE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ds(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?El(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ne.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=RE(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+RE(r.fields[c])}return i+"}"}(e.mapValue):te();var t,n}function Eg(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function xE(e){return!!e&&"integerValue"in e}function pS(e){return!!e&&"arrayValue"in e}function xx(e){return!!e&&"nullValue"in e}function Px(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dv(e){return!!e&&"mapValue"in e}function Of(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ha(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=Of(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Of(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!dv(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Of(n)},e.prototype.setAll=function(t){var n=this,r=ai.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=Of(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());dv(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Li(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];dv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Ha(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(Of(this.value))},e}();function DF(e){var t=[];return Ha(e.fields,function(n,r){var i=new ai([n]);if(dv(r)){var s=DF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new wl(t)}var nn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,me.min(),rr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,rr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,rr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=rr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=rr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),x7=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new x7(e,t,n,r,i,s,a)}function nd(e){var t=K(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+dS(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Wa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Tg(t.startAt)),t.endAt&&(n+="|ub:",n+=Tg(t.endAt)),t.h=n}return t.h}function Fm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!j7(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Li(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lx(e.startAt,t.startAt)&&Lx(e.endAt,t.endAt)}function bg(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var sr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return G(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new P7(n,r,i):r==="array-contains"?new L7(n,i):r==="in"?new M7(n,i):r==="not-in"?new F7(n,i):r==="array-contains-any"?new U7(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new O7(n,i):new D7(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(bl(r,this.value)):r!==null&&Ra(this.value)===Ra(r)&&this.m(bl(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return te()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),P7=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ne.fromName(i.referenceValue),s}return G(t,e),t.prototype.matches=function(n){var r=ne.comparator(n.key,this.key);return this.m(r)},t}(sr),O7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=LF("in",r),i}return G(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(sr),D7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=LF("not-in",r),i}return G(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(sr);function LF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ne.fromName(r.referenceValue)})}var L7=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return G(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return pS(r)&&mh(r.arrayValue,this.value)},t}(sr),M7=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return G(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&mh(this.value.arrayValue,r)},t}(sr),F7=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return G(t,e),t.prototype.matches=function(n){if(mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!mh(this.value.arrayValue,r)},t}(sr),U7=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return G(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!pS(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return mh(r.value.arrayValue,s)})},t}(sr),yh=function(e,t){this.position=e,this.before=t};function Tg(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return dS(t)}).join(",")}var el=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function j7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Dx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ne.comparator(ne.fromName(a.referenceValue),n.key):bl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Lx(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Li(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function MF(e,t,n,r,i,s,a,l){return new mo(e,t,n,r,i,s,a,l)}function Ql(e){return new mo(e)}function pv(e){return!Wa(e.limit)&&e.limitType==="F"}function Sg(e){return!Wa(e.limit)&&e.limitType==="L"}function vS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gS(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function mS(e){return e.collectionGroup!==null}function Tl(e){var t=K(e);if(t.p===null){t.p=[];var n=gS(t),r=vS(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new el(n)),t.p.push(new el(ai.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new el(ai.keyField(),c))}}}return t.p}function Dr(e){var t=K(e);if(!t.T)if(t.limitType==="F")t.T=Ox(t.path,t.collectionGroup,Tl(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Tl(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new el(s.field,a))}var l=t.endAt?new yh(t.endAt.position,!t.endAt.before):null,c=t.startAt?new yh(t.startAt.position,!t.startAt.before):null;t.T=Ox(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function FF(e,t,n){return new mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rd(e,t){return Fm(Dr(e),Dr(t))&&e.limitType===t.limitType}function UF(e){return nd(Dr(e))+"|lt:"+e.limitType}function PE(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+dS(i.value);var i}).join(", ")+"]"),Wa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Tg(t.startAt)),t.endAt&&(n+=", endAt: "+Tg(t.endAt)),"Target("+n+")"}(Dr(e))+"; limitType="+e.limitType+")"}function id(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!Dx(n.startAt,Tl(n),r))&&(!n.endAt||!Dx(n.endAt,Tl(n),r))}(e,t)}function jF(e){return function(t,n){for(var r=!1,i=0,s=Tl(e);i<s.length;i++){var a=s[i],l=B7(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function B7(e,t,n){var r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?bl(l,c):te()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(t)?"-0":t}}function VF(e){return{integerValue:""+e}}function $F(e,t){return OF(t)?VF(t):BF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um=function(){this._=void 0};function V7(e,t,n){return e instanceof Sl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof xa?zF(e,t):e instanceof Pa?HF(e,t):function(r,i){var s=qF(r,i),a=Mx(s)+Mx(r.A);return xE(s)&&xE(r.A)?VF(a):BF(r.R,a)}(e,t)}function $7(e,t,n){return e instanceof xa?zF(e,t):e instanceof Pa?HF(e,t):n}function qF(e,t){return e instanceof Il?xE(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Sl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t}(Um),xa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return G(t,e),t}(Um);function zF(e,t){for(var n=WF(t),r=function(a){n.some(function(l){return Li(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Pa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return G(t,e),t}(Um);function HF(e,t){for(var n=WF(t),r=function(a){n=n.filter(function(l){return!Li(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Il=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return G(t,e),t}(Um);function Mx(e){return mt(e.integerValue||e.doubleValue)}function WF(e){return pS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od=function(e,t){this.field=e,this.transform=t},q7=function(e,t){this.version=e,this.transformResults=t},fn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function vv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var jm=function(){};function z7(e,t,n){e instanceof sd?function(r,i,s){var a=r.value.clone(),l=jx(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Es?function(r,i,s){if(vv(r.precondition,i)){var a=jx(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(KF(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function OE(e,t,n){e instanceof sd?function(r,i,s){if(vv(r.precondition,i)){var a=r.value.clone(),l=Bx(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(Ux(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Es?function(r,i,s){if(vv(r.precondition,i)){var a=Bx(r.fieldTransforms,s,i),l=i.data;l.setAll(KF(r)),l.setAll(a),i.convertToFoundDocument(Ux(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){vv(r.precondition,i)&&i.convertToNoDocument(me.min())}(e,t)}function H7(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=qF(s.transform,a||null);l!=null&&(n==null&&(n=rr.empty()),n.set(s.field,l))}return n||null}function Fx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&_l(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof xa&&h instanceof xa||c instanceof Pa&&h instanceof Pa?_l(c.elements,h.elements,Li):c instanceof Il&&h instanceof Il?Li(c.A,h.A):c instanceof Sl&&h instanceof Sl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ux(e){return e.isFoundDocument()?e.version:me.min()}var sd=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return G(t,e),t}(jm),Es=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return G(t,e),t}(jm);function KF(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function jx(e,t,n){var r=new Map;ae(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,$7(a,l,n[i]))}return r}function Bx(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,V7(l,c,t))}return r}var gt,Ie,ad=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return G(t,e),t}(jm),yS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return G(t,e),t}(jm),W7=function(e){this.count=e};function GF(e){switch(e){case D.OK:return te();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return te()}}function QF(e){if(e===void 0)return _t("GRPC error has no .code"),D.UNKNOWN;switch(e){case gt.OK:return D.OK;case gt.CANCELLED:return D.CANCELLED;case gt.UNKNOWN:return D.UNKNOWN;case gt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case gt.INTERNAL:return D.INTERNAL;case gt.UNAVAILABLE:return D.UNAVAILABLE;case gt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case gt.NOT_FOUND:return D.NOT_FOUND;case gt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case gt.ABORTED:return D.ABORTED;case gt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case gt.DATA_LOSS:return D.DATA_LOSS;default:return te()}}(Ie=gt||(gt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=function(){function e(t,n){this.comparator=t,this.root=n||Bo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Vp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Vp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Vp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Vp(this.root,t,this.comparator,!0)},e}(),Vp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Bo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();var t=this.left.check();if(t!==this.right.check())throw te();return t+(this.isRed()?0:1)},e}();Bo.EMPTY=null,Bo.RED=!0,Bo.BLACK=!1,Bo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw te()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw te()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Bo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(){function e(t){this.comparator=t,this.data=new yn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new Vx(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new Vx(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Vx=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),K7=new yn(ne.comparator);function Ar(){return K7}var G7=new yn(ne.comparator);function DE(){return G7}var Q7=new yn(ne.comparator);function YF(){return Q7}var Y7=new xt(ne.comparator);function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Y7,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var X7=new xt(Ee);function Bm(){return X7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _S=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,wS.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(me.min(),r,Bm(),Ar(),Me())},e}(),wS=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(xn.EMPTY_BYTE_STRING,n,Me(),Me(),Me())},e}(),gv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},XF=function(e,t){this.targetId=e,this.V=t},JF=function(e,t,n,r){n===void 0&&(n=xn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},$x=function(){function e(){this.S=0,this.D=zx(),this.C=xn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=Me(),n=Me(),r=Me();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new wS(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=zx()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),J7=function(){function e(t){this.W=t,this.G=new Map,this.H=Ar(),this.J=qx(),this.Y=new xt(Ee)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:te()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(bg(s))if(r===0){var a=new ne(s.path);this.tt(n,a,nn.newNoDocument(a,me.min()))}else ae(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&bg(c.target)){var h=new ne(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,nn.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Me();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new _S(t,r,this.Y,this.H,i);return this.H=Ar(),this.J=qx(),this.Y=new xt(Ee),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new $x,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new xt(Ee),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new $x),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function qx(){return new yn(ne.comparator)}function zx(){return new yn(ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z7={asc:"ASCENDING",desc:"DESCENDING"},eQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tQ=function(e,t){this.databaseId=e,this.I=t};function _h(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZF(e,t){return e.I?t.toBase64():t.toUint8Array()}function nQ(e,t){return _h(e,t.toTimestamp())}function Bt(e){return ae(!!e),me.fromTimestamp(function(t){var n=ds(t);return new Gn(n.seconds,n.nanos)}(e))}function ES(e,t){return function(n){return new xe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function e4(e){var t=xe.fromString(e);return ae(u4(t)),t}function wh(e,t){return ES(e.databaseId,t.path)}function Ni(e,t){var n=e4(t);if(n.get(1)!==e.databaseId.projectId)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new j(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne(n4(n))}function LE(e,t){return ES(e.databaseId,t)}function t4(e){var t=e4(e);return t.length===4?xe.emptyPath():n4(t)}function Eh(e){return new xe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function n4(e){return ae(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Hx(e,t,n){return{name:wh(e,t),fields:n.value.mapValue.fields}}function r4(e,t,n){var r=Ni(e,t.name),i=Bt(t.updateTime),s=new rr({mapValue:{fields:t.fields}}),a=nn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ig(e,t){var n;if(t instanceof sd)n={update:Hx(e,t.key,t.value)};else if(t instanceof ad)n={delete:wh(e,t.key)};else if(t instanceof Es)n={update:Hx(e,t.key,t.data),updateMask:aQ(t.fieldMask)};else{if(!(t instanceof yS))return te();n={verify:wh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Sl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Il)return{fieldPath:s.field.canonicalString(),increment:a.A};throw te()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:nQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(e,t.precondition)),n}function Wx(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?fn.updateTime(Bt(h.updateTime)):h.exists!==void 0?fn.exists(h.exists):fn.none()}(t.currentDocument):fn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var m=null;if("setToServerValue"in v)ae(v.setToServerValue==="REQUEST_TIME"),m=new Sl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new xa(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];m=new Pa(w)}else"increment"in v?m=new Il(p,v.increment):te();var S=ai.fromServerFormat(v.fieldPath);return new od(S,m)}(e,h)}):[];if(t.update){t.update.name;var i=Ni(e,t.update.name),s=new rr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new wl(p.map(function(v){return ai.fromServerFormat(v)}))}(t.updateMask);return new Es(i,s,a,n,r)}return new sd(i,s,n,r)}if(t.delete){var l=Ni(e,t.delete);return new ad(l,n)}if(t.verify){var c=Ni(e,t.verify);return new yS(c,n)}return te()}function i4(e,t){return{documents:[LE(e,t.path)]}}function o4(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=LE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=LE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(Px(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NAN"}};if(xx(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(Px(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NOT_NAN"}};if(xx(p.value))return{unaryFilter:{field:Iu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(p.field),op:iQ(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:Iu(h.field),direction:rQ(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Wa(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Kx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Kx(t.endAt)),n}function s4(e){var t=t4(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ae(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=a4(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new el(Wu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var c=null;n.limit&&(c=function(v){var m;return Wa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=Gx(n.startAt));var p=null;return n.endAt&&(p=Gx(n.endAt)),MF(t,i,l,a,c,"F",h,p)}function a4(e){return e?e.unaryFilter!==void 0?[sQ(e)]:e.fieldFilter!==void 0?[oQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return a4(t)}).reduce(function(t,n){return t.concat(n)}):te():[]}function Kx(e){return{before:e.before,values:e.position}}function Gx(e){var t=!!e.before,n=e.values||[];return new yh(n,t)}function rQ(e){return Z7[e]}function iQ(e){return eQ[e]}function Iu(e){return{fieldPath:e.canonicalString()}}function Wu(e){return ai.fromServerFormat(e.fieldPath)}function oQ(e){return sr.create(Wu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}function sQ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Wu(e.unaryFilter.field);return sr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Wu(e.unaryFilter.field);return sr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wu(e.unaryFilter.field);return sr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wu(e.unaryFilter.field);return sr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return te()}}function aQ(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function u4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qx(t)),t=uQ(e.get(n),t);return Qx(t)}function uQ(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Qx(e){return e+""}function to(e){var t=e.length;if(ae(t>=2),t===2)return ae(e.charAt(0)===""&&e.charAt(1)===""),xe.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&te(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:te()}s=a+2}return new xe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lQ=function(e,t){this.seconds=e,this.nanoseconds=t},tr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};tr.store="owner",tr.key="owner";var is=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};is.store="mutationQueues",is.keyPath="userId";var ze=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ze.store="mutations",ze.keyPath="batchId",ze.userMutationsIndex="userMutationsIndex",ze.userMutationsKeyPath=["userId","batchId"];var cn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,oi(n)]},e.key=function(t,n,r){return[t,oi(n),r]},e}();cn.store="documentMutations",cn.PLACEHOLDER=new cn;var cQ=function(e,t){this.path=e,this.readTime=t},fQ=function(e,t){this.path=e,this.version=t},st=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};st.store="remoteDocuments",st.readTimeIndex="readTimeIndex",st.readTimeIndexPath="readTime",st.collectionReadTimeIndex="collectionReadTimeIndex",st.collectionReadTimeIndexPath=["parentPath","readTime"];var Si=function(e){this.byteSize=e};Si.store="remoteDocumentGlobal",Si.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var Yt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Yt.store="targetDocuments",Yt.keyPath=["targetId","path"],Yt.documentTargetsIndex="documentTargetsIndex",Yt.documentTargetsKeyPath=["path","targetId"];var nr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};nr.key="targetGlobalKey",nr.store="targetGlobal";var va=function(e,t){this.collectionId=e,this.parent=t};va.store="collectionParents",va.keyPath=["collectionId","parent"];var io=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};io.store="clientMetadata",io.keyPath="clientId";var kl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};kl.store="bundles",kl.keyPath="bundleId";var Cl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Cl.store="namedQueries",Cl.keyPath="name";var hQ=pe(pe([],pe(pe([],pe(pe([],pe(pe([],[is.store,ze.store,cn.store,st.store,qn.store,tr.store,nr.store,Yt.store]),[io.store])),[Si.store])),[va.store])),[kl.store,Cl.store]),l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",c4=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),mn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},V=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),f4=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new mn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Df(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=bS(i.target.error);r.ft.reject(new Df(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Df(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(H("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new pQ(n)},e}(),Nl=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Sa())===12.2&&_t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return H("SimpleDb","Removing database:",t),ea(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Sa(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(H("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Df(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new j(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Df(t,h))},l.onupgradeneeded=function(c){H("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){H("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var v,m,y,w,S;return N(this,function(C){switch(C.label){case 0:++a,C.label=1;case 1:return C.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=C.sent(),v=f4.open(c.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(b){return v.abort(b),V.reject(b)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(C.sent(),m),y)];case 4:return w=C.sent(),S=w.name!=="FirebaseError"&&a<3,H("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),c.close(),S?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),dQ=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ea(this.Pt.delete())},e}(),Df=function(e){function t(n,r){var i=this;return(i=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return G(t,e),t}(j);function Ka(e){return e.name==="IndexedDbTransactionError"}var pQ=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(H("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ea(r)},e.prototype.add=function(t){return H("SimpleDb","ADD",this.store.name,t,t),ea(this.store.add(t))},e.prototype.get=function(t){var n=this;return ea(this.store.get(t)).next(function(r){return r===void 0&&(r=null),H("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return H("SimpleDb","DELETE",this.store.name,t),ea(this.store.delete(t))},e.prototype.count=function(){return H("SimpleDb","COUNT",this.store.name),ea(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){H("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new V(function(r,i){n.onerror=function(s){var a=bS(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new V(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new dQ(l),h=n(l.primaryKey,l.value,c);if(h instanceof V){var p=h.catch(function(v){return c.done(),V.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return V.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ea(e){return new V(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=bS(r.target.error);n(i)}})}var Yx=!1;function bS(e){var t=Nl._t(Sa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Yx||(Yx=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return G(t,e),t}(c4);function Yn(e,t){var n=K(e);return Nl.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TS=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&z7(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&OE(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&OE(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(me.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Me())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&_l(this.mutations,t.mutations,function(n,r){return Fx(n,r)})&&_l(this.baseMutations,t.baseMutations,function(n,r){return Fx(n,r)})},e}(),vQ=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ae(t.mutations.length===r.length);for(var i=YF(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),Vm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=me.min()),a===void 0&&(a=me.min()),l===void 0&&(l=xn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),h4=function(e){this.Lt=e};function ME(e,t){if(t.document)return r4(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ne.fromSegments(t.noDocument.path),r=Rl(t.noDocument.readTime),i=nn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=ne.fromSegments(t.unknownDocument.path);return r=Rl(t.unknownDocument.version),nn.newUnknownDocument(s,r)}return te()}function Jx(e,t,n){var r=SS(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:wh(v,m.key),fields:m.data.value.mapValue.fields,updateTime:_h(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new st(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=Al(t.version);return a=t.hasCommittedMutations,new st(null,new cQ(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=Al(t.version);return new st(new fQ(h,p),null,null,!0,r,i)}return te()}function SS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function d4(e){var t=new Gn(e[0],e[1]);return me.fromTimestamp(t)}function Al(e){var t=e.toTimestamp();return new lQ(t.seconds,t.nanoseconds)}function Rl(e){var t=new Gn(e.seconds,e.nanoseconds);return me.fromTimestamp(t)}function Au(e,t){for(var n=(t.baseMutations||[]).map(function(c){return Wx(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return Wx(e.Lt,c)}),l=Gn.fromMillis(t.localWriteTimeMs);return new TS(t.batchId,l,n,a)}function hf(e){var t,n,r=Rl(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Rl(e.lastLimboFreeSnapshotVersion):me.min();return e.query.documents!==void 0?(ae((n=e.query).documents.length===1),t=Dr(Ql(t4(n.documents[0])))):t=function(s){return Dr(s4(s))}(e.query),new Vm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xn.fromBase64String(e.resumeToken))}function p4(e,t){var n,r=Al(t.snapshotVersion),i=Al(t.lastLimboFreeSnapshotVersion);n=bg(t.target)?i4(e.Lt,t.target):o4(e.Lt,t.target);var s=t.resumeToken.toBase64();return new qn(t.targetId,nd(t.target),r,s,t.sequenceNumber,i,n)}function IS(e){var t=s4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?FF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gQ=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Zx(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Rl(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Zx(t).put({bundleId:(r=n).id,createTime:Al(Bt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return eP(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:IS(i.bundledQuery),readTime:Rl(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return eP(t).put(function(r){return{name:r.name,readTime:Al(Bt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Zx(e){return Yn(e,kl.store)}function eP(e){return Yn(e,Cl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mQ=function(){function e(){this.Bt=new kS}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),V.resolve()},e.prototype.getCollectionParents=function(t,n){return V.resolve(this.Bt.getEntries(n))},e}(),kS=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new xt(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new xt(xe.comparator)).toArray()},e}(),yQ=function(){function e(){this.qt=new kS}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:oi(s)};return tP(t).put(a)}return V.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[AF(n),""],!1,!0);return tP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(to(c.parent))}return r})},e}();function tP(e){return Yn(e,va.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(e,t,n){var r=e.store(ze.store),i=e.store(cn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(w,S,C){return l++,C.delete()});s.push(c.next(function(){ae(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],y=cn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return V.waitFor(s).next(function(){return h})}function kg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw te();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);var _Q=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ae(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Po(t).$t({index:ze.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Ru(t),l=Po(t);return l.add({}).next(function(c){ae(typeof c=="number");for(var h=new TS(c,n,r,i),p=function(b,T,I){var P=I.baseMutations.map(function(O){return Ig(b.Lt,O)}),L=I.mutations.map(function(O){return Ig(b.Lt,O)});return new ze(T,I.batchId,I.localWriteTime.toMillis(),P,L)}(s.R,s.userId,h),v=[],m=new xt(function(b,T){return Ee(b.canonicalString(),T.canonicalString())}),y=0,w=i;y<w.length;y++){var S=w[y],C=cn.key(s.userId,S.key.path,c);m=m.add(S.key.path.popLast()),v.push(l.put(p)),v.push(a.put(C,cn.PLACEHOLDER))}return m.forEach(function(b){v.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),V.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Po(t).get(n).next(function(i){return i?(ae(i.userId===r.userId),Au(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?V.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Po(t).$t({index:ze.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ae(c.batchId>=i),a=Au(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Po(t).$t({index:ze.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Po(t).Nt(ze.userMutationsIndex,r).next(function(i){return i.map(function(s){return Au(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=cn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Ru(t).$t({range:s},function(l,c,h){var p=l[0],v=l[1],m=l[2],y=to(v);if(p===r.userId&&n.path.isEqual(y))return Po(t).get(m).next(function(w){if(!w)throw te();ae(w.userId===r.userId),a.push(Au(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new xt(Ee),s=[];return n.forEach(function(a){var l=cn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Ru(t).$t({range:c},function(p,v,m){var y=p[0],w=p[1],S=p[2],C=to(w);y===r.userId&&a.path.isEqual(C)?i=i.add(S):m.done()});s.push(h)}),V.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=cn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new xt(Ee);return Ru(t).$t({range:l},function(h,p,v){var m=h[0],y=h[1],w=h[2],S=to(y);m===r.userId&&i.isPrefixOf(S)?S.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Po(t).get(a).next(function(l){if(l===null)throw te();ae(l.userId===r.userId),i.push(Au(r.R,l))}))}),V.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return v4(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),V.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return V.resolve();var i=IDBKeyRange.lowerBound(cn.prefixForUser(n.userId)),s=[];return Ru(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=to(a[1]);s.push(h)}else c.done()}).next(function(){ae(s.length===0)})})},e.prototype.containsKey=function(t,n){return g4(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return m4(t).get(this.userId).next(function(r){return r||new is(n.userId,-1,"")})},e}();function g4(e,t,n){var r=cn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Ru(e).$t({range:s,Ft:!0},function(l,c,h){var p=l[0],v=l[1];l[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Po(e){return Yn(e,ze.store)}function Ru(e){return Yn(e,cn.store)}function m4(e){return Yn(e,is.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cg=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),wQ=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Cg(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return me.fromTimestamp(new Gn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ku(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ae(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return ku(t).$t(function(l,c){var h=hf(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return V.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return ku(t).$t(function(r,i){var s=hf(i);n(s)})},e.prototype.Xt=function(t){return rP(t).get(nr.key).next(function(n){return ae(n!==null),n})},e.prototype.Zt=function(t,n){return rP(t).put(nr.key,n)},e.prototype.te=function(t,n){return ku(t).put(p4(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=nd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ku(t).$t({range:i,index:qn.queryTargetsIndexName},function(a,l,c){var h=hf(l);Fm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Vo(t);return n.forEach(function(l){var c=oi(l.path);s.push(a.put(new Yt(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),V.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Vo(t);return V.forEach(n,function(a){var l=oi(a.path);return V.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Vo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vo(t),s=Me();return i.$t({range:r,Ft:!0},function(a,l,c){var h=to(a[1]),p=new ne(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=oi(n.path),i=IDBKeyRange.bound([r],[AF(r)],!1,!0),s=0;return Vo(t).$t({index:Yt.documentTargetsIndex,Ft:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return ku(t).get(n).next(function(r){return r?hf(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){return Yn(e,qn.store)}function rP(e){return Yn(e,nr.store)}function Vo(e){return Yn(e,Yt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e){return A(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==l4)throw e;return H("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ee(n,i);return a===0?Ee(r,s):a}var EQ=function(){function e(t){this.ne=t,this.buffer=new xt(iP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();iP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),bQ=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;H("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ka(i=s.sent())?(H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ga(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),TQ=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return V.resolve(or.o);var i=new EQ(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(nP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),nP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),i=p.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),p.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),AE()<=ye.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),SQ=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new TQ(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return $p(t,r)},e.prototype.removeReference=function(t,n,r){return $p(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return $p(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return m4(r).Ot(function(a){return g4(r,a,i).next(function(l){return l&&(s=!0),V.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),Vo(t).delete([0,oi(l.path)])})});s.push(h)}}).next(function(){return V.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return $p(t,n)},e.prototype.we=function(t,n){var r,i=Vo(t),s=or.o;return i.$t({index:Yt.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,p=l.sequenceNumber;c===0?(s!==or.o&&n(new ne(to(r)),s),s=p,r=h):s=or.o}).next(function(){s!==or.o&&n(new ne(to(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function $p(e,t){return Vo(e).put(function(n,r){return new Yt(0,oi(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ha(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return RF(this.inner)},e}(),y4=function(){function e(){this.changes=new Yl(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:me.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:nn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?V.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),IQ=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Fo(t).put(qp(n),r)},e.prototype.removeEntry=function(t,n){var r=Fo(t),i=qp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Fo(t).get(qp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Fo(t).get(qp(n)).next(function(i){return{document:r.ye(n,i),size:kg(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Ar();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Ar(),s=new yn(ne.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,kg(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return V.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Fo(t).$t({range:i},function(l,c,h){for(var p=ne.fromSegments(l);a&&ne.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Ar(),a=n.path.length+1,l={};if(r.isEqual(me.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=SS(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=st.collectionReadTimeIndex}return Fo(t).$t(l,function(v,m,y){if(v.length===a){var w=ME(i.R,m);n.path.isPrefixOf(w.key.path)?id(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new kQ(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return oP(t).get(Si.key).next(function(n){return ae(!!n),n})},e.prototype.me=function(t,n){return oP(t).put(Si.key,n)},e.prototype.ye=function(t,n){if(n){var r=ME(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(me.min()))return r}return nn.newInvalidDocument(t)},e}(),kQ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Yl(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return G(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new xt(function(l,c){return Ee(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=Jx(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=kg(p);s+=v-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var m=Jx(r.Ie.R,nn.newNoDocument(l,me.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),V.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(y4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(e){return Yn(e,Si.store)}function Fo(e){return Yn(e,st.store)}function qp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CQ=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ae(r<i&&r>=0&&i<=11);var a=new f4("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(tr.store)}(t),function(c){c.createObjectStore(is.store,{keyPath:is.keyPath}),c.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0}),c.createObjectStore(cn.store)}(t),sP(t),function(c){c.createObjectStore(st.store)}(t));var l=V.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Yt.store),c.deleteObjectStore(qn.store),c.deleteObjectStore(nr.store)}(t),sP(t)),l=l.next(function(){return function(c){var h=c.store(nr.store),p=new nr(0,0,me.min().toTimestamp(),0);return h.put(nr.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(ze.store).Nt().next(function(p){c.deleteObjectStore(ze.store),c.createObjectStore(ze.store,{keyPath:ze.keyPath,autoIncrement:!0}).createIndex(ze.userMutationsIndex,ze.userMutationsKeyPath,{unique:!0});var v=h.store(ze.store),m=p.map(function(y){return v.put(y)});return V.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(io.store,{keyPath:io.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Si.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(st.store);h.createIndex(st.readTimeIndex,st.readTimeIndexPath,{unique:!1}),h.createIndex(st.collectionReadTimeIndex,st.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(kl.store,{keyPath:kl.keyPath})})(t),function(c){c.createObjectStore(Cl.store,{keyPath:Cl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(st.store).$t(function(r,i){n+=kg(i)}).next(function(){var r=new Si(n);return t.store(Si.store).put(Si.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(is.store),i=t.store(ze.store);return r.Nt().next(function(s){return V.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(ze.userMutationsIndex,l).next(function(c){return V.forEach(c,function(h){ae(h.userId===a.userId);var p=Au(n.R,h);return v4(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Yt.store),r=t.store(st.store);return t.store(nr.store).get(nr.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new xe(a),h=function(p){return[0,oi(p)]}(c);s.push(n.get(h).next(function(p){return p?V.resolve():function(v){return n.put(new Yt(0,oi(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return V.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(va.store,{keyPath:va.keyPath});var r=n.store(va.store),i=new kS,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:oi(c)})}};return n.store(st.store).$t({Ft:!0},function(a,l){var c=new xe(a);return s(c.popLast())}).next(function(){return n.store(cn.store).$t({Ft:!0},function(a,l){a[0];var c=a[1];a[2];var h=to(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(qn.store);return r.$t(function(i,s){var a=hf(s),l=p4(n.R,a);return r.put(l)})},e}();function sP(e){e.createObjectStore(Yt.store,{keyPath:Yt.keyPath}).createIndex(Yt.documentTargetsIndex,Yt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(nr.store)}var xw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NQ=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new j(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SQ(this,i),this.Le=n+"main",this.R=new h4(c),this.Be=new Nl(this.Le,11,new CQ(this.R)),this.qe=new wQ(this.referenceDelegate,this.R),this.Ut=new yQ,this.Ue=function(v,m){return new IQ(v,m)}(this.R,this.Ut),this.Ke=new gQ,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&_t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,xw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new or(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return A(n,void 0,void 0,function(){return N(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return A(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return A(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return zp(n).put(new io(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ka(n))return H("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return H("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return rf(t).get(tr.key).next(function(r){return V.resolve(n.tn(r))})},e.prototype.en=function(t){return zp(t).delete(this.clientId)},e.prototype.nn=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Yn(l,io.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(m){return p.indexOf(m)===-1});return V.forEach(v,function(m){return c.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?V.resolve(!0):rf(t).get(tr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new j(D.FAILED_PRECONDITION,xw);return!1}}return!(!n.networkEnabled||!n.inForeground)||zp(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&H("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return A(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tr.store,io.store],function(r){var i=new Xx(r,or.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return zp(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return _Q.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;H("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,hQ,function(l){return s=new Xx(l,i.Ne?i.Ne.next():or.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw _t("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new j(D.FAILED_PRECONDITION,l4);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return rf(t).get(tr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new j(D.FAILED_PRECONDITION,xw)})},e.prototype.Ze=function(t){var n=new tr(this.clientId,this.allowTabSynchronization,Date.now());return rf(t).put(tr.key,n)},e.yt=function(){return Nl.yt()},e.prototype.Xe=function(t){var n=this,r=rf(t);return r.get(tr.key).next(function(i){return n.tn(i)?(H("IndexedDbPersistence","Releasing primary lease."),r.delete(tr.key)):V.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(_t("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),hz()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return H("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return _t("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){_t("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function rf(e){return Yn(e,tr.store)}function zp(e){return Yn(e,io.store)}function CS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var AQ=function(e,t){this.progress=e,this.wn=t},_4=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):mS(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new ne(n)).next(function(r){var i=DE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=DE();return this.Ut.getCollectionParents(t,s).next(function(l){return V.forEach(l,function(c){var h=function(p,v){return new mo(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],m=0,y=v.mutations;m<y.length;m++){var w=y[m],S=w.key,C=i.get(S);C==null&&(C=nn.newInvalidDocument(S),i=i.insert(S,C)),OE(w,C,v.localWriteTime),C.isFoundDocument()||(i=i.remove(S))}})}).next(function(){return i.forEach(function(l,c){id(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Me(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof Es&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(p=p.insert(m,y))}),p})},e}(),RQ=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Me(),i=Me(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),w4=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(me.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(pv(n)||Sg(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(AE()<=ye.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),PE(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new xt(jF(t));return n.forEach(function(i,s){id(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return AE()<=ye.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",PE(n)),this.Sn.getDocumentsMatchingQuery(t,n,me.min())},e}(),xQ=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new yn(Ee),this.Fn=new Yl(function(s){return nd(s)},Fm),this.$n=me.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new _4(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(e,t,n,r){return new xQ(e,t,n,r)}function b4(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=K(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new _4(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],m=Me(),y=0,w=c;y<w.length;y++){var S=w[y];p.push(S.batchId);for(var C=0,b=S.mutations;C<b.length;C++){var T=b[C];m=m.add(T.key)}}for(var I=0,P=h;I<P.length;I++){var L=P[I];v.push(L.batchId);for(var O=0,B=L.mutations;O<B.length;O++){var F=B[O];m=m.add(F.key)}}return i.pn(l,m).next(function(ue){return{Ln:ue,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function PQ(e,t){var n=K(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,v=p.keys(),m=V.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(w){var S=c.docVersions.get(y);ae(S!==null),w.version.compareTo(S)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function T4(e){var t=K(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function OQ(e,t){var n=K(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var l=[];t.targetChanges.forEach(function(p,v){var m=i.get(v);if(m){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var w=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(S,C,b){return ae(C.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,w,p)&&l.push(n.qe.updateTargetData(s,w))}}});var c=Ar();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(S4(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(me.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return V.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=i,s})}function S4(e,t,n,r,i){var s=Me();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Ar();return n.forEach(function(c,h){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(me.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):H("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function DQ(e,t){var n=K(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function xl(e,t){var n=K(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,V.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Vm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Pl(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=K(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ka(a=l.sent()))throw a;return H("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Ng(e,t,n){var r=K(e),i=me.min(),s=Me();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=K(l),v=p.Fn.get(h);return v!==void 0?V.resolve(p.kn.get(v)):p.qe.getTargetData(c,h)}(r,a,Dr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:me.min(),n?s:Me())}).next(function(l){return{documents:l,Bn:s}})})}function I4(e,t){var n=K(e),r=K(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function k4(e){var t=K(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=K(r),l=Ar(),c=SS(s),h=Fo(i),p=IDBKeyRange.lowerBound(c,!0);return h.$t({index:st.readTimeIndex,range:p},function(v,m){var y=ME(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:d4(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function LQ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=K(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Fo(i),a=me.min();return s.$t({index:st.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=d4(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function MQ(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:for(i=K(e),s=Me(),a=Ar(),l=YF(),c=0,h=n;c<h.length;c++)p=h[c],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),l=l.insert(v,t.Kn(p.metadata.readTime));return m=i.On.newChangeBuffer({trackRemovals:!0}),[4,xl(i,function(S){return Dr(Ql(xe.fromString("__bundle__/docs/"+S)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(S){return S4(S,m,a,me.min(),l).next(function(C){return m.apply(S),C}).next(function(C){return i.qe.removeMatchingKeysForTargetId(S,y.targetId).next(function(){return i.qe.addMatchingKeys(S,s,y.targetId)}).next(function(){return i.Mn.En(S,C)}).next(function(){return C})})})]}})})}function FQ(e,t,n){return n===void 0&&(n=Me()),A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,xl(e,Dr(IS(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=K(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Bt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(xn.EMPTY_BYTE_STRING,l);return i.kn=i.kn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UQ=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return V.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Bt(r.createTime)}),V.resolve()},e.prototype.getNamedQuery=function(t,n){return V.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:IS(r.bundledQuery),readTime:Bt(r.readTime)}}(n)),V.resolve()},e}(),NS=function(){function e(){this.Wn=new xt(Dt.Gn),this.zn=new xt(Dt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Dt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Dt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new ne(new xe([])),i=new Dt(r,t),s=new Dt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new ne(new xe([])),r=new Dt(n,t),i=new Dt(n,t+1),s=Me();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Dt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Dt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return ne.comparator(t.key,n.key)||Ee(t.ns,n.ns)},e.Hn=function(t,n){return Ee(t.ns,n.ns)||ne.comparator(t.key,n.key)},e}(),jQ=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new xt(Dt.Gn)}return e.prototype.checkEmpty=function(t){return V.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new TS(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Dt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return V.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return V.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return V.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return V.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return V.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Dt(n,0),s=new Dt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),V.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new xt(Ee);return n.forEach(function(s){var a=new Dt(s,0),l=new Dt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),V.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));var a=new Dt(new ne(s),0),l=new xt(Ee);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),V.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ae(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return V.forEach(n.mutations,function(s){var a=new Dt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Dt(n,0),i=this.rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,V.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),BQ=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new yn(ne.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return V.resolve(r?r.document.clone():nn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Ar();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():nn.newInvalidDocument(s))}),V.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Ar(),s=new ne(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||id(n,p)&&(i=i.insert(p.key,p.clone()))}return V.resolve(i)},e.prototype.fs=function(t,n){return V.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new VQ(this)},e.prototype.getSize=function(t){return V.resolve(this.size)},e}(),VQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return G(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),V.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(y4),$Q=function(){function e(t){this.persistence=t,this.ds=new Yl(function(n){return nd(n)},Fm),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.ws=0,this._s=new NS,this.targetCount=0,this.ys=Cg.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),V.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return V.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return V.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),V.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),V.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Cg(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,V.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),V.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,V.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),V.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return V.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return V.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),V.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),V.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),V.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return V.resolve(r)},e.prototype.containsKey=function(t,n){return V.resolve(this._s.containsKey(n))},e}(),qQ=function(){function e(t,n){var r=this;this.gs={},this.Ne=new or(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new $Q(this),this.Ut=new mQ,this.Ue=function(i,s){return new BQ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new h4(n),this.Ke=new UQ(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new jQ(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;H("MemoryPersistence","Starting transaction:",t);var s=new zQ(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return V.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),zQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return G(t,e),t}(c4),HQ=function(){function e(t){this.persistence=t,this.As=new NS,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw te()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),V.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),V.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),V.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.vs,function(i){var s=ne.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return V.or([function(){return V.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Kt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e,t){return"firestore_clients_"+e+"_"+t}function uP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Pw(e,t){return"firestore_targets_"+e+"_"+t}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");var lP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new j(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(_t("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ow=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new j(i.error.code,i.error.message)),s?new e(t,i.state,r):(_t("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),cP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Bm(),a=0;i&&a<r.activeTargetIds.length;++a)i=OF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(_t("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),WQ=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(_t("SharedClientState","Failed to parse online state: "+t),null)},e}(),FE=function(){function e(){this.activeTargetIds=Bm()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Dw=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new yn(Ee),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=aP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new FE),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(aP(this.persistenceKey,i)))&&(a=cP.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.$s;h<p.length;h++)v=p[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Pw(this.persistenceKey,t));if(r){var i=Ow.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Pw(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return H("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){H("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){H("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(H("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void _t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return A(n,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var m=or.o;if(v!=null)try{var y=JSON.parse(v);ae(typeof y=="number"),m=y}catch(w){_t("SharedClientState","Failed to read sequence number from WebStorage",w)}return m}(r.newValue))!==or.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new lP(this.currentUser,t,n,r),s=uP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=uP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Pw(this.persistenceKey,t),s=new Ow(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return cP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return lP.Vs(new Kt(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Ow.Vs(i,n)},e.prototype.js=function(t){return WQ.Vs(t)},e.prototype.ii=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(H("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Bm();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),C4=function(){function e(){this.li=new FE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new FE,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),KQ=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),fP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),GQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},QQ=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),YQ=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return G(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,l){var c=new C7;c.listenOnce(S7.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Rw.NO_ERROR:var p=c.getResponseJson();H("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Rw.TIMEOUT:H("Connection",'RPC "'+n+'" timed out'),l(new j(D.DEADLINE_EXCEEDED,"Request time out"));break;case Rw.HTTP_ERROR:var v=c.getStatus();if(H("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(w){var S=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(S)>=0?S:D.UNKNOWN}(m.status);l(new j(y,m.message))}else l(new j(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new j(D.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{H("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=b7(),a=T7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new k7({})),this.ki(l.initMessageHeaders,r),eT()||WD()||lz()||cz()||fz()||tT()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");H("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,v=!1,m=new QQ({Ei:function(w){v?H("Connection","Not sending because WebChannel is closed:",w):(p||(H("Connection","Opening WebChannel transport."),h.open(),p=!0),H("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,S,C){w.listen(S,function(b){try{C(b)}catch(T){setTimeout(function(){throw T},0)}})};return y(h,Bp.EventType.OPEN,function(){v||H("Connection","WebChannel transport opened.")}),y(h,Bp.EventType.CLOSE,function(){v||(v=!0,H("Connection","WebChannel transport closed"),m.Vi())}),y(h,Bp.EventType.ERROR,function(w){v||(v=!0,vh("Connection","WebChannel transport errored:",w),m.Vi(new j(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,Bp.EventType.MESSAGE,function(w){var S;if(!v){var C=w.data[0];ae(!!C);var b=C,T=b.error||((S=b[0])===null||S===void 0?void 0:S.error);if(T){H("Connection","WebChannel received error:",T);var I=T.status,P=function(O){var B=gt[O];if(B!==void 0)return QF(B)}(I),L=T.message;P===void 0&&(P=D.INTERNAL,L="Unknown error status: "+I+" with message "+T.message),v=!0,m.Vi(new j(P,L)),h.close()}else H("Connection","WebChannel received:",C),m.Si(C)}}),y(a,I7.STAT_EVENT,function(w){w.stat===Nx.PROXY?H("Connection","Detected buffering proxy"):w.stat===Nx.NOPROXY&&H("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);H("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(l){return H("RestConnection","Received: ",l),l},function(l){throw vh("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=GQ[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return typeof window<"u"?window:null}function mv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e){return new tQ(e,!0)}var AS=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&H("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),A4=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new AS(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return A(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(_t(n.toString()),_t("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new j(D.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return A(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return H("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),XQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return G(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(C){return C==="NO_CHANGE"?0:C==="ADD"?1:C==="REMOVE"?2:C==="CURRENT"?3:C==="RESET"?4:te()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(C,b){return C.I?(ae(b===void 0||typeof b=="string"),xn.fromBase64String(b||"")):(ae(b===void 0||b instanceof Uint8Array),xn.fromUint8Array(b||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(C){var b=C.code===void 0?D.UNKNOWN:QF(C.code);return new j(b,C.message||"")}(m);l=new JF(c,h,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=Ni(s,c.document.name),p=Bt(c.document.updateTime);var m=new rr({mapValue:{fields:c.document.fields}}),y=(v=nn.newFoundDocument(h,p,m),c.targetIds||[]),w=c.removedTargetIds||[];l=new gv(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=Ni(s,c.document),p=c.readTime?Bt(c.readTime):me.min(),m=nn.newNoDocument(h,p),v=c.removedTargetIds||[],l=new gv([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=Ni(s,c.document),p=c.removedTargetIds||[],l=new gv([],p,h,null);else{if(!("filter"in a))return te();a.filter;var S=a.filter;S.targetId,c=S.count||0,h=new W7(c),p=S.targetId,l=new XF(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return me.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?me.min():a.readTime?Bt(a.readTime):me.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Eh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=bg(c)?{documents:i4(s,c)}:{query:o4(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=ZF(s,a.resumeToken):a.snapshotVersion.compareTo(me.min())>0&&(l.readTime=_h(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return te()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Eh(this.R),r.removeTarget=n,this.cr(r)},t}(A4),JQ=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return G(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ae(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ae(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?Bt(c.updateTime):Bt(h);return p.isEqual(me.min())&&(p=Bt(h)),new q7(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Bt(n.commitTime);return this.listener.Tr(i,r)}return ae(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Eh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Ig(r.R,s)})};this.cr(i)},t}(A4),ZQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return G(t,e),t.prototype.br=function(){if(this.Rr)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new j(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),e9=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(_t(n),this.Vr=!1):H("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),t9=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return A(s,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return bs(this)?(H("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return A(this,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return(h=K(c)).Or.add(4),[4,Xl(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,ld(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new e9(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!bs(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Xl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function $m(e,t){var n=K(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),PS(n)?xS(n):Zl(n).er()&&RS(n,t))}function bh(e,t){var n=K(e),r=Zl(n);n.$r.delete(t),r.er()&&R4(n,t),n.$r.size===0&&(r.er()?r.ir():bs(n)&&n.Br.set("Unknown"))}function RS(e,t){e.qr.U(t.targetId),Zl(e).mr(t)}function R4(e,t){e.qr.U(t),Zl(e).yr(t)}function xS(e){e.qr=new J7({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Zl(e).start(),e.Br.Sr()}function PS(e){return bs(e)&&!Zl(e).tr()&&e.$r.size>0}function bs(e){return K(e).Or.size===0}function x4(e){e.qr=void 0}function n9(e){return A(this,void 0,void 0,function(){return N(this,function(t){return e.$r.forEach(function(n,r){RS(e,n)}),[2]})})}function r9(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){return x4(e),PS(e)?(e.Br.Nr(t),xS(e)):e.Br.set("Unknown"),[2]})})}function i9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof JF&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return A(this,void 0,void 0,function(){var h,p,v,m;return N(this,function(y){switch(y.label){case 0:h=c.cause,p=0,v=c.targetIds,y.label=1;case 1:return p<v.length?(m=v[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),H("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ag(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof gv?e.qr.X(t):t instanceof XF?e.qr.rt(t):e.qr.et(t),n.isEqual(me.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,T4(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(v);m&&l.$r.set(v,m.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var v=l.$r.get(p);if(v){l.$r.set(p,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),R4(l,p);var m=new Vm(v.target,p,1,v.sequenceNumber);RS(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return H("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Ag(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Ag(e,t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Ka(t))throw t;return e.Or.add(1),[4,Xl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return T4(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return H("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,ld(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function P4(e,t){return t().catch(function(n){return Ag(e,n,t)})}function Jl(e){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=K(e),n=ps(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return bs(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,DQ(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.Fr.push(c);var h=ps(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Ag(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return O4(t)&&D4(t),[2]}})})}function O4(e){return bs(e)&&!ps(e).tr()&&e.Fr.length>0}function D4(e){ps(e).start()}function o9(e){return A(this,void 0,void 0,function(){return N(this,function(t){return ps(e).Ar(),[2]})})}function s9(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=ps(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function a9(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=vQ.from(r,t,n),[4,P4(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Jl(e)];case 2:return s.sent(),[2]}})})}function u9(e,t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&ps(e).pr?[4,function(r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return GF(a=i.code)&&a!==D.ABORTED?(s=r.Fr.shift(),ps(r).sr(),[4,P4(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Jl(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return O4(e)&&D4(e),[2]}})})}function UE(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=K(e),t?(n.Or.delete(2),[4,ld(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Xl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Zl(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=K(n);return s.br(),new XQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:n9.bind(null,e),Ri:r9.bind(null,e),_r:i9.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),PS(e)?xS(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),x4(e),r.label=3;case 3:return[2]}})})})),e.Ur}function ps(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=K(n);return s.br(),new JQ(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:o9.bind(null,e),Ri:u9.bind(null,e),Ir:s9.bind(null,e),Tr:a9.bind(null,e)}),e.Mr.push(function(n){return A(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Jl(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(H("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var l9=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ec(e,t){if(_t("AsyncQueue",t+": "+e),Ka(e))return new j(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L4=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||ne.comparator(n.key,r.key)}:function(n,r){return ne.comparator(n.key,r.key)},this.keyedMap=DE(),this.sortedSet=new yn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),hP=function(){function e(){this.Qr=new yn(ne.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):te():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Rg=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,L4.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),c9=function(){this.Wr=void 0,this.listeners=[]},f9=function(){this.queries=new Yl(function(e){return UF(e)},rd),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(n=K(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new c9),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=ec(l,"Initialization of query '"+PE(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&LS(n),[2]}})})}function DS(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){return n=K(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function h9(e,t){for(var n=K(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&LS(n)}function d9(e,t,n){var r=K(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function LS(e){e.Gr.forEach(function(t){t.next()})}var MS=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Rg(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Rg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),p9=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),dP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Ni(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?r4(this.R,t.document,!1):nn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Bt(t)},e}(),v9=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=M4(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new dP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],v=(n.get(p)||Me()).add(l);n.set(p,v)}}return n},e.prototype.complete=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,MQ(this.localStore,new dP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,FQ(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new AQ(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F4=function(e){this.key=e},U4=function(e){this.key=e},j4=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Me(),this.mutatedKeys=Me(),this.lo=jF(t),this.fo=new L4(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new hP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=pv(this.query)&&s.size===this.query.limit?s.last():null,p=Sg(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var w=s.get(m),S=id(r.query,y)?y:null,C=!!w&&r.mutatedKeys.has(w.key),b=!!S&&(S.hasLocalMutations||r.mutatedKeys.has(S.key)&&S.hasCommittedMutations),T=!1;w&&S?w.data.isEqual(S.data)?C!==b&&(i.track({type:3,doc:S}),T=!0):r.yo(w,S)||(i.track({type:2,doc:S}),T=!0,(h&&r.lo(S,h)>0||p&&r.lo(S,p)<0)&&(c=!0)):!w&&S?(i.track({type:0,doc:S}),T=!0):w&&!S&&(i.track({type:1,doc:w}),T=!0,(h||p)&&(c=!0)),T&&(S?(l=l.add(S),a=b?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),pv(this.query)||Sg(this.query))for(;l.size>this.query.limit;){var v=pv(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,y){var w=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return w(m)-w(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Rg(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new hP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Me(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new U4(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new F4(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Me();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Rg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),g9=function(e,t,n){this.query=e,this.targetId=t,this.view=n},m9=function(e){this.key=e,this.bo=!1},y9=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Yl(function(l){return UF(l)},rd),this.Vo=new Map,this.So=new Set,this.Do=new yn(ne.comparator),this.Co=new Map,this.No=new NS,this.xo={},this.ko=new Map,this.Fo=Cg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function _9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=VS(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,xl(n.localStore,Dr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,FS(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&$m(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function FS(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return e.Oo=function(v,m,y){return function(w,S,C,b){return A(this,void 0,void 0,function(){var T,I,P;return N(this,function(L){switch(L.label){case 0:return T=S.view._o(C),T.Nn?[4,Ng(w.localStore,S.query,!1).then(function(O){var B=O.documents;return S.view._o(B,T)})]:[3,2];case 1:T=L.sent(),L.label=2;case 2:return I=b&&b.targetChanges.get(S.targetId),P=S.view.applyChanges(T,w.isPrimaryClient,I),[2,(jE(w,S.targetId,P.To),P.snapshot)]}})})}(e,v,m,y)},[4,Ng(e.localStore,t,!0)];case 1:return i=p.sent(),s=new j4(t,i.Bn),a=s._o(i.documents),l=wS.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),jE(e,n,c.To),h=new g9(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function w9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=K(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!rd(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Pl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),bh(n.remoteStore,r.targetId),Ol(n,r.targetId)}).catch(Ga)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ol(n,r.targetId),[4,Pl(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function E9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:r=$S(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,v=K(c),m=Gn.now(),y=h.reduce(function(w,S){return w.add(S.key)},Me());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(S){p=S;for(var C=[],b=0,T=h;b<T.length;b++){var I=T[b],P=H7(I,p.get(I.key));P!=null&&C.push(new Es(I.key,P,DF(P.value.mapValue),fn.exists(!0)))}return v._n.addMutationBatch(w,m,C,h)})}).then(function(w){return w.applyToLocalDocumentSet(p),{batchId:w.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var v=c.xo[c.currentUser.toKey()];v||(v=new yn(Ee)),v=v.insert(h,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,yo(r,i.changes)];case 3:return l.sent(),[4,Jl(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=ec(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function B4(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=K(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,OQ(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ae(l.bo):s.removedDocuments.size>0&&(ae(l.bo),l.bo=!1))}),[4,yo(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ga(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function pP(e,t,n){var r=K(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=K(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(c=!0)}),c&&LS(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function b9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return(r=K(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new yn(ne.comparator)).insert(s,nn.newNoDocument(s,me.min())),l=Me().add(s),c=new _S(me.min(),new Map,new xt(Ee),a,l),[4,B4(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),BS(r),[3,4];case 2:return[4,Pl(r.localStore,t,!1).then(function(){return Ol(r,t,n)}).catch(Ga)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function T9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=K(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,PQ(n.localStore,t)];case 2:return i=s.sent(),jS(n,r,null),US(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,yo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function S9(e,t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=K(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=K(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(v){return ae(v!==null),p=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),jS(r,t,n),US(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,yo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function I9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:bs((n=K(e)).remoteStore)||H("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=K(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=l.sent(),a=ec(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function US(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function jS(e,t,n){var r=K(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ol(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||V4(e,a)})}function V4(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(bh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),BS(e))}function jE(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof F4?(e.No.addReference(s.key,t),k9(e,s)):s instanceof U4?(H("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||V4(e,s.key)):te()}}function k9(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(H("SyncEngine","New document in limbo: "+n),e.So.add(r),BS(e))}function BS(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ne(xe.fromString(t)),r=e.Fo.next();e.Co.set(r,new m9(n)),e.Do=e.Do.insert(n,r),$m(e.remoteStore,new Vm(Dr(Ql(n.path)),r,2,or.o))}}function yo(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r=K(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=RQ.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return A(this,void 0,void 0,function(){var p,v,m,y,w,S,C,b,T;return N(this,function(I){switch(I.label){case 0:p=K(c),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return V.forEach(h,function(L){return V.forEach(L.bn,function(O){return p.persistence.referenceDelegate.addReference(P,L.targetId,O)}).next(function(){return V.forEach(L.vn,function(O){return p.persistence.referenceDelegate.removeReference(P,L.targetId,O)})})})})];case 2:return I.sent(),[3,4];case 3:if(!Ka(v=I.sent()))throw v;return H("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)w=y[m],S=w.targetId,w.fromCache||(C=p.kn.get(S),b=C.snapshotVersion,T=C.withLastLimboFreeSnapshotVersion(b),p.kn=p.kn.insert(S,T));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function C9(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=K(e)).currentUser.isEqual(t)?[3,3]:(H("SyncEngine","User change. New user:",t.toKey()),[4,b4(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new j(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,yo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function N9(e,t){var n=K(e),r=n.Co.get(t);if(r&&r.bo)return Me().add(r.key);var i=Me(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function A9(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Ng((n=K(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&jE(n,t.targetId,i.To),i)]}})})}function R9(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,k4((t=K(e)).localStore).then(function(r){return yo(t,r)})]})})}function x9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=K(l),p=K(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(m){return m?h.Mn.pn(v,m):V.resolve(null)})})}((i=K(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Jl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(jS(i,t,r||null),US(i,t),function(l,c){K(K(l)._n).Gt(c)}(i.localStore,t)):te(),a.label=4;case 4:return[4,yo(i,s)];case 5:return a.sent(),[3,7];case 6:H("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function P9(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return VS(n=K(e)),$S(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,vP(n,r.toArray())]);case 1:return i=p.sent(),n.$o=!0,[4,UE(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],$m(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return Ol(n,m),Pl(n.localStore,m,!0)}),bh(n.remoteStore,m)}),[4,h]);case 4:return p.sent(),[4,vP(n,c)];case 5:return p.sent(),function(v){var m=K(v);m.Co.forEach(function(y,w){bh(m.remoteStore,w)}),m.No.ts(),m.Co=new Map,m.Do=new yn(ne.comparator)}(n),n.$o=!1,[4,UE(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function vP(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m,y,w,S,C;return N(this,function(b){switch(b.label){case 0:r=K(e),i=[],s=[],a=0,l=t,b.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,xl(r.localStore,Dr(p[0]))]:[3,7]):[3,13];case 2:h=b.sent(),v=0,m=p,b.label=3;case 3:return v<m.length?(y=m[v],w=r.Po.get(y),[4,A9(r,w)]):[3,6];case 4:(S=b.sent()).snapshot&&s.push(S.snapshot),b.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,I4(r.localStore,c)];case 8:return C=b.sent(),[4,xl(r.localStore,C)];case 9:return h=b.sent(),[4,FS(r,$4(C),c,!1)];case 10:b.sent(),b.label=11;case 11:i.push(h),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function $4(e){return MF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function O9(e){var t=K(e);return K(K(t.localStore).persistence).fn()}function D9(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return(i=K(e)).$o?(H("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,k4(i.localStore)];case 3:return s=l.sent(),a=_S.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,yo(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Pl(i.localStore,t,!0)];case 6:return l.sent(),Ol(i,t,r),[3,8];case 7:te(),l.label=8;case 8:return[2]}})})}function L9(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=VS(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(H("SyncEngine","Adding an already active target "+a),[3,5]):[4,I4(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,xl(r.localStore,l)];case 3:return c=y.sent(),[4,FS(r,$4(l),c.targetId,!1)];case 4:y.sent(),$m(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return N(this,function(S){switch(S.label){case 0:return r.Vo.has(w)?[4,Pl(r.localStore,w,!1).then(function(){bh(r.remoteStore,w),Ol(r,w)}).catch(Ga)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(m=v[p],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function VS(e){var t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=N9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b9.bind(null,t),t.vo._r=h9.bind(null,t.eventManager),t.vo.Mo=d9.bind(null,t.eventManager),t}function $S(e){var t=K(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=S9.bind(null,t),t}function M9(e,t,n){var r=K(e);(function(i,s,a){return A(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,S){var C=K(w),b=Bt(S.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",function(T){return C.Ke.getBundleMetadata(T,S.id)}).then(function(T){return!!T&&T.createTime.compareTo(b)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(M4(l)),c=new v9(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,yo(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,S){var C=K(w);return C.persistence.runTransaction("Save bundle","readwrite",function(b){return C.Ke.saveBundleMetadata(b,S)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return vh("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var q4=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.R=ud(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return E4(this.persistence,new w4,t.initialUser,this.R)},e.prototype.qo=function(t){return new qQ(HQ.bs,this.R)},e.prototype.Bo=function(t){return new C4},e.prototype.terminate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),z4=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return G(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,LQ(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,$S(this.Qo.syncEngine)];case 4:return i.sent(),[4,Jl(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return E4(this.persistence,new w4,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new bQ(r,n.asyncQueue)},t.prototype.qo=function(n){var r=CS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new NQ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,N4(),mv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new C4},t}(q4),F9=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return G(t,e),t.prototype.initialize=function(n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Dw?(this.sharedClientState.syncEngine={ui:x9.bind(null,r),ai:D9.bind(null,r),hi:L9.bind(null,r),fn:O9.bind(null,r),ci:R9.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return[4,P9(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=N4();if(!Dw.yt(r))throw new j(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=CS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Dw(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(z4),BE=function(){function e(){}return e.prototype.initialize=function(t,n){return A(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return pP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=C9.bind(null,this.syncEngine),[4,UE(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new f9},e.prototype.createDatastore=function(t){var n,r=ud(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new YQ(n));return function(s,a,l){return new ZQ(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return pP(l.syncEngine,c,0)},a=fP.yt()?new fP:new KQ,new t9(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new y9(r,i,s,a,l,c);return h&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=K(t),H("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Xl(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return A(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return A(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),U9=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new mn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new p9(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),j9=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new j(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return A(this,void 0,void 0,function(){var l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return l=K(s),c=Eh(l.R)+"/documents",h={documents:a.map(function(w){return wh(l.R,w)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(w){var S=function(C,b){return"found"in b?function(T,I){ae(!!I.found),I.found.name,I.found.updateTime;var P=Ni(T,I.found.name),L=Bt(I.found.updateTime),O=new rr({mapValue:{fields:I.found.fields}});return nn.newFoundDocument(P,L,O)}(C,b):"missing"in b?function(T,I){ae(!!I.missing),ae(!!I.readTime);var P=Ni(T,I.missing),L=Bt(I.readTime);return nn.newNoDocument(P,L)}(C,b):te()}(l.R,w);v.set(S.key.toString(),S)}),m=[],[2,(a.forEach(function(w){var S=v.get(w.toString());ae(!!S),m.push(S)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new ad(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ne.fromPath(s);n.mutations.push(new yS(a,n.precondition(a)))}),[4,function(i,s){return A(this,void 0,void 0,function(){var a,l,c;return N(this,function(h){switch(h.label){case 0:return a=K(i),l=Eh(a.R)+"/documents",c={writes:s.map(function(p){return Ig(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw te();n=me.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new j(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?fn.updateTime(n):fn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(me.min()))throw new j(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(n)}return fn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),B9=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new AS(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return A(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new j9(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!GF(n)}return!1},e}(),V9=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Kt.UNAUTHENTICATED,this.clientId=NF.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return A(i,void 0,void 0,function(){return N(this,function(a){switch(a.label){case 0:return H("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return A(this,void 0,void 0,function(){return N(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new j(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return A(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=ec(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(e,t){return A(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return A(i,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,b4(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function W4(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,qS(e)];case 1:return n=i.sent(),H("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return A(this,void 0,void 0,function(){var c,h;return N(this,function(p){switch(p.label){case 0:return(c=K(a)).asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials"),h=bs(c),c.Or.add(3),[4,Xl(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.Or.delete(3),[4,ld(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function qS(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(H("FirestoreClient","Using default OfflineComponentProvider"),[4,H4(e,new q4)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function zm(e){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(H("FirestoreClient","Using default OnlineComponentProvider"),[4,W4(e,new BE)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function mP(e){return qS(e).then(function(t){return t.persistence})}function zS(e){return qS(e).then(function(t){return t.localStore})}function yP(e){return zm(e).then(function(t){return t.remoteStore})}function HS(e){return zm(e).then(function(t){return t.syncEngine})}function Dl(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,zm(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=_9.bind(null,t.syncEngine),n.onUnlisten=w9.bind(null,t.syncEngine),n)]}})})}function _P(e,t,n){var r=this;n===void 0&&(n={});var i=new mn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new qm({next:function(w){c.enqueueAndForget(function(){return DS(l,y)});var S=w.docs.has(h);!S&&w.fromCache?v.reject(new j(D.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?v.reject(new j(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new MS(Ql(h.path),m,{includeMetadataChanges:!0,so:!0});return OS(l,y)},[4,Dl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function wP(e,t,n){var r=this;n===void 0&&(n={});var i=new mn;return e.asyncQueue.enqueueAndForget(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var m=new qm({next:function(w){c.enqueueAndForget(function(){return DS(l,y)}),w.fromCache&&p.source==="server"?v.reject(new j(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new MS(h,m,{includeMetadataChanges:!0,so:!0});return OS(l,y)},[4,Dl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var $9=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},xg=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),EP=new Map,K4=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},bP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Kt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),q9=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),z9=function(){function e(t){var n=this;this.currentUser=Kt.UNAUTHENTICATED,this.oc=new mn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){H("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(H("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(H("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ae(typeof i.accessToken=="string"),new K4(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return A(r,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string"),new Kt(t)},e}(),H9=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),W9=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new H9(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Kt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(e,t,n){if(!n)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function KS(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new j(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function G4(e,t,n,r){if(t===!0&&r===!0)throw new j(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function TP(e){if(!ne.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function SP(e){if(ne.isDocumentKey(e))throw new j(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Hm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":te()}function Ae(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new j(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hm(e);throw new j(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function IP(e,t){if(t<=0)throw new j(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new j(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new j(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,G4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Th=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kP({}),this._settingsFrozen=!1,t instanceof xg?(this._databaseId=t,this._credentials=new bP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xg(r.options.projectId)}(t),this._credentials=new z9(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new bP;switch(n.type){case"gapi":var r=n.client;return ae(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new W9(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=EP.get(t))&&(H("ComponentProvider","Removing Datastore"),EP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),tt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new os(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Qn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),os=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Ql(i))||this)._path=i,s.type="collection",s}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new tt(this.firestore,null,new ne(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),WS("collection","path",t),e instanceof Th)return SP(n=xe.fromString.apply(xe,pe([t],r))),new os(e,null,n);if(!(e instanceof tt||e instanceof os))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SP(n=xe.fromString.apply(xe,pe([e.path],r)).child(xe.fromString(t))),new os(e.firestore,null,n)}function yv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=de(e),arguments.length===1&&(t=NF.u()),WS("doc","path",t),e instanceof Th)return TP(n=xe.fromString.apply(xe,pe([t],r))),new tt(e,null,new ne(n));if(!(e instanceof tt||e instanceof os))throw new j(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TP(n=e._path.child(xe.fromString.apply(xe,pe([t],r)))),new tt(e.firestore,e instanceof os?e.converter:null,new ne(n))}function Y4(e,t){return e=de(e),t=de(t),(e instanceof tt||e instanceof os)&&(t instanceof tt||t instanceof os)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function X4(e,t){return e=de(e),t=de(t),e instanceof Qn&&t instanceof Qn&&e.firestore===t.firestore&&rd(e._query,t._query)&&e.converter===t.converter}var K9=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new AS(this,"async_queue_retry"),this.Ic=function(){var r=mv();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=mv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=mv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new mn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return A(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ka(t=r.sent()))throw t;return H("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,_t("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=l9.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&te()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Ll(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var G9=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new mn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),Q9=-1,dt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new K9,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return G(t,e),t.prototype._terminate=function(){return this._firestoreClient||J4(this),this._firestoreClient.terminate()},t}(Th);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e){return e._firestoreClient||J4(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function J4(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new $9(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new V9(e._credentials,e._queue,r)}function CP(e,t,n){var r=this,i=new mn;return e.asyncQueue.enqueue(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,H4(e,n)];case 1:return a.sent(),[4,W4(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function NP(e){if(e._initialized||e._terminated)throw new j(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new j(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Oa=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(xn.fromBase64String(t))}catch(n){throw new j(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(xn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qa=function(e){this._methodName=e},Wm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new j(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new j(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ee(this._lat,t._lat)||Ee(this._long,t._long)},e}(),Y9=/^__.*__$/,X9=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Es(t,this.data,this.fieldMask,n,this.fieldTransforms):new sd(t,this.data,n,this.fieldTransforms)},e}(),Z4=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Es(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var t3=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Pg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(e3(this.Nc)&&Y9.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),J9=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||ud(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new t3({Nc:t,methodName:n,qc:r,path:ai.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ya(e){var t=e._freezeSettings(),n=ud(e._databaseId);return new J9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Km(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);XS("Data must be an object, but it was:",a,r);var l,c,h=i3(r,a);if(s.merge)l=new wl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,m=s.mergeFields;v<m.length;v++){var y=VE(t,m[v],n);if(!a.contains(y))throw new j(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");s3(p,y)||p.push(y)}l=new wl(p),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new X9(new rr(h),l,c)}var GS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qa);function n3(e,t,n){return new t3({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Z9=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype._toFieldTransform=function(n){return new od(n.path,new Sl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qa),eY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=n3(this,n,!0),i=this.Kc.map(function(a){return Xa(a,r)}),s=new xa(i);return new od(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Qa),tY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=n3(this,n,!0),i=this.Kc.map(function(a){return Xa(a,r)}),s=new Pa(i);return new od(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Qa),nY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return G(t,e),t.prototype._toFieldTransform=function(n){var r=new Il(n.R,$F(n.R,this.Qc));return new od(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Qa);function QS(e,t,n,r){var i=e.Uc(1,t,n);XS("Data must be an object, but it was:",i,r);var s=[],a=rr.empty();Ha(r,function(c,h){var p=JS(t,c,n);h=de(h);var v=i.Oc(p);if(h instanceof GS)s.push(p);else{var m=Xa(h,v);m!=null&&(s.push(p),a.set(p,m))}});var l=new wl(s);return new Z4(a,l,i.fieldTransforms)}function YS(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[VE(t,r,n)],c=[i];if(s.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(VE(t,s[h])),c.push(s[h+1]);for(var p=[],v=rr.empty(),m=l.length-1;m>=0;--m)if(!s3(p,l[m])){var y=l[m],w=c[m];w=de(w);var S=a.Oc(y);if(w instanceof GS)p.push(y);else{var C=Xa(w,S);C!=null&&(p.push(y),v.set(y,C))}}var b=new wl(p);return new Z4(v,b,a.fieldTransforms)}function r3(e,t,n,r){return r===void 0&&(r=!1),Xa(n,e.Uc(r?4:3,t))}function Xa(e,t){if(o3(e=de(e)))return XS("Unsupported field value:",t,e),i3(e,t);if(e instanceof Qa)return function(n,r){if(!e3(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Xa(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=de(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $F(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Gn.fromDate(n);return{timestampValue:_h(r.R,i)}}if(n instanceof Gn)return i=new Gn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:_h(r.R,i)};if(n instanceof Wm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oa)return{bytesValue:ZF(r.R,n._byteString)};if(n instanceof tt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ES(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Hm(n))}(e,t)}function i3(e,t){var n={};return RF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ha(e,function(r,i){var s=Xa(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function o3(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Gn||e instanceof Wm||e instanceof Oa||e instanceof tt||e instanceof Qa)}function XS(e,t,n){if(!o3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Hm(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function VE(e,t,n){if((t=de(t))instanceof Ai)return t._internalPath;if(typeof t=="string")return JS(e,t);throw Pg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var rY=new RegExp("[~\\*/\\[\\]]");function JS(e,t,n){if(t.search(rY)>=0)throw Pg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ai.bind.apply(Ai,pe([void 0],t.split("."))))()._internalPath}catch{throw Pg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Pg(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new j(D.INVALID_ARGUMENT,(l+=". ")+e+c)}function s3(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sh=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new iY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Og("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),iY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Sh);function Og(e,t){return typeof t=="string"?JS(e,t):t instanceof Ai?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ua=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),oo=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return G(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Og("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Sh),Lf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(oo),$o=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ua(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Lf(r._firestore,r._userDataWriter,i.key,i,new ua(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Lf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ua(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Lf(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ua(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:oY(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function oY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}function a3(e,t){return e instanceof oo&&t instanceof oo?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $o&&t instanceof $o&&e._firestore===t._firestore&&X4(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(e){if(Sg(e)&&e.explicitOrderBy.length===0)throw new j(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cd=function(){};function Oo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var sY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return G(t,e),t.prototype._apply=function(n){var r=Ya(n.firestore),i=function(s,a,l,c,h,p,v){var m;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new j(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){OP(v,p);for(var y=[],w=0,S=v;w<S.length;w++){var C=S[w];y.push(PP(c,s,C))}m={arrayValue:{values:y}}}else m=PP(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||OP(v,p),m=r3(l,"where",v,p==="in"||p==="not-in");var b=sr.create(h,p,m);return function(T,I){if(I.g()){var P=gS(T);if(P!==null&&!P.isEqual(I.field))throw new j(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+I.field.toString()+"'");var L=vS(T);L!==null&&c3(T,I.field,L)}var O=function(B,F){for(var ue=0,R=B.filters;ue<R.length;ue++){var pt=R[ue];if(F.indexOf(pt.op)>=0)return pt.op}return null}(T,function(B){switch(B){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(O!==null)throw O===I.op?new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+I.op.toString()+"' filter."):new j(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+I.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Qn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(cd),aY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return G(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new el(s,a);return function(c,h){if(vS(c)===null){var p=gS(c);p!==null&&c3(c,p,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Qn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new mo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(cd),AP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return G(t,e),t.prototype._apply=function(n){return new Qn(n.firestore,n.converter,FF(n._query,this.Hc,this.Jc))},t}(cd),RP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return G(t,e),t.prototype._apply=function(n){var r=l3(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(i,s){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(cd),xP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return G(t,e),t.prototype._apply=function(n){var r=l3(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(i,s){return new mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(cd);function l3(e,t,n,r){if(n[0]=de(n[0]),n[0]instanceof Sh)return function(s,a,l,c,h){if(!c)throw new j(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,m=Tl(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())p.push(Eg(a,c.key));else{var w=c.data.field(y.field);if(hS(w))throw new j(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var S=y.field.canonicalString();throw new j(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}p.push(w)}}return new yh(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ya(e.firestore);return function(s,a,l,c,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new j(D.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new j(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!mS(s)&&w.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var S=s.path.child(xe.fromString(w));if(!ne.isDocumentKey(S))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var C=new ne(S);m.push(Eg(a,C))}else{var b=r3(l,c,w);m.push(b)}}return new yh(m,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function PP(e,t,n){if(typeof(n=de(n))=="string"){if(n==="")throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(t)&&n.indexOf("/")!==-1)throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(xe.fromString(n));if(!ne.isDocumentKey(r))throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Eg(e,new ne(r))}if(n instanceof tt)return Eg(e,n._key);throw new j(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hm(n)+".")}function OP(e,t){if(!Array.isArray(e)||e.length===0)throw new j(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new j(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function c3(e,t,n){if(!n.isEqual(t))throw new j(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZS=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(El(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw te()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Ha(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Wm(mt(t.latitude),mt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=PF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ds(t);return new Gn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=xe.fromString(t);ae(u4(r));var i=new xg(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||_t("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var uY=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new Oa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new tt(this.firestore,null,r)},t}(ZS),lY=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ya(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=qo(t,this._firestore),s=Gm(i.converter,n,r),a=Km(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,fn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=qo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof Ai?YS(this._dataReader,"WriteBatch.update",l._key,n,r,i):QS(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,fn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=qo(t,this._firestore);return this._mutations=this._mutations.concat(new ad(n._key,fn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new j(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e,t){if((e=de(e)).firestore!==t)throw new j(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new Oa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new tt(this.firestore,null,r)},t}(ZS);function DP(e,t,n){e=Ae(e,tt);var r=Ae(e.firestore,dt),i=Gm(e.converter,t,n);return fd(r,[Km(Ya(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,fn.none())])}function LP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ae(e,tt);var s=Ae(e.firestore,dt),a=Ya(s);return fd(s,[(typeof(t=de(t))=="string"||t instanceof Ai?YS(a,"updateDoc",e._key,t,n,r):QS(a,"updateDoc",e._key,t)).toMutation(e._key,fn.exists(!0))])}function f3(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=de(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Ll(i[l])||(a=i[l],l++);var c,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(Ll(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof tt)h=Ae(e.firestore,dt),p=Ql(e._key.path),c={next:function(S){i[l]&&i[l]($E(h,e,S))},error:i[l+1],complete:i[l+2]};else{var y=Ae(e,Qn);h=Ae(y.firestore,dt),p=y._query;var w=new ga(h);c={next:function(S){i[l]&&i[l](new $o(h,w,y,S))},error:i[l+1],complete:i[l+2]},u3(e._query)}return function(S,C,b,T){var I=this,P=new qm(T),L=new MS(C,P,b);return S.asyncQueue.enqueueAndForget(function(){return A(I,void 0,void 0,function(){var O;return N(this,function(B){switch(B.label){case 0:return O=OS,[4,Dl(S)];case 1:return[2,O.apply(void 0,[B.sent(),L])]}})})}),function(){P.Wo(),S.asyncQueue.enqueueAndForget(function(){return A(I,void 0,void 0,function(){var O;return N(this,function(B){switch(B.label){case 0:return O=DS,[4,Dl(S)];case 1:return[2,O.apply(void 0,[B.sent(),L])]}})})})}}(Ut(h),p,v,c)}function fd(e,t){return function(n,r){var i=this,s=new mn;return n.asyncQueue.enqueueAndForget(function(){return A(i,void 0,void 0,function(){var a;return N(this,function(l){switch(l.label){case 0:return a=E9,[4,HS(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Ut(e),t)}function $E(e,t,n){var r=n.docs.get(t._key),i=new ga(e);return new oo(e,i,t._key,r,new ua(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return G(t,e),t.prototype.get=function(n){var r=this,i=qo(n,this._firestore),s=new ga(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new oo(r._firestore,s,i._key,a._document,new ua(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ya(t)}return e.prototype.get=function(t){var n=this,r=qo(t,this._firestore),i=new uY(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return te();var a=s[0];if(a.isFoundDocument())return new Sh(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Sh(n._firestore,i,r._key,null,r.converter);throw te()})},e.prototype.set=function(t,n,r){var i=qo(t,this._firestore),s=Gm(i.converter,n,r),a=Km(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=qo(t,this._firestore);return a=typeof(n=de(n))=="string"||n instanceof Ai?YS(this._dataReader,"Transaction.update",l._key,n,r,i):QS(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=qo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){if(typeof Uint8Array>"u")throw new j(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function FP(){if(typeof atob>"u")throw new j(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var h3=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return FP(),new e(Oa.fromBase64String(t))},e.fromUint8Array=function(t){return MP(),new e(Oa.fromUint8Array(t))},e.prototype.toBase64=function(){return FP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return MP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),fY=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){NP(r=Ae(r,dt));var s=Ut(r),a=r._freezeSettings(),l=new BE;return CP(s,l,new z4(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){NP(n=Ae(n,dt));var r=Ut(n),i=n._freezeSettings(),s=new BE;return CP(r,s,new F9(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new j(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new mn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return A(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return Nl.yt()?(c=l+"main",[4,Nl.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(CS(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),eI=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xg||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||vh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){var c;l===void 0&&(l={});var h=(i=Ae(i,Th))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&vh("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),l.mockUserToken){var p,v;if(typeof l.mockUserToken=="string")p=l.mockUserToken,v=Kt.MOCK_USER;else{p=Zb(l.mockUserToken,(c=i._app)===null||c===void 0?void 0:c.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new j(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Kt(m)}i._credentials=new q9(new K4(p,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,mP(t)];case 1:return r=s.sent(),[4,yP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=K(a);return l.Or.delete(0),ld(l)}(i))]}})})})}(Ut(Ae(this._delegate,dt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,mP(t)];case 1:return r=s.sent(),[4,yP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return A(this,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return(l=K(a)).Or.add(0),[4,Xl(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ut(Ae(this._delegate,dt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&G4("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new mn;return t.asyncQueue.enqueueAndForget(function(){return A(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return i=I9,[4,HS(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Ut(Ae(this._delegate,dt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new qm(s);return i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){K(p).Gr.add(v),v.next()},[4,Dl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return A(a,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return c=function(p,v){K(p).Gr.delete(v)},[4,Dl(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Ut(n=Ae(n,dt)),Ll(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new j(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Dg(this,Q4(this._delegate,t))}catch(n){throw Sn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ma(this,yv(this._delegate,t))}catch(n){throw Sn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new hd(this,function(n,r){if(n=Ae(n,Th),WS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new j(D.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qn(n,null,function(i){return new mo(xe.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Sn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new mn;return s.asyncQueue.enqueueAndForget(function(){return A(l,void 0,void 0,function(){var h;return N(this,function(p){switch(p.label){case 0:return[4,function(v){return zm(v).then(function(m){return m.datastore})}(s)];case 1:return h=p.sent(),new B9(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Ut(r),function(s){return i(new cY(r,s))})}(this._delegate,function(r){return t(new d3(n,r))})},e.prototype.batch=function(){var t=this;return Ut(this._delegate),new p3(new lY(this._delegate,function(n){return fd(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new j(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new j(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Qm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return G(t,e),t.prototype.convertBytes=function(n){return new h3(new Oa(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ma.eu(r,this.firestore,null)},t}(ZS);function hY(e){var t;t=e,ii.setLogLevel(t)}var d3=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Qm(t)}return e.prototype.get=function(t){var n=this,r=la(t);return this._delegate.get(r).then(function(i){return new Ih(n._firestore,new oo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=la(t);return r?(KS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=la(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,pe([l,n,r],s)),this},e.prototype.delete=function(t){var n=la(t);return this._delegate.delete(n),this},e}(),p3=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=la(t);return r?(KS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=la(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,pe([l,n,r],s)),this},e.prototype.delete=function(t){var n=la(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ym=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Lf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kh(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Qm(t),n),i.set(n,s)),s},e}();Ym.su=new WeakMap;var ma=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Qm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new j(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new tt(n._delegate,r,new ne(t)))},e.eu=function(t,n,r){return new e(n,new tt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Dg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Dg(this.firestore,Q4(this._delegate,t))}catch(n){throw Sn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=de(t))instanceof tt&&Y4(this._delegate,t)},e.prototype.set=function(t,n){n=KS("DocumentReference.set",n);try{return n?DP(this._delegate,t,n):DP(this._delegate,t)}catch(r){throw Sn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?LP(this._delegate,t):LP.apply(void 0,pe([this._delegate,t,n],r))}catch(s){throw Sn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fd(Ae((t=this._delegate).firestore,dt),[new ad(t._key,fn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=v3(n),s=g3(n,function(a){return new Ih(t.firestore,new oo(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return f3(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ae(r,tt);var i=Ae(r.firestore,dt),s=Ut(i),a=new ga(i);return function(l,c){var h=this,p=new mn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,S){return A(this,void 0,void 0,function(){var C,b;return N(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(I,P){var L=K(I);return L.persistence.runTransaction("read document","readonly",function(O){return L.Mn.mn(O,P)})}(y,w)];case 1:return(b=T.sent()).isFoundDocument()?S.resolve(b):b.isNoDocument()?S.resolve(null):S.reject(new j(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=T.sent(),b=ec(C,"Failed to get document '"+w+" from cache"),S.reject(b),[3,3];case 3:return[2]}})})},[4,zS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new oo(i,a,r._key,l,new ua(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ae(r,tt);var i=Ae(r.firestore,dt);return _P(Ut(i),r._key,{source:"server"}).then(function(s){return $E(i,r,s)})}(this._delegate):function(r){r=Ae(r,tt);var i=Ae(r.firestore,dt);return _P(Ut(i),r._key).then(function(s){return $E(i,r,s)})}(this._delegate)).then(function(r){return new Ih(n.firestore,new oo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ym.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Sn(e,t,n){return e.message=e.message.replace(t,n),e}function v3(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ll(r))return r}return{}}function g3(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Ll(e[0])?e[0]:Ll(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ih=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ma(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return a3(this._delegate,t._delegate)},e}(),kh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return G(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ih),hd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Qm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Oo(this._delegate,function(i,s,a){var l=s,c=Og("where",i);return new sY(c,l,a)}(t,n,r)))}catch(i){throw Sn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Oo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Og("orderBy",r);return new aY(a,s)}(t,n)))}catch(r){throw Sn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Oo(this._delegate,function(n){return IP("limit",n),new AP("limit",n,"F")}(t)))}catch(n){throw Sn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Oo(this._delegate,function(n){return IP("limitToLast",n),new AP("limitToLast",n,"L")}(t)))}catch(n){throw Sn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new RP("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Sn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new RP("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Sn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new xP("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Sn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Oo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new xP("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Sn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return X4(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ae(r,Qn);var i=Ae(r.firestore,dt),s=Ut(i),a=new ga(i);return function(l,c){var h=this,p=new mn;return l.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=function(y,w,S){return A(this,void 0,void 0,function(){var C,b,T,I,P;return N(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,Ng(y,w,!0)];case 1:return P=L.sent(),C=new j4(w,P.Bn),b=C._o(P.documents),T=C.applyChanges(b,!1),S.resolve(T.snapshot),[3,3];case 2:return I=L.sent(),P=ec(I,"Failed to execute query '"+w+" against cache"),S.reject(P),[3,3];case 3:return[2]}})})},[4,zS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new $o(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ae(r,Qn);var i=Ae(r.firestore,dt),s=Ut(i),a=new ga(i);return wP(s,r._query,{source:"server"}).then(function(l){return new $o(i,a,r,l)})}(this._delegate):function(r){r=Ae(r,Qn);var i=Ae(r.firestore,dt),s=Ut(i),a=new ga(i);return u3(r._query),wP(s,r._query).then(function(l){return new $o(i,a,r,l)})}(this._delegate)).then(function(r){return new qE(n.firestore,new $o(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=v3(n),s=g3(n,function(a){return new qE(t.firestore,new $o(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return f3(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ym.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),dY=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),qE=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new hd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new kh(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new dY(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new kh(r._firestore,i))})},e.prototype.isEqual=function(t){return a3(this._delegate,t._delegate)},e}(),Dg=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return G(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ma(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ma(this.firestore,n===void 0?yv(this._delegate):yv(this._delegate,n))}catch(r){throw Sn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ae(i.firestore,dt),l=yv(i),c=Gm(i.converter,s);return fd(a,[Km(Ya(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,fn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new ma(r.firestore,i)})},t.prototype.isEqual=function(n){return Y4(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Ym.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(hd);function la(e){return Ae(e,tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pY=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ai.bind.apply(Ai,pe([void 0],t)))}return e.documentId=function(){return new e(ai.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=de(t))instanceof Ai&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),vY=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Z9("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new GS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new eY("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new tY("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new nY("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(e){return function(t,n){var r=Ut(t=Ae(t,dt)),i=new G9;return function(s,a,l,c){var h=this,p=function(v,m){return function(y,w){return new U9(y,w)}(function(y,w){if(y instanceof Uint8Array)return gP(y,w);if(y instanceof ArrayBuffer)return gP(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(l,ud(a));s.asyncQueue.enqueueAndForget(function(){return A(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=M9,[4,HS(s)];case 1:return v.apply(void 0,[m.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function mY(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return A(a,void 0,void 0,function(){var l;return N(this,function(c){switch(c.label){case 0:return l=function(h,p){var v=K(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Ke.getNamedQuery(m,p)})},[4,zS(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Ut(t=Ae(t,dt)),n).then(function(i){return i?new Qn(t,null,i.query):null})).then(function(i){return i?new hd(r,i):null})}var yY={Firestore:eI,GeoPoint:Wm,Timestamp:Gn,Blob:h3,Transaction:d3,WriteBatch:p3,DocumentReference:ma,DocumentSnapshot:Ih,Query:hd,QueryDocumentSnapshot:kh,QuerySnapshot:qE,CollectionReference:Dg,FieldPath:pY,FieldValue:vY,setLogLevel:hY,CACHE_SIZE_UNLIMITED:Q9};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(e){(function(t,n){t.INTERNAL.registerComponent(new gn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},yY)))})(e,function(t,n){return new eI(t,new dt(t,n),new fY)}),e.registerVersion("@firebase/firestore","2.4.1")}_Y(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(e){e.prototype.loadBundle=gY,e.prototype.namedQuery=mY}wY(eI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tl=function(e){G(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function EY(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function bY(e,t,n){var r=EY(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!UP[l])return new tl("internal","internal");r=UP[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new tl(r,i,s)}var TY=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SY="type.googleapis.com/google.protobuf.Int64Value",IY="type.googleapis.com/google.protobuf.UInt64Value";function jP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var kY=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return jP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case SY:case IY:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?jP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new tl("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var BP=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new kY,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new TY(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a;return N(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y,w,S;return N(this,function(C){switch(C.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=C.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=CY(c),p=h.timer,v=h.promise,[4,Promise.race([VP(p,this.postJSON(i,s,a)),v,VP(p,this.cancelAllRequests)])];case 2:if(m=C.sent(),!m)throw new tl("cancelled","Firebase Functions instance was deleted.");if(y=bY(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new tl("internal","Response is not valid JSON object.");if(w=m.json.data,typeof w>"u"&&(w=m.json.result),typeof w>"u")throw new tl("internal","Response is missing data field.");return S=this.serializer.decode(w),[2,{data:S}]}})})},e}();function VP(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NY="functions";function AY(e,t){var n={Functions:BP};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new BP(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new gn(NY,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var RY="@firebase/functions",xY="0.6.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */AY(ee,fetch.bind(self));ee.registerVersion(RY,xY);function PY(e){return Array.prototype.slice.call(e)}function m3(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Xm(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),m3(r).then(s,a)});return i.request=r,i}function OY(e,t,n){var r=Xm(e,t,n);return r.then(function(i){if(i)return new Ch(i,r.request)})}function tc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function tI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Xm(this[t],i,arguments)})})}function Jm(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function y3(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return OY(this[t],i,arguments)})})}function Ja(e){this._index=e}tc(Ja,"_index",["name","keyPath","multiEntry","unique"]);tI(Ja,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);y3(Ja,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Ch(e,t){this._cursor=e,this._request=t}tc(Ch,"_cursor",["direction","key","primaryKey","value"]);tI(Ch,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Ch.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),m3(t._request).then(function(r){if(r)return new Ch(r,t._request)})})})});function Ui(e){this._store=e}Ui.prototype.createIndex=function(){return new Ja(this._store.createIndex.apply(this._store,arguments))};Ui.prototype.index=function(){return new Ja(this._store.index.apply(this._store,arguments))};tc(Ui,"_store",["name","keyPath","indexNames","autoIncrement"]);tI(Ui,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);y3(Ui,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Jm(Ui,"_store",IDBObjectStore,["deleteIndex"]);function dd(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}dd.prototype.objectStore=function(){return new Ui(this._tx.objectStore.apply(this._tx,arguments))};tc(dd,"_tx",["objectStoreNames","mode"]);Jm(dd,"_tx",IDBTransaction,["abort"]);function Zm(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new dd(n)}Zm.prototype.createObjectStore=function(){return new Ui(this._db.createObjectStore.apply(this._db,arguments))};tc(Zm,"_db",["name","version","objectStoreNames"]);Jm(Zm,"_db",IDBDatabase,["deleteObjectStore","close"]);function ey(e){this._db=e}ey.prototype.transaction=function(){return new dd(this._db.transaction.apply(this._db,arguments))};tc(ey,"_db",["name","version","objectStoreNames"]);Jm(ey,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Ui,Ja].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=PY(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Ja,Ui].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function nI(e,t,n){var r=Xm(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Zm(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new ey(s)})}function Lw(e){return Xm(indexedDB,"deleteDatabase",[e])}var DY="@firebase/installations",_3="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w3=1e4,E3="w:"+_3,b3="FIS_v2",LY="https://firebaseinstallations.googleapis.com/v1",MY=60*60*1e3,FY="installations",UY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do,jY=(Do={},Do["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Do["not-registered"]="Firebase Installation is not registered.",Do["installation-not-found"]="Firebase Installation not found.",Do["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Do["app-offline"]="Could not process request. Application offline.",Do["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Do),ho=new go(FY,UY,jY);function T3(e){return e instanceof Vl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e){var t=e.projectId;return LY+"/projects/"+t+"/installations"}function S3(e){return{token:e.token,requestStatus:2,expiresIn:BY(e.expiresIn),creationTime:Date.now()}}function iI(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,ho.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function I3(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function k3(e,t){var n=t.refreshToken,r=I3(e);return r.append("Authorization",VY(n)),r}function oI(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function BY(e){return Number(e.replace("s","000"))}function VY(e){return b3+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Y(e,t){var n=t.fid;return A(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return N(this,function(p){switch(p.label){case 0:return r=rI(e),i=I3(e),s={fid:n,authVersion:b3,appId:e.appId,sdkVersion:E3},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,oI(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:S3(c.authToken)},[2,h];case 3:return[4,iI("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(e){var t=btoa(String.fromCharCode.apply(String,pe([],Qt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zY=/^[cdef][\w-]{21}$/,zE="";function HY(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=WY(e);return zY.test(n)?n:zE}catch{return zE}}function WY(e){var t=qY(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ml=new Map;function N3(e,t){var n=nc(e);A3(n,t),QY(n,t)}function KY(e,t){R3();var n=nc(e),r=Ml.get(n);r||(r=new Set,Ml.set(n,r)),r.add(t)}function GY(e,t){var n=nc(e),r=Ml.get(n);r&&(r.delete(t),r.size===0&&Ml.delete(n),x3())}function A3(e,t){var n,r,i=Ml.get(e);if(i)try{for(var s=$t(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function QY(e,t){var n=R3();n&&n.postMessage({key:e,fid:t}),x3()}var ca=null;function R3(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=function(e){A3(e.data.key,e.data.fid)}),ca}function x3(){Ml.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YY="firebase-installations-database",XY=1,Da="firebase-installations-store",Mw=null;function sI(){return Mw||(Mw=nI(YY,XY,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Da)}})),Mw}function Lg(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return n=nc(e),[4,sI()];case 1:return r=l.sent(),i=r.transaction(Da,"readwrite"),s=i.objectStore(Da),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&N3(e,t.fid),[2,t]}})})}function aI(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=nc(e),[4,sI()];case 1:return n=i.sent(),r=n.transaction(Da,"readwrite"),[4,r.objectStore(Da).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function pd(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return n=nc(e),[4,sI()];case 1:return r=c.sent(),i=r.transaction(Da,"readwrite"),s=i.objectStore(Da),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&N3(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,pd(e,function(s){var a=JY(s),l=ZY(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==zE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function JY(e){var t=e||{fid:HY(),registrationStatus:0};return P3(t)}function ZY(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(ho.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=eX(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:tX(e)}:{installationEntry:t}}function eX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,$Y(e,t)];case 1:return n=i.sent(),[2,Lg(e,n)];case 2:return r=i.sent(),T3(r)&&r.customData.serverCode===409?[4,aI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Lg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function tX(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,$P(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,C3(100)];case 3:return s.sent(),[4,$P(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,uI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function $P(e){return pd(e,function(t){if(!t)throw ho.create("installation-not-found");return P3(t)})}function P3(e){return nX(e)?{fid:e.fid,registrationStatus:0}:e}function nX(e){return e.registrationStatus===1&&e.registrationTime+w3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v;return N(this,function(m){switch(m.label){case 0:return i=iX(n,t),s=k3(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:E3}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,oI(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=m.sent(),v=S3(p),[2,v];case 3:return[4,iI("Generate Auth Token",h)];case 4:throw m.sent()}})})}function iX(e,t){var n=t.fid;return rI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,pd(e.appConfig,function(l){if(!O3(l))throw ho.create("not-registered");var c=l.authToken;if(!t&&aX(c))return l;if(c.requestStatus===1)return n=oX(e,t),l;if(!navigator.onLine)throw ho.create("app-offline");var h=lX(l);return n=sX(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function oX(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,qP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,C3(100)];case 3:return i.sent(),[4,qP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,lI(e,t)]:[2,r]}})})}function qP(e){return pd(e,function(t){if(!O3(t))throw ho.create("not-registered");var n=t.authToken;return cX(n)?ie(ie({},t),{authToken:{requestStatus:0}}):t})}function sX(e,t){return A(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,rX(e,t)];case 1:return n=s.sent(),i=ie(ie({},t),{authToken:n}),[4,Lg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),T3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,aI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ie(ie({},t),{authToken:{requestStatus:0}}),[4,Lg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function O3(e){return e!==void 0&&e.registrationStatus===2}function aX(e){return e.requestStatus===2&&!uX(e)}function uX(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+MY}function lX(e){var t={requestStatus:1,requestTime:Date.now()};return ie(ie({},e),{authToken:t})}function cX(e){return e.requestStatus===1&&e.requestTime+w3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,uI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):lI(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(e,t){return t===void 0&&(t=!1),A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,dX(e.appConfig)];case 1:return r.sent(),[4,lI(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function dX(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,uI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=vX(e,t),r=k3(e,t),i={method:"DELETE",headers:r},[4,oI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,iI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function vX(e,t){var n=t.fid;return rI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,pd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw ho.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw ho.create("app-offline");case 3:return[4,pX(t,n)];case 4:return r.sent(),[4,aI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(e,t){var n=e.appConfig;return KY(n,t),function(){GY(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(e){var t,n;if(!e||!e.options)throw Fw("App Configuration");if(!e.name)throw Fw("App Name");var r=["projectId","apiKey","appId"];try{for(var i=$t(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw Fw(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Fw(e){return ho.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(e){var t="installations";e.INTERNAL.registerComponent(new gn(t,function(n){var r=n.getProvider("app").getImmediate(),i=yX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return fX(a)},getToken:function(c){return hX(a,c)},delete:function(){return gX(a)},onIdChange:function(c){return mX(a,c)}};return l},"PUBLIC")),e.registerVersion(DY,_3)}_X(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,wX=(kt={},kt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kt["only-available-in-window"]="This method is available in a Window context.",kt["only-available-in-sw"]="This method is available in a service worker context.",kt["permission-default"]="The notification permission was not granted and dismissed instead.",kt["permission-blocked"]="The notification permission was not granted and blocked instead.",kt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",kt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",kt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",kt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",kt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",kt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",kt["token-update-no-token"]="FCM returned no token when updating the user to push.",kt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",kt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",kt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",kt["invalid-vapid-key"]="The public VAPID key must be a string.",kt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",kt),Le=new go("messaging","Messaging",wX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EX="/firebase-messaging-sw.js",bX="/firebase-cloud-messaging-push-scope",Mg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TX="https://fcmregistrations.googleapis.com/v1",D3="FCM_MSG",SX="FirebaseMessaging: ",IX="google.c.a.e",L3="google.c.a.c_id",kX="google.c.a.ts",CX="google.c.a.c_l",NX=1e3,AX=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var La;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(La||(La={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,pe([],Qt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function RX(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uw="fcm_token_details_db",xX=5,zP="fcm_token_object_Store";function PX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(Uw))return[2,null];a.label=2;case 2:return r=null,[4,nI(Uw,xX,function(l){return A(s,void 0,void 0,function(){var c,h,p,p,p,v;return N(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(zP)?(c=l.transaction.objectStore(zP),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Qi(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Qi(p.auth),p256dh:Qi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Qi(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Qi(p.auth),p256dh:Qi(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Qi(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Lw(Uw)];case 4:return a.sent(),[4,Lw("fcm_vapid_details_db")];case 5:return a.sent(),[4,Lw("undefined")];case 6:return a.sent(),[2,OX(r)?r:null]}})})}function OX(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DX="firebase-messaging-database",LX=1,Ma="firebase-messaging-store",jw=null;function cI(){return jw||(jw=nI(DX,LX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ma)}})),jw}function Fg(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=hI(e),[4,cI()];case 1:return n=s.sent(),[4,n.transaction(Ma).objectStore(Ma).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,PX(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,fI(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function fI(e,t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=hI(e),[4,cI()];case 1:return r=s.sent(),i=r.transaction(Ma,"readwrite"),[4,i.objectStore(Ma).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function MX(e){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=hI(e),[4,cI()];case 1:return n=i.sent(),r=n.transaction(Ma,"readwrite"),[4,r.objectStore(Ma).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function hI(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,pI(e)];case 1:n=h.sent(),r=F3(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(dI(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Le.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Le.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Le.create("token-subscribe-no-token");return[2,s.token]}})})}function UX(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return[4,pI(e)];case 1:n=h.sent(),r=F3(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(dI(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Le.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Le.create("token-update-failed",{errorInfo:c});if(!s.token)throw Le.create("token-update-no-token");return[2,s.token]}})})}function M3(e,t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,pI(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(dI(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Le.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Le.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function dI(e){var t=e.projectId;return TX+"/projects/"+t+"/registrations"}function pI(e){var t=e.appConfig,n=e.installations;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function F3(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Mg&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jX=7*24*60*60*1e3;function HE(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Le.create("permission-blocked");return[4,VX(t,n)];case 1:return r=l.sent(),[4,Fg(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Qi(r.getKey("auth")),p256dh:Qi(r.getKey("p256dh"))},i?[3,3]:[2,HP(e,s)];case 3:if($X(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,M3(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,HP(e,s)];case 8:return Date.now()>=i.createTime+jX?[2,BX({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Mf(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,Fg(e)];case 1:return n=i.sent(),n?[4,M3(e,n.token)]:[3,4];case 2:return i.sent(),[4,MX(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function BX(e,t,n){return A(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,UX(t,e)];case 1:return r=a.sent(),i=ie(ie({},e),{token:r,createTime:Date.now()}),[4,fI(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Mf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function HP(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,FX(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,fI(e,r)];case 2:return i.sent(),[2,r.token]}})})}function VX(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:RX(t)})]}})})}function $X(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return zX(t,e),HX(t,e),WX(t,e),t}function zX(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function HX(e,t){t.data&&(e.data=t.data)}function WX(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){return typeof e=="object"&&!!e&&L3 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KX=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Le.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Fg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Mg,i.label=2;case 2:return[2,HE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Mf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Le.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Le.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Le.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Le.create("only-available-in-window")},e.prototype.onMessage=function(){throw Le.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Le.create("only-available-in-window")},e.prototype.onPush=function(t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=QX(t),n?[4,j3()]:(console.debug(SX+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),XX(r)?[2,JX(r,n)]:(i=!1,n.notification?[4,ZX(GX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=qX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,WP(NX)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Mf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Fg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Mf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,HE(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Mg)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[D3],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=eJ(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,YX(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,WP(AX)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=La.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function GX(e){var t,n=ie({},e.notification);return n.data=(t={},t[D3]=e,t),n}function QX(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function YX(e){return A(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,j3()];case 1:t=c.sent();try{for(n=$t(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function XX(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function JX(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=La.PUSH_RECEIVED;try{for(var i=$t(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function j3(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ZX(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function eJ(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(U3(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tJ=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===La.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(rJ(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,U3(r)&&r[IX]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Le.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,HE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Mg),[2]})})},e.prototype.updateSwReg=function(t){return A(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Le.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(EX,{scope:bX})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Le.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Mf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Le.create("permission-blocked"):Le.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Le.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Le.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Le.create("invalid-sw-registration");if(this.swRegistration)throw Le.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Le.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Le.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return A(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=nJ(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[L3],message_name:n[CX],message_time:n[kX],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function nJ(e){switch(e){case La.NOTIFICATION_CLICKED:return"notification_open";case La.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rJ(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(e){var t,n;if(!e||!e.options)throw Bw("App Configuration Object");if(!e.name)throw Bw("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=$t(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw Bw(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Bw(e){return Le.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oJ="messaging";function sJ(e){var t=e.getProvider("app").getImmediate(),n=iJ(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!B3())throw Le.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new KX(s):new tJ(s)}var aJ={isSupported:B3};ee.INTERNAL.registerComponent(new gn(oJ,sJ,"PUBLIC").setServiceProps(aJ));function B3(){return self&&"ServiceWorkerGlobalScope"in self?lJ():uJ()}function uJ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function lJ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V3="firebasestorage.googleapis.com",$3="storageBucket",cJ=2*60*1e3,fJ=10*60*1e3,Tt=function(e){G(t,e);function t(n,r){var i=e.call(this,Vw(n),"Firebase Storage: "+r+" ("+Vw(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return Vw(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Vl);function Vw(e){return"storage/"+e}function vI(){var e="An unknown error occurred, please check the error payload for server response.";return new Tt("unknown",e)}function hJ(e){return new Tt("object-not-found","Object '"+e+"' does not exist.")}function dJ(e){return new Tt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pJ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt("unauthenticated",e)}function vJ(){return new Tt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function gJ(e){return new Tt("unauthorized","User does not have permission to access '"+e+"'.")}function mJ(){return new Tt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function q3(){return new Tt("canceled","User canceled the upload/download.")}function yJ(e){return new Tt("invalid-url","Invalid URL '"+e+"'.")}function _J(e){return new Tt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function wJ(){return new Tt("no-default-bucket","No default bucket found. Did you set the '"+$3+"' property when initializing the app?")}function z3(){return new Tt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function EJ(){return new Tt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function bJ(){return new Tt("no-download-url","The given file does not have any download URLs.")}function nl(e){return new Tt("invalid-argument",e)}function H3(){return new Tt("app-deleted","The Firebase app was deleted.")}function W3(e){return new Tt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ff(e,t){return new Tt("invalid-format","String does not match format '"+e+"': "+t)}function Hp(e){throw new Tt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$w=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function K3(e,t){switch(e){case Ir.RAW:return new $w(G3(t));case Ir.BASE64:case Ir.BASE64URL:return new $w(Q3(e,t));case Ir.DATA_URL:return new $w(IJ(t),kJ(t))}throw vI()}function G3(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function SJ(e){var t;try{t=decodeURIComponent(e)}catch{throw Ff(Ir.DATA_URL,"Malformed data URL.")}return G3(t)}function Q3(e,t){switch(e){case Ir.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Ff(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ir.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Ff(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=TJ(t)}catch{throw Ff(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var Y3=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ff(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=CJ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function IJ(e){var t=new Y3(e);return t.base64?Q3(Ir.BASE64,t.rest):SJ(t.rest)}function kJ(e){var t=new Y3(e);return t.contentType}function CJ(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NJ={STATE_CHANGED:"state_changed"},In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qw(e){switch(e){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ya||(ya={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AJ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ya.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ya.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ya.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Hp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Hp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Hp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Hp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function RJ(){return new AJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xJ=function(){function e(){}return e.prototype.createConnection=function(){return RJ()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw _J(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(ue){ue.path_=decodeURIComponent(ue.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+m,"i"),w={bucket:1,path:3},S=n===V3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",b=new RegExp("^https?://"+S+"/"+i+"/"+C,"i"),T={bucket:1,path:2},I=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:b,indices:T,postModify:h}],P=0;P<I.length;P++){var L=I[P],O=L.regex.exec(t);if(O){var B=O[L.indices.bucket],F=O[L.indices.path];F||(F=""),r=new e(B,F),L.postModify(r);break}}if(r==null)throw yJ(t);return r},e}(),PJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OJ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];c||(c=!0,t.apply(null,w))}function p(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var S=[],C=1;C<arguments.length;C++)S[C-1]=arguments[C];if(!c){if(w){h.call.apply(h,pe([null,w],S));return}var b=l()||s;if(b){h.call.apply(h,pe([null,w],S));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,p(T)}}var m=!1;function y(w){m||(m=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),p(0)):w||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function DJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(e){return e!==void 0}function MJ(e){return typeof e=="function"}function FJ(e){return typeof e=="object"&&!Array.isArray(e)}function ty(e){return typeof e=="string"||e instanceof String}function KP(e){return gI()&&e instanceof Blob}function gI(){return typeof Blob<"u"}function WE(e,t,n,r){if(r<t)throw nl("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw nl("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function X3(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UJ=function(){function e(t,n,r,i,s,a,l,c,h,p,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){m.resolve_=y,m.reject_=w,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Wp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===ya.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var p=a.getErrorCode()===ya.ABORT;i(!1,new Wp(!1,null,p));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new Wp(v,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());LJ(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var p=vI();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?H3():q3();l(p)}else{var p=mJ();l(p)}}this.canceled_?r(!1,new Wp(!1,null,!0)):this.backoffId_=OJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&DJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Wp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function jJ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function BJ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function VJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function $J(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function qJ(e,t,n,r,i,s){var a=X3(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return VJ(c,t),jJ(c,n),BJ(c,s),$J(c,r),new UJ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function HJ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zJ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(gI())return new Blob(e);throw new Tt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function WJ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mI=function(){function e(t,n){var r=0,i="";KP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(KP(this.data_)){var r=this.data_,i=WJ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(gI()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(HJ.apply(null,r))}else{var i=t.map(function(c){return ty(c)?K3(Ir.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(e){var t;try{t=JSON.parse(e)}catch{return null}return FJ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function GJ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function J3(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(e,t){return t}var En=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||QJ}return e}(),Kp=null;function YJ(e){return!ty(e)||e.length<2?e:J3(e)}function ny(){if(Kp)return Kp;var e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(s,a){return YJ(a)}var n=new En("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new En("size");return i.xform=r,e.push(i),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),Kp=e,Kp}function XJ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new kr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function JJ(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return XJ(r,e),r}function Z3(e,t,n){var r=yI(t);if(r===null)return null;var i=r;return JJ(e,i,n)}function ZJ(e,t,n){var r=yI(t);if(r===null||!ty(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),m=Ts(v,n),y=X3({alt:"media",token:c});return m+y});return l[0]}function _I(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GP="prefixes",QP="items";function eZ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[GP])for(var i=0,s=n[GP];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new kr(t,l));r.prefixes.push(c)}if(n[QP])for(var h=0,p=n[QP];h<p.length;h++){var v=p[h],c=e._makeStorageReference(new kr(t,v.name));r.items.push(c)}return r}function tZ(e,t,n){var r=yI(n);if(r===null)return null;var i=r;return eZ(e,t,i)}var _o=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(e){if(!e)throw vI()}function ry(e,t){function n(r,i){var s=Z3(e,i,t);return Ri(s!==null),s}return n}function nZ(e,t){function n(r,i){var s=tZ(e,t,i);return Ri(s!==null),s}return n}function rZ(e,t){function n(r,i){var s=Z3(e,i,t);return Ri(s!==null),ZJ(s,i,e.host)}return n}function rc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=vJ():i=pJ():n.getStatus()===402?i=dJ(e.bucket):n.getStatus()===403?i=gJ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function iy(e){var t=rc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=hJ(e.path)),s.serverResponse=i.serverResponse,s}return n}function eU(e,t,n){var r=t.fullServerUrl(),i=Ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new _o(i,s,ry(e,n),a);return l.errorHandler=iy(t),l}function iZ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Ts(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new _o(l,c,nZ(e,t.bucket),h);return p.urlParams=s,p.errorHandler=rc(t),p}function oZ(e,t,n){var r=t.fullServerUrl(),i=Ts(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new _o(i,s,rZ(e,n),a);return l.errorHandler=iy(t),l}function sZ(e,t,n,r){var i=t.fullServerUrl(),s=Ts(i,e.host),a="PATCH",l=_I(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new _o(s,a,ry(e,r),h);return p.headers=c,p.body=l,p.errorHandler=iy(t),p}function aZ(e,t){var n=t.fullServerUrl(),r=Ts(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new _o(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=iy(t),l}function uZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function tU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=uZ(null,t)),r}function lZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var I="",P=0;P<2;P++)I=I+Math.random().toString().slice(2);return I}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=tU(t,r,i),p=_I(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=mI.getBlob(v,r,m);if(y===null)throw z3();var w={name:h.fullPath},S=Ts(s,e.host),C="POST",b=e.maxUploadRetryTime,T=new _o(S,C,ry(e,n),b);return T.urlParams=w,T.headers=a,T.body=y.uploadData(),T.errorHandler=rc(t),T}var Ug=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function wI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}var r=t||["active"];return Ri(!!n&&r.indexOf(n)!==-1),n}function cZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=tU(t,r,i),l={name:a.fullPath},c=Ts(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=_I(a,n),m=e.maxUploadRetryTime;function y(S){wI(S);var C;try{C=S.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(ty(C)),C}var w=new _o(c,h,y,m);return w.urlParams=l,w.headers=p,w.body=v,w.errorHandler=rc(t),w}function fZ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=wI(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}v||Ri(!1);var m=Number(v);return Ri(!isNaN(m)),new Ug(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new _o(n,a,s,l);return c.headers=i,c.errorHandler=rc(t),c}var YP=256*1024;function hZ(e,t,n,r,i,s,a,l){var c=new Ug(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw EJ();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var v=c.current,m=v+p,y=p===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},S=r.slice(v,m);if(S===null)throw z3();function C(P,L){var O=wI(P,["active","final"]),B=c.current+p,F=r.size(),ue;return O==="final"?ue=ry(t,s)(P,L):ue=null,new Ug(B,F,O==="final",ue)}var b="POST",T=t.maxUploadRetryTime,I=new _o(n,b,C,T);return I.headers=w,I.body=S.uploadData(),I.progressCallback=l||null,I.errorHandler=rc(e),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dZ=function(){function e(t,n,r){var i=MJ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=ny(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=cZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=fZ(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=YP*this._chunkMultiplier,r=new Ug(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=hZ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=YP*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=eU(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=lZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=q3(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=qw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new dZ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(qw(this._state)){case In.SUCCESS:Cu(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:var n=this._reject;Cu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=qw(this._state);switch(n){case In.RUNNING:case In.PAUSED:t.next&&Cu(t.next.bind(t,this.snapshot))();break;case In.SUCCESS:t.complete&&Cu(t.complete.bind(t))();break;case In.CANCELED:case In.ERROR:t.error&&Cu(t.error.bind(t,this._error))();break;default:t.error&&Cu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oy=function(){function e(t,n){this._service=t,n instanceof kr?this._location=n:this._location=kr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new kr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return J3(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=KJ(this._location.path);if(t===null)return null;var n=new kr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw W3(t)},e}();function pZ(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new nU(e,new mI(t),n)}function vZ(e){var t={prefixes:[],items:[]};return rU(e,t).then(function(){return t})}function rU(e,t,n){return A(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,iU(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,rU(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function iU(e,t){return A(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&WE("options.maxResults",1,1e3,t.maxResults),n=t||{},r=iZ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function gZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=eU(e.storage,e._location,ny()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function mZ(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=sZ(e.storage,e._location,t,ny()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function yZ(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=oZ(e.storage,e._location,ny()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw bJ();return r})]}})})}function _Z(e){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=aZ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function oU(e,t){var n=GJ(e._location.path,t),r=new kr(e._location.bucket,n);return new oy(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(e){return/^[A-Za-z]+:\/\//.test(e)}function wZ(e,t){return new oy(e,t)}function sU(e,t){if(e instanceof sy){var n=e;if(n._bucket==null)throw wJ();var r=new oy(n,n._bucket);return t!=null?sU(r,t):r}else return t!==void 0?oU(e,t):e}function EZ(e,t){if(t&&KE(t)){if(e instanceof sy)return wZ(e,t);throw nl("To use ref(service, url), the first argument must be a Storage instance.")}else return sU(e,t)}function XP(e,t){var n=t==null?void 0:t[$3];return n==null?null:kr.makeFromBucketSpec(n,e)}function bZ(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:Zb(i,e.app.options.projectId))}var sy=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=V3,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cJ,this._maxUploadRetryTime=fJ,this._requests=new Set,s!=null?this._bucket=kr.makeFromBucketSpec(s,this._host):this._bucket=XP(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=kr.makeFromBucketSpec(this._url,t):this._bucket=XP(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){WE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){WE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new oy(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new PJ(H3());var s=qJ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return A(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(e,t,n){return e=de(e),pZ(e,t,n)}function SZ(e){return e=de(e),gZ(e)}function IZ(e,t){return e=de(e),mZ(e,t)}function kZ(e,t){return e=de(e),iU(e,t)}function CZ(e){return e=de(e),vZ(e)}function NZ(e){return e=de(e),yZ(e)}function AZ(e){return e=de(e),_Z(e)}function JP(e,t){return e=de(e),EZ(e,t)}function RZ(e,t){return oU(e,t)}function xZ(e,t,n,r){r===void 0&&(r={}),bZ(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZP=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Gp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Gp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Gp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Gp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),eO=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Nh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Nh(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=RZ(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new ZP(TZ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Ir.RAW),this._throwIfRoot("putString");var i=K3(n,t),s=ie({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new ZP(new nU(this._delegate,new mI(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return CZ(this._delegate).then(function(n){return new eO(n,t.storage)})},e.prototype.list=function(t){var n=this;return kZ(this._delegate,t||void 0).then(function(r){return new eO(r,n.storage)})},e.prototype.getMetadata=function(){return SZ(this._delegate)},e.prototype.updateMetadata=function(t){return IZ(this._delegate,t)},e.prototype.getDownloadURL=function(){return NZ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),AZ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw W3(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PZ=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(KE(t))throw nl("ref() expected a child path but got a URL, use refFromURL instead.");return new Nh(JP(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!KE(t))throw nl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kr.makeFromUrl(t,this._delegate.host)}catch{throw nl("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nh(JP(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),xZ(this._delegate,t,n,r)},e}(),OZ="@firebase/storage",DZ="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LZ="storage";function MZ(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new PZ(r,new sy(r,i,s,new xJ,n,ee.SDK_VERSION));return a}function FZ(e){var t={TaskState:In,TaskEvent:NJ,StringFormat:Ir,Storage:sy,Reference:Nh};e.INTERNAL.registerComponent(new gn(LZ,MZ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(OZ,DZ)}FZ(ee);var UZ="@firebase/performance",aU="0.4.18";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uU=aU,jZ="FB-PERF-TRACE-START",BZ="FB-PERF-TRACE-STOP",GE="FB-PERF-TRACE-MEASURE",lU="_wt_",cU="_fp",fU="_fcp",hU="_fid",dU="@firebase/performance/config",pU="@firebase/performance/configexpire",VZ="performance",vU="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,$Z=(Ht={},Ht["trace started"]="Trace {$traceName} was started before.",Ht["trace stopped"]="Trace {$traceName} is not running.",Ht["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Ht["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Ht["no window"]="Window is not available.",Ht["no app id"]="App id is not available.",Ht["no project id"]="Project id is not available.",Ht["no api key"]="Api key is not available.",Ht["invalid cc log"]="Attempted to queue invalid cc event",Ht["FB not default"]="Performance can only start when Firebase app instance is the default one.",Ht["RC response not ok"]="RC response is not ok",Ht["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Ht["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Ht["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Ht["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Ht),un=new go(VZ,vU,$Z);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var po=new Ba(vU);po.logLevel=ye.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zw,gU,dn=function(){function e(t){if(this.window=t,!t)throw un.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(po.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Fh()?!0:(po.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return zw===void 0&&(zw=new e(gU)),zw},e}();function qZ(e){gU=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(e,t){var n=e.length-t.length;if(n<0||n>1)throw un.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hw,Rt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=tO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=tO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw un.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw un.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw un.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return Hw===void 0&&(Hw=new e),Hw},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mU;function zZ(){var e=Rt.getInstance().installationsService.getId();return e.then(function(t){mU=t}),e}function EI(){return mU}function HZ(){var e=Rt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(rl||(rl={}));var WZ=["firebase_","google_","ga_"],KZ=new RegExp("^[a-zA-Z]\\w*$"),GZ=40,QZ=100;function YZ(){var e=dn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function yU(){var e=dn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return rl.VISIBLE;case"hidden":return rl.HIDDEN;default:return rl.UNKNOWN}}function XZ(){var e=dn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function JZ(e){if(e.length===0||e.length>GZ)return!1;var t=WZ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(KZ)}function ZZ(e){return e.length!==0&&e.length<=QZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eee="0.0.1",tee={loggingEnabled:!0},nee="FIREBASE_INSTALLATIONS_AUTH";function ree(e){var t=iee();return t?(nO(t),Promise.resolve()):aee(e).then(nO).then(function(n){return oee(n)},function(){})}function iee(){var e=dn.getInstance().localStorage;if(e){var t=e.getItem(pU);if(!(!t||!uee(t))){var n=e.getItem(dU);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function oee(e){var t=dn.getInstance().localStorage;!e||!t||(t.setItem(dU,JSON.stringify(e)),t.setItem(pU,String(Date.now()+Rt.getInstance().configTimeToLive*60*60*1e3)))}var see="Could not fetch config, will use default configs";function aee(e){return HZ().then(function(t){var n=Rt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Rt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:nee+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Rt.getInstance().getAppId(),app_version:uU,sdk_version:eee})});return fetch(i).then(function(s){if(s.ok)return s.json();throw un.create("RC response not ok")})}).catch(function(){po.info(see)})}function nO(e){if(!e)return e;var t=Rt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=tee.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=rO(t.tracesSamplingRate),t.logNetworkAfterSampling=rO(t.networkRequestsSamplingRate),e}function uee(e){return Number(e)>Date.now()}function rO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bI=1,Ww;function _U(){return bI=2,Ww=Ww||cee(),Ww}function lee(){return bI===3}function cee(){return fee().then(function(){return zZ()}).then(function(e){return ree(e)}).then(function(){return iO()},function(){return iO()})}function fee(){var e=dn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function iO(){bI=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TI=10*1e3,hee=5.5*1e3,wU=3,dee=1e3,jg=wU,ss=[],oO=!1;function pee(){oO||(ay(hee),oO=!0)}function ay(e){setTimeout(function(){if(jg!==0){if(!ss.length)return ay(TI);vee()}},e)}function vee(){var e=ss.splice(0,dee),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Rt.getInstance().logSource,log_event:t};gee(n,e).catch(function(){ss=pe(pe([],e),ss),jg--,po.info("Tries left: "+jg+"."),ay(TI)})}function gee(e,t){return mee(e).then(function(n){return n.ok||po.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=TI;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ss=pe(pe([],t),ss),po.info("Retry transport request later.")),jg=wU,ay(i)})}function mee(e){var t=Rt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function yee(e){if(!e.eventTime||!e.message)throw un.create("invalid cc log");ss=pe(pe([],ss),[e])}function _ee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);yee({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kw;function EU(e,t){Kw||(Kw=_ee(Eee)),Kw(e,t)}function Qp(e){var t=Rt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||dn.getInstance().requiredApisAvailable()&&(e.isAuto&&yU()!==rl.VISIBLE||(lee()?Gw(e):_U().then(function(){return Gw(e)},function(){return Gw(e)})))}function Gw(e){if(EI()){var t=Rt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return EU(e,1)},0)}}function wee(e){var t=Rt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return EU(e,0)},0)}}function Eee(e,t){return t===0?bee(e):Tee(e)}function bee(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:bU(),network_request_metric:t};return JSON.stringify(n)}function Tee(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:bU(),trace_metric:t};return JSON.stringify(r)}function bU(){return{google_app_id:Rt.getInstance().getAppId(),app_instance_id:EI(),web_app_info:{sdk_version:uU,page_url:dn.getInstance().getUrl(),service_worker_status:YZ(),visibility_state:yU(),effective_connection_type:XZ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var See=100,Iee="_",kee=[cU,fU,hU];function Cee(e,t){return e.length===0||e.length>See?!1:t&&t.startsWith(lU)&&kee.indexOf(e)>-1||!e.startsWith(Iee)}function Nee(e){var t=Math.floor(e);return t<e&&po.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=dn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=jZ+"-"+this.randomId+"-"+this.name,this.traceStopMark=BZ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||GE+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw un.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw un.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Qp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw un.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw un.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ie({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Qp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(Cee(t,this.name))this.counters[t]=Nee(n);else throw un.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=JZ(t),i=ZZ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw un.create("invalid attribute name",{attributeName:t});if(!i)throw un.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ie({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=dn.getInstance().getUrl();if(i){var s=new e(lU+i,!0),a=Math.floor(dn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(cU,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&s.putMetric(fU,Math.floor(p.startTime*1e3)),r&&s.putMetric(hU,Math.floor(r*1e3))}Qp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Qp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=dn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};wee(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aee=5e3;function aO(){EI()&&(setTimeout(function(){return xee()},0),setTimeout(function(){return Ree()},0),setTimeout(function(){return Pee()},0))}function Ree(){for(var e=dn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];sO(i)}e.setupObserver("resource",sO)}function xee(){var e=dn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Uf.createOobTrace(t,n),r=void 0},Aee);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Uf.createOobTrace(t,n,i))})}else Uf.createOobTrace(t,n)}function Pee(){for(var e=dn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];uO(i)}e.setupObserver("measure",uO)}function uO(e){var t=e.name;t.substring(0,GE.length)!==GE&&Uf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oee=function(){function e(t){this.app=t,dn.getInstance().requiredApisAvailable()&&nT().then(function(n){n&&(pee(),_U().then(aO,aO))}).catch(function(n){po.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Uf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Rt.getInstance().instrumentationEnabled},set:function(t){Rt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Rt.getInstance().dataCollectionEnabled},set:function(t){Rt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dee="[DEFAULT]";function Lee(e){var t=function(n,r){if(n.name!==Dee)throw un.create("FB not default");if(typeof window>"u")throw un.create("no window");return qZ(window),Rt.getInstance().firebaseAppInstance=n,Rt.getInstance().installationsService=r,new Oee(n)};e.INTERNAL.registerComponent(new gn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(UZ,aU)}Lee(ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mee="firebase_id",Fee="origin",Uee=60*1e3,jee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TU="https://www.googletagmanager.com/gtag/js",pn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(pn||(pn={}));var QE;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(QE||(QE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a;return N(this,function(l){switch(l.label){case 0:return i&&i.global?(e(pn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ie(ie({},r),{send_to:s}),e(pn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Vee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(pn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(pn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function $ee(e,t,n,r){return A(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(pn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(pn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function qee(e,t,n,r){return A(this,void 0,void 0,function(){var i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(pn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(pn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function zee(e,t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt=new Ba("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(e,t){var n=document.createElement("script");n.src=TU+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Wee(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Kee(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h;return N(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Gt.error(h),[3,8];case 8:return e(pn.CONFIG,i,s),[2]}})})}function Gee(e,t,n,r,i){return A(this,void 0,void 0,function(){var s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(S){var C=l.find(function(T){return T.measurementId===S}),b=C&&t[C.appId];if(b)s.push(b);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],m=c(v),m!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(pn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Gt.error(y),[3,5];case 5:return[2]}})})}function Qee(e,t,n,r){function i(s,a,l){return A(this,void 0,void 0,function(){var c;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==pn.EVENT?[3,2]:[4,Gee(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==pn.CONFIG?[3,4]:[4,Kee(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(pn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Gt.error(c),[3,7];case 7:return[2]}})})}return i}function Yee(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Qee(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Xee(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(TU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr,Jee=(Kr={},Kr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Kr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Kr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Kr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Kr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Kr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Kr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Kr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Kr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Kr),Rr=new go("analytics","Analytics",Jee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zee=30,ete=1e3,tte=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=ete),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),SU=new tte;function nte(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function rte(e){var t;return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:nte(r)},s=jee.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Rr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function ite(e,t,n){return t===void 0&&(t=SU),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return N(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Rr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Rr.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ate,setTimeout(function(){return A(h,void 0,void 0,function(){return N(this,function(v){return c.abort(),[2]})})},n!==void 0?n:Uee),[2,IU({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function IU(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=SU),A(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,ote(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Gt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,rte(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!ste(p)){if(r.deleteThrottleMetadata(a),l)return Gt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return v=Number(p.customData.httpStatus)===503?Q1(s,r.intervalMillis,Zee):Q1(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),Gt.debug("Calling attemptFetch again in "+v+" millis"),[2,IU(e,m,n,r)];case 7:return[2]}})})}function ote(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Rr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ste(e){if(!(e instanceof Vl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var ate=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ute(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return Fh()?[3,1]:(Gt.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,nT()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Gt.warn(Rr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function lte(e,t,n,r,i,s){return A(this,void 0,void 0,function(){var a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return a=ite(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&Gt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return Gt.error(w)}),t.push(a),l=ute().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],Xee()||Hee(s,h.measurementId),i("js",new Date),v=(m={},m[Fee]="firebase",m.update=!0,m),p!=null&&(v[Mee]=p),i(pn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki={},lO=[],cO={},_v="dataLayer",kU="gtag",fO,of,YE=!1;function cte(e){if(YE)throw Rr.create("already-initialized");e.dataLayerName&&(_v=e.dataLayerName),e.gtagName&&(kU=e.gtagName)}function fte(){var e=[];if(tT()&&e.push("This is a browser extension environment."),GD()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Rr.create("invalid-analytics-context",{errorInfo:t});Gt.warn(n.message)}}function hte(e,t){fte();var n=e.options.appId;if(!n)throw Rr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Gt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Rr.create("no-api-key");if(Ki[n]!=null)throw Rr.create("already-exists",{id:n});if(!YE){Wee(_v);var r=Yee(Ki,lO,cO,_v,kU),i=r.wrappedGtag,s=r.gtagCore;of=i,fO=s,YE=!0}Ki[n]=lte(e,lO,cO,t,fO,_v);var a={app:e,logEvent:function(l,c,h){Bee(of,Ki[n],l,c,h).catch(function(p){return Gt.error(p)})},setCurrentScreen:function(l,c){Vee(of,Ki[n],l,c).catch(function(h){return Gt.error(h)})},setUserId:function(l,c){$ee(of,Ki[n],l,c).catch(function(h){return Gt.error(h)})},setUserProperties:function(l,c){qee(of,Ki[n],l,c).catch(function(h){return Gt.error(h)})},setAnalyticsCollectionEnabled:function(l){zee(Ki[n],l).catch(function(c){return Gt.error(c)})},INTERNAL:{delete:function(){return delete Ki[n],Promise.resolve()}}};return a}var dte="@firebase/analytics",pte="0.6.18",hO="analytics";function vte(e){e.INTERNAL.registerComponent(new gn(hO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return hte(r,i)},"PUBLIC").setServiceProps({settings:cte,EventName:QE,isSupported:gte})),e.INTERNAL.registerComponent(new gn("analytics-internal",t,"PRIVATE")),e.registerVersion(dte,pte);function t(n){try{var r=n.getProvider(hO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Rr.create("interop-component-reg-failed",{reason:i})}}}vte(ee);function gte(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(tT())return[2,!1];if(!GD())return[2,!1];if(!Fh())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,nT()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mte=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,yte=(bn={},bn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",bn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",bn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",bn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",bn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",bn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",bn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",bn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",bn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",bn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',bn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',bn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",bn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",bn),Cr=new go("remoteconfig","Remote Config",yte);function _te(e,t){return e instanceof Vl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wte(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ete=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,m,y,w,S,C,b,T,I,P;return N(this,function(L){switch(L.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=L.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:wte()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),v=new Promise(function(O,B){t.signal.addEventListener(function(){var F=new Error("The operation was aborted.");F.name="AbortError",B(F)})}),L.label=2;case 2:return L.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return L.sent(),[4,p];case 4:return m=L.sent(),[3,6];case 5:throw y=L.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Cr.create(w,{originalErrorMessage:y.message});case 6:if(S=m.status,C=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];I=void 0,L.label=7;case 7:return L.trys.push([7,9,,10]),[4,m.json()];case 8:return I=L.sent(),[3,10];case 9:throw P=L.sent(),Cr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:b=I.entries,T=I.state,L.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?S=500:T==="NO_CHANGE"?S=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(b={}),S!==304&&S!==200)throw Cr.create("fetch-status",{httpStatus:S});return[2,{status:S,eTag:C,config:b}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tte=!1,Ste="",dO=0,Ite=["1","true","t","yes","y","on"],Qw=function(){function e(t,n){n===void 0&&(n=Ste),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?Tte:Ite.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return dO;var t=Number(this._value);return isNaN(t)&&(t=dO),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kte=60*1e3,Cte=12*60*60*1e3,Nte=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:kte,minimumFetchIntervalMillis:Cte},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ye.DEBUG;break;case"silent":this._logger.logLevel=ye.SILENT;break;default:this._logger.logLevel=ye.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return A(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new bte,setTimeout(function(){return A(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=_te(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return A(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Ate(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Qw("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Qw("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Qw("static"))},e}();function Ate(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ie(ie({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e,t){var n=e.target.error||void 0;return Cr.create(t,{originalErrorMessage:n&&n.message})}var Js="app_namespace_store",Rte="firebase_remote_config",xte=1;function Pte(){return new Promise(function(e,t){var n=indexedDB.open(Rte,xte);n.onerror=function(r){t(wv(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Js,{keyPath:"compositeKey"})}}})}var Ote=function(){function e(t,n,r,i){i===void 0&&(i=Pte()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Js],"readonly"),c=l.objectStore(Js),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(v){a(wv(v,"storage-get"))},p.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Cr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return A(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Js],"readwrite"),h=c.objectStore(Js),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(m){l(wv(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){l(Cr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return A(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Js],"readwrite"),c=l.objectStore(Js),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(v){a(wv(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(Cr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dte=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return A(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lte(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Cr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Mte(e){if(!(e instanceof Vl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Fte=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return A(this,void 0,void 0,function(){var s,a,l;return N(this,function(c){switch(c.label){case 0:return[4,Lte(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Mte(a))throw a;return l={throttleEndTimeMillis:Date.now()+Q1(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),pO="@firebase/remote-config",Ute="0.1.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(e){e.INTERNAL.registerComponent(new gn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(pO,Ute);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Cr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw Cr.create("registration-project-id");if(!h)throw Cr.create("registration-api-key");if(!p)throw Cr.create("registration-app-id");i=i||"firebase";var v=new Ote(p,s.name,i),m=new Dte(v),y=new Ba(pO);y.logLevel=ye.ERROR;var w=new Ete(a,e.SDK_VERSION,i,c,h,p),S=new Fte(w,v),C=new mte(S,v,m,y),b=new Nte(s,C,m,v,y);return b.ensureInitialized(),b}}jte(ee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,Bte=(Gr={},Gr["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Gr["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Gr["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Gr["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Gr["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Gr["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Gr["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Gr["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Gr["recaptcha-error"]="ReCAPTCHA error.",Gr),ar=new go("appCheck","AppCheck",Bte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CU=new Map,Vte={activated:!1,tokenObservers:[]},$te={enabled:!1};function Pn(e){return CU.get(e)||Vte}function xi(e,t){CU.set(e,t)}function SI(){return $te}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NU="https://content-firebaseappcheck.googleapis.com/v1beta",qte="exchangeRecaptchaToken",zte="exchangeDebugToken",vO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hte=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return A(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new jt,[4,Wte(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new jt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Wte(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return self.grecaptcha}function AU(e){if(!Pn(e).activated)throw ar.create("use-before-activation",{appName:e.name})}function Kte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Gte(e){return rm.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(e,t){var n=e.url,r=e.body;return A(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,m,y;return N(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=w.sent(),[3,4];case 3:throw c=w.sent(),ar.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw ar.create("fetch-status-error",{httpStatus:l.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,l.json()];case 6:return h=w.sent(),[3,8];case 7:throw p=w.sent(),ar.create("fetch-parse-error",{originalErrorMessage:p.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return m=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+m,issuedAtTimeMillis:y}]}})})}function Qte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:NU+"/projects/"+r+"/apps/"+i+":"+qte+"?key="+s,body:{recaptcha_token:t}}}function Yte(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:NU+"/projects/"+r+"/apps/"+i+":"+zte+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xte="firebase-app-check-database",Jte=1,Ah="firebase-app-check-store",xU="debug-token",Yp=null;function PU(){return Yp||(Yp=new Promise(function(e,t){try{var n=indexedDB.open(Xte,Jte);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(ar.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ah,{keyPath:"compositeKey"})}}}catch(r){t(ar.create("storage-open",{originalErrorMessage:r.message}))}}),Yp)}function Zte(e){return DU(LU(e))}function ene(e,t){return OU(LU(e),t)}function tne(e){return OU(xU,e)}function nne(){return DU(xU)}function OU(e,t){return A(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,PU()];case 1:return n=a.sent(),r=n.transaction(Ah,"readwrite"),i=r.objectStore(Ah),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var p;c(ar.create("storage-set",{originalErrorMessage:(p=h.target.error)===null||p===void 0?void 0:p.message}))}})]}})})}function DU(e){return A(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,PU()];case 1:return t=s.sent(),n=t.transaction(Ah,"readonly"),r=n.objectStore(Ah),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(ar.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function LU(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uy=new Ba("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!Fh())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Zte(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),uy.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function mO(e,t){return Fh()?ene(e,t).catch(function(n){uy.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function ine(){return A(this,void 0,void 0,function(){var e,t;return N(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,nne()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=Kte(),tne(t).catch(function(r){return uy.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function one(){var e=SI();return e.enabled}function sne(){return A(this,void 0,void 0,function(){var e;return N(this,function(t){if(e=SI(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function ane(){var e=dz();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=SI();t.enabled=!0;var n=new jt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(ine())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var une={error:"UNKNOWN_ERROR"};function Bg(e,t,n){return n===void 0&&(n=!1),A(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,m;return N(this,function(y){switch(y.label){case 0:return AU(e),r=Pn(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&Rh(a)&&(i=a,xi(e,ie(ie({},r),{token:i})),yO(e,{token:i.token})),y.label=2;case 2:return!n&&i&&Rh(i)?[2,{token:i.token}]:one()?(c=RU,h=Yte,p=[e],[4,sne()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,p.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,mO(e,l)];case 5:return y.sent(),xi(e,ie(ie({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),uy.error(v),s=v,[3,9];case 9:return i?[3,10]:(m=cne(s),[3,12]);case 10:return m={token:i.token},xi(e,ie(ie({},r),{token:i})),[4,mO(e,i)];case 11:y.sent(),y.label=12;case 12:return yO(e,m),[2,m]}})})}function MU(e,t,n,r,i){var s=Pn(e),a={next:r,error:i,type:n},l=ie(ie({},s),{tokenObservers:pe(pe([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=lne(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&Rh(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(p){p&&Rh(p)&&r({token:p.token})}).catch(function(){});xi(e,l)}function II(e,t){var n=Pn(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),xi(e,ie(ie({},n),{tokenObservers:r}))}function lne(e,t){var n=this;return new Hte(function(){return A(n,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=Pn(e),r.token?[3,2]:[4,Bg(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,Bg(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=Pn(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},vO.RETRIAL_MIN_WAIT,vO.RETRIAL_MAX_WAIT)}function yO(e,t){for(var n=Pn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function Rh(e){return e.expireTimeMillis-Date.now()>0}function cne(e){return{token:Gte(une),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fne="https://www.google.com/recaptcha/api.js";function hne(e,t){var n=Pn(e),r=new jt;xi(e,ie(ie({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=gO();return a?a.ready(function(){_O(e,t,a,i),r.resolve(a)}):pne(function(){var l=gO();if(!l)throw new Error("no recaptcha");l.ready(function(){_O(e,t,l,i),r.resolve(l)})}),r.promise}function dne(e){return A(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return AU(e),t=Pn(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=Pn(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function _O(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=Pn(e);xi(e,ie(ie({},s),{reCAPTCHAState:ie(ie({},s.reCAPTCHAState),{widgetId:i})}))}function pne(e){var t=document.createElement("script");t.src=""+fne,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw ar.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,dne(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),ar.create("recaptcha-error");case 4:return[2,RU(Qte(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,hne(t,this._siteKey).catch(function(){})},e}(),JE=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return A(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:if(!this._app)throw ar.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=mz(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ie(ie({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vne(e,t,n,r){var i=Pn(e);if(i.activated)throw ar.create("already-activated",{appName:e.name});var s=ie(ie({},i),{activated:!0});s.cachedTokenPromise=rne(e).then(function(a){return a&&Rh(a)&&xi(e,ie(ie({},Pn(e)),{token:a})),a}),typeof t=="string"?s.provider=new XE(t):t instanceof XE||t instanceof JE?s.provider=t:s.provider=new JE({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,xi(e,s),s.provider.initialize(e,n)}function gne(e,t){var n=Pn(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),xi(e,ie(ie({},n),{isTokenAutoRefreshEnabled:t}))}function mne(e,t,n){return A(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,Bg(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function yne(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),MU(e,t,"EXTERNAL",s,a),function(){return II(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(e,t){return{app:e,activate:function(n,r){return vne(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return gne(e,n)},getToken:function(n){return mne(e,t,n)},onTokenChanged:function(n,r,i){return yne(e,t,n,r)},INTERNAL:{delete:function(){for(var n=Pn(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];II(e,s.next)}return Promise.resolve()}}}}function wne(e,t){return{getToken:function(n){return Bg(e,t,n)},addTokenListener:function(n){return MU(e,t,"INTERNAL",n)},removeTokenListener:function(n){return II(e,n)}}}var Ene="@firebase/app-check",bne="0.3.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tne="appCheck",wO="app-check-internal";function Sne(e){e.INTERNAL.registerComponent(new gn(Tne,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return _ne(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:XE,CustomProvider:JE}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(wO);i.initialize()})),e.INTERNAL.registerComponent(new gn(wO,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return wne(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(Ene,bne)}Sne(ee);ane();var Ine="firebase",FU="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ee.registerVersion(Ine,FU,"app");ee.SDK_VERSION=FU;var kne="firebase",Cne="8.10.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ee.registerVersion(kne,Cne);const Nne={apiKey:"AIzaSyBpBE9bWyRzaJP8g1cjgGEuciTrvKJDBrE",authDomain:"cristminix-c5687.firebaseapp.com",projectId:"cristminix-c5687",storageBucket:"cristminix-c5687.appspot.com",messagingSenderId:"7808653581",appId:"1:7808653581:web:688ab1ce82143a73d0f844",measurementId:"G-T5KWSRLVM2"};ee.initializeApp(Nne);var EO=ee.firestore();const Mi=Object.create(null);Mi.open="0";Mi.close="1";Mi.ping="2";Mi.pong="3";Mi.message="4";Mi.upgrade="5";Mi.noop="6";const Ev=Object.create(null);Object.keys(Mi).forEach(e=>{Ev[Mi[e]]=e});const Ane={type:"error",data:"parser error"},Rne=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xne=typeof ArrayBuffer=="function",Pne=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,UU=({type:e,data:t},n,r)=>Rne&&t instanceof Blob?n?r(t):bO(t,r):xne&&(t instanceof ArrayBuffer||Pne(t))?n?r(t):bO(new Blob([t]),r):r(Mi[e]+(t||"")),bO=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)},TO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",df=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<TO.length;e++)df[TO.charCodeAt(e)]=e;const One=e=>{let t=e.length*.75,n=e.length,r,i=0,s,a,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(r=0;r<n;r+=4)s=df[e.charCodeAt(r)],a=df[e.charCodeAt(r+1)],l=df[e.charCodeAt(r+2)],c=df[e.charCodeAt(r+3)],p[i++]=s<<2|a>>4,p[i++]=(a&15)<<4|l>>2,p[i++]=(l&3)<<6|c&63;return h},Dne=typeof ArrayBuffer=="function",jU=(e,t)=>{if(typeof e!="string")return{type:"message",data:BU(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Lne(e.substring(1),t)}:Ev[n]?e.length>1?{type:Ev[n],data:e.substring(1)}:{type:Ev[n]}:Ane},Lne=(e,t)=>{if(Dne){const n=One(e);return BU(n,t)}else return{base64:!0,data:e}},BU=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},VU=String.fromCharCode(30),Mne=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,a)=>{UU(s,!1,l=>{r[a]=l,++i===n&&t(r.join(VU))})})},Fne=(e,t)=>{const n=e.split(VU),r=[];for(let i=0;i<n.length;i++){const s=jU(n[i],t);if(r.push(s),s.type==="error")break}return r},$U=4;function wt(e){if(e)return Une(e)}function Une(e){for(var t in wt.prototype)e[t]=wt.prototype[t];return e}wt.prototype.on=wt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};wt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};wt.prototype.off=wt.prototype.removeListener=wt.prototype.removeAllListeners=wt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};wt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};wt.prototype.emitReserved=wt.prototype.emit;wt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};wt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Er=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function qU(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const jne=Er.setTimeout,Bne=Er.clearTimeout;function ly(e,t){t.useNativeTimers?(e.setTimeoutFn=jne.bind(Er),e.clearTimeoutFn=Bne.bind(Er)):(e.setTimeoutFn=Er.setTimeout.bind(Er),e.clearTimeoutFn=Er.clearTimeout.bind(Er))}const Vne=1.33;function $ne(e){return typeof e=="string"?qne(e):Math.ceil((e.byteLength||e.size)*Vne)}function qne(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class zne extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class zU extends wt{constructor(t){super(),this.writable=!1,ly(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new zne(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=jU(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const HU="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ZE=64,Hne={};let SO=0,Xp=0,IO;function kO(e){let t="";do t=HU[e%ZE]+t,e=Math.floor(e/ZE);while(e>0);return t}function WU(){const e=kO(+new Date);return e!==IO?(SO=0,IO=e):e+"."+kO(SO++)}for(;Xp<ZE;Xp++)Hne[HU[Xp]]=Xp;function KU(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Wne(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let GU=!1;try{GU=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Kne=GU;function QU(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Kne))return new XMLHttpRequest}catch{}if(!t)try{return new Er[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Gne(){}const Qne=function(){return new QU({xdomain:!1}).responseType!=null}();class Yne extends zU{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=Qne&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Fne(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Mne(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=WU()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=KU(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new il(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let il=class bv extends wt{constructor(t,n){super(),ly(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=qU(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new QU(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=bv.requestsCount++,bv.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Gne,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete bv.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};il.requestsCount=0;il.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",CO);else if(typeof addEventListener=="function"){const e="onpagehide"in Er?"pagehide":"unload";addEventListener(e,CO,!1)}}function CO(){for(let e in il.requests)il.requests.hasOwnProperty(e)&&il.requests[e].abort()}const YU=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Jp=Er.WebSocket||Er.MozWebSocket,NO=!0,Xne="arraybuffer",AO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Jne extends zU{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=AO?{}:qU(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=NO&&!AO?n?new Jp(t,n):new Jp(t):new Jp(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||Xne,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;UU(r,this.supportsBinary,s=>{const a={};try{NO&&this.ws.send(s)}catch{}i&&YU(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=WU()),this.supportsBinary||(t.b64=1);const i=KU(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Jp}}const Zne={websocket:Jne,polling:Yne},ere=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tre=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function eb(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=ere.exec(e||""),s={},a=14;for(;a--;)s[tre[a]]=i[a]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=nre(s,s.path),s.queryKey=rre(s,s.query),s}function nre(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function rre(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let XU=class xu extends wt{constructor(t,n={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=eb(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=eb(n.host).host),ly(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Wne(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=$U,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Zne[t](r)}open(){let t;if(this.opts.rememberUpgrade&&xu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;xu.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,p(),n.close(),n=null)}const a=v=>{const m=new Error("probe error: "+v);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function l(){a("transport closed")}function c(){a("socket closed")}function h(v){n&&v.name!==n.name&&s()}const p=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",h)};n.once("open",i),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",h),n.open()}onOpen(){if(this.readyState="open",xu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=$ne(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){xu.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};XU.protocol=$U;function ire(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=eb(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const ore=typeof ArrayBuffer=="function",sre=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,JU=Object.prototype.toString,are=typeof Blob=="function"||typeof Blob<"u"&&JU.call(Blob)==="[object BlobConstructor]",ure=typeof File=="function"||typeof File<"u"&&JU.call(File)==="[object FileConstructor]";function kI(e){return ore&&(e instanceof ArrayBuffer||sre(e))||are&&e instanceof Blob||ure&&e instanceof File}function Tv(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Tv(e[n]))return!0;return!1}if(kI(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Tv(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Tv(e[n]))return!0;return!1}function lre(e){const t=[],n=e.data,r=e;return r.data=tb(n,t),r.attachments=t.length,{packet:r,buffers:t}}function tb(e,t){if(!e)return e;if(kI(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=tb(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=tb(e[r],t));return n}return e}function cre(e,t){return e.data=nb(e.data,t),delete e.attachments,e}function nb(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=nb(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=nb(e[n],t));return e}const fre=5;var Se;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Se||(Se={}));class hre{constructor(t){this.replacer=t}encode(t){return(t.type===Se.EVENT||t.type===Se.ACK)&&Tv(t)?this.encodeAsBinary({type:t.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Se.BINARY_EVENT||t.type===Se.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=lre(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class CI extends wt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Se.BINARY_EVENT;r||n.type===Se.BINARY_ACK?(n.type=r?Se.EVENT:Se.ACK,this.reconstructor=new dre(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(kI(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Se[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Se.BINARY_EVENT||r.type===Se.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(s,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(CI.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Se.CONNECT:return typeof n=="object";case Se.DISCONNECT:return n===void 0;case Se.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Se.ACK:case Se.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dre{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=cre(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pre=Object.freeze(Object.defineProperty({__proto__:null,Decoder:CI,Encoder:hre,get PacketType(){return Se},protocol:fre},Symbol.toStringTag,{value:"Module"}));function Zr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const vre=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ZU extends wt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Zr(t,"open",this.onopen.bind(this)),Zr(t,"packet",this.onpacket.bind(this)),Zr(t,"error",this.onerror.bind(this)),Zr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(vre.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Se.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,l=n.pop();this._registerAckCallback(a,l),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((a,l)=>r?a?s(a):i(l):i(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this.ids++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(){if(this._queue.length===0)return;const t=this._queue[0];if(t.pending)return;t.pending=!0,t.tryCount++;const n=this.ids;this.ids=t.id,this.flags=t.flags,this.emit.apply(this,t.args),this.ids=n}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Se.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(t);break;case Se.ACK:case Se.BINARY_ACK:this.onack(t);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Se.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ic(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ic.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ic.prototype.reset=function(){this.attempts=0};ic.prototype.setMin=function(e){this.ms=e};ic.prototype.setMax=function(e){this.max=e};ic.prototype.setJitter=function(e){this.jitter=e};class rb extends wt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ly(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ic({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||pre;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new XU(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Zr(n,"open",function(){r.onopen(),t&&t()}),s=Zr(n,"error",a=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",a),t?t(a):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&i();const l=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Zr(t,"ping",this.onping.bind(this)),Zr(t,"data",this.ondata.bind(this)),Zr(t,"error",this.onerror.bind(this)),Zr(t,"close",this.onclose.bind(this)),Zr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){YU(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new ZU(this,t,n),this.nsps[t]=r),this._autoConnect&&r.connect(),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const sf={};function Sv(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=ire(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=sf[i]&&s in sf[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return l?c=new rb(r,t):(sf[i]||(sf[i]=new rb(r,t)),c=sf[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Sv,{Manager:rb,Socket:ZU,io:Sv,connect:Sv});const ke={instance:null,url:"http://localhost:8088",callbacks:{connect:[()=>{console.log(`socketClient connected at ${ke.url}`)}],disconnect:[()=>{console.log(`socketClient disconnected at ${ke.url}`)}],serverInfo:[()=>{console.log(`socketClient serverInfo at ${ke.url}`)}]},callbackFn:{connect:()=>{ke.callbacks.connect.map(e=>{e()})},disconnect:()=>{ke.callbacks.disconnect.map(e=>{e()})},serverInfo:e=>{ke.callbacks.serverInfo.map(t=>{t(e)})}},destroy:()=>{if(ke.instance){console.log("socketClient.destroy()");try{ke.instance.off("connect",ke.callbackFn.connect),ke.instance.off("disconnect",ke.callbackFn.disconnect),ke.instance.off("serverInfo",ke.callbackFn.serverInfo),ke.instance.close(),delete ke.instance,ke.instance=null}catch(e){console.log(e)}}},setup:e=>{console.log("socketClient.setup()"),ke.url=e,ke.init()},changeUrl:e=>{console.log("socketClient.changeUrl()"),ke.url=e,ke.destroy(),ke.init()},setUrl:e=>{ke.url=e},init:()=>{ke.instance=Sv(ke.url,{reconnection:!1,extraHeaders:{"ngrok-skip-browser-warning":1}}),ke.instance.on("connect",()=>{ke.callbackFn.connect(),ke.instance.on("disconnect",ke.callbackFn.disconnect),ke.instance.on("serverInfo",ke.callbackFn.serverInfo)})}},ej=()=>{const[e,t]=at.useState("");return{serverCfg:e,setServerCfg:t}},tj=()=>{const[e,t]=at.useState("");return{socketConnected:e,setSocketConnected:t}},gre=()=>ja(tj),mre=()=>ja(ej);function yre(){const[e,t]=at.useState(""),{serverCfg:n,setServerCfg:r}=mre(),{socketConnected:i,setSocketConnected:s}=gre();async function a(){try{const m=await(await EO.collection("tunnel_config").doc("service_map")).get();if(m.exists)return m.data()}catch{}return null}async function l(){try{const m=await(await EO.collection("tunnel_config").doc("config")).get();if(m.exists)return m.data()}catch{}return null}async function c(){console.log("GET CONFIG");try{const v=await a(),m=await l(),y={config:m,serviceMap:v};m&&(h(y),t(y),r(y))}catch(v){console.log(v.message)}}function h(v){let m=W1(v);ke.url!=m&&(console.log(`initSocket ${m}`),ke.changeUrl(m),ke.instance.on("connect",()=>{s(!0),ke.instance.on("disconnect",()=>{s(!1)})}))}at.useEffect(()=>{const v=setInterval(()=>{c().then(m=>{})},5e3);return()=>{clearInterval(v)}},[]);let p=x("tr",{children:x("td",{children:"No Results"})});if(e.config){let v=W1(e);p=Z(Et,{children:[Z("tr",{children:[x("th",{children:"API Url"}),x("td",{children:x("a",{target:"_blank",href:v,children:v})})]}),Z("tr",{children:[x("th",{children:"Server IP"}),x("td",{children:e.config.server_ip})]})]})}return x(Et,{children:x("div",{className:"col-xl-12 mt-2",children:Z("div",{className:"card card-flush",children:[Z("div",{className:"card-header border-0 pt-0",children:[x("div",{className:"card-title",children:x("div",{className:"d-flex align-items-center position-relative my-1",children:"Server Info"})}),x("div",{className:"card-toolbar"})]}),x("div",{className:"card-body pt-0",children:x("div",{className:"hover-scroll-overlay-y pe-6 me-n6",style:{maxHeight:"415px"},children:x("table",{className:"table align-middle table-row-dashed fs-6 gy-5 mb-0",children:x("tbody",{className:"fw-semibold text-gray-600",children:p})})})})]})})})}const _re=()=>ja(tj);function wre(){const{socketConnected:e}=_re();return x(Et,{children:x("div",{className:"col-xl-4 col-md-6 mt-2",children:x("div",{className:"card card-h-100",children:Z("div",{className:"card-body",children:[x("div",{className:"row",children:x("span",{className:"text-muted mb-3 d-block text-truncate",children:"Socket Client Status"})}),x("div",{className:"row",children:x("div",{children:e?x("i",{style:{fontSize:"2em",color:"green"},className:"fas fa-toggle-on"}):x("i",{style:{fontSize:"2em",color:"red"},className:"fas fa-toggle-off"})})})]})})})})}const Ere=()=>ja(ej);function bre(){const{serverCfg:e,setServerCfg:t}=Ere(),[n,r]=at.useState(""),[i,s]=at.useState(""),[a,l]=at.useState(""),[c,h]=at.useState(""),[p,v]=at.useState("");let m;m=W1(e);function y(){fetch(`${m}/api/sysinfo/getBasicInfo?t=disk`,{headers:{"ngrok-skip-browser-warning":1}}).then(z=>{try{return z.json()}catch{return{}}}).then(z=>s(z))}function w(){fetch(`${m}/api/sysinfo/getBasicInfo?t=os`,{headers:{"ngrok-skip-browser-warning":1}}).then(z=>{try{return z.json()}catch{return{}}}).then(z=>v(z))}function S(){fetch(`${m}/api/sysinfo/getBasicInfo?t=cpu`,{headers:{"ngrok-skip-browser-warning":1}}).then(z=>{try{return z.json()}catch{return{}}}).then(z=>h(z))}function C(){fetch(`${m}/api/sysinfo/getBasicInfo?t=mem`,{headers:{"ngrok-skip-browser-warning":1}}).then(z=>{try{return z.json()}catch{return{}}}).then(z=>l(z))}function b(){fetch(`${m}/api/sysinfo/getBasicInfo?t=uptime`,{headers:{"ngrok-skip-browser-warning":1}}).then(z=>{try{return z.json()}catch{return{}}}).then(z=>r(z))}at.useEffect(()=>{const z=setInterval(()=>{y(),C(),S(),b()},5e3);return()=>{clearInterval(z)}},[m]),at.useEffect(()=>{w();const z=setInterval(()=>{w()},15e3*2);return()=>{clearInterval(z)}},[m]);let T=0,I=0,P=0,L,O="";try{const z=i[0];O=z.Filesystem,T=z["1K-blocks"],I=z.Available,P=z.Used,L=z["Use%"]}catch{}let B,F,ue;try{B=a.MemTotal,F=a.MemFree,ue=Math.ceil(F/B*100)}catch{}let R,pt,Ln,li;try{R=c.model,Ln=c.load,li=c.core,pt=c.speed*1024}catch{}let ji,ci,Mr,Bi,W,se;try{const z=p.data;ji=z.distro,Bi=z.arch,W=z.hostname,se=z.kernel,ci=z.logofile}catch{}return x(Et,{children:x("div",{className:"col-xl-4 col-md-6 mt-2",children:x("div",{className:"card card-h-100",children:Z("div",{className:"card-body",children:[x("div",{className:"row",children:x("span",{className:"text-muted mb-3 d-block text-truncate",children:"System Info"})}),x("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[x("div",{className:"col-span-2 row-span-2 text-center pt-0",children:x("i",{className:"fas fa-microchip",style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[x("div",{children:R}),x("div",{className:"w-full bg-gray-200 h-1",children:x("div",{className:"bg-blue-600 h-1",style:{width:Ln}})}),Z("div",{children:[Xc(pt,!0,1).replace(/GB/,"Ghz")," Core: ",li]})]})]})}),x("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[x("div",{className:"col-span-2 row-span-2 text-center pt-0",children:x("i",{className:"fas fa-memory",style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[x("div",{children:"RAM"}),x("div",{className:"w-full bg-gray-200 h-1",children:x("div",{className:"bg-blue-600 h-1",style:{width:`${ue}%`}})}),Z("div",{children:[Xc(F,!0,1)," free of ",Xc(B,!0,0)]})]})]})}),x("div",{className:"row",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[x("div",{className:"col-span-2 row-span-2 text-center pt-0",children:x("i",{className:"fas fa-hdd",style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[Z("div",{children:["HDD ",O]}),x("div",{className:"w-full bg-gray-200 h-1",children:x("div",{className:"bg-blue-600 h-1",style:{width:L}})}),Z("div",{children:[Xc(I,!0,1)," free of ",Xc(T,!0,0)]})]})]})}),x("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[x("div",{className:"col-span-2 row-span-2 text-center pt-0",children:x("i",{className:`fas fa-${ci}`,style:{fontSize:"1em"}})}),Z("div",{className:"col-span-10",children:[x("div",{children:Mr}),Z("div",{children:[ji," ",Bi]}),Z("div",{children:[W," ",se]})]})]})}),x("div",{className:"row mb-1",children:Z("div",{className:"max-w-7xl mx-auto grid grid-cols-12 ",children:[x("div",{className:"col-span-2 row-span-2 text-center pt-0",children:x("i",{className:"fas fa-hourglass-2",style:{fontSize:"1em"}})}),x("div",{className:"col-span-10",children:Z("div",{children:["UP ",n.ut_hour," hr ",n.ut_min," min ",n.ut_sec," sec"]})})]})})]})})})})}class Tre extends Ph.Component{render(){return x(Et,{children:Z("div",{className:"wrapper d-flex flex-column flex-row-fluid",id:"kt_wrapper",children:[x(oz,{title:"Dashboard"}),x("div",{className:"content d-flex flex-column flex-column-fluid",id:"kt_content",children:x("div",{className:"container-fluid",id:"kt_content_container",children:Z("div",{className:"row",children:[x(Zq,{}),x(bre,{}),x(wre,{}),x(yre,{})]})})}),x(ez,{})]})})}}function Sre(){return document.title="Dashboard",x(Et,{children:Z("div",{className:"page d-flex flex-row flex-column-fluid",children:[x(Jq,{}),x(Tre,{})]})})}const Ire=()=>ja(Jb);function kre(e){const{isLogedIn:t,setIsLogedIn:n}=Ire(),[r,i]=at.useState("admin@gmail.com"),[s,a]=at.useState("admin@gmail.com");function l(c){return localStorage.isLogedIn="true",n("true"),document.location.hash="dashboard",c.preventDefault(),!1}return x(Et,{children:x("div",{className:"d-flex flex-center flex-column flex-lg-row-fluid",children:x("div",{className:"w-lg-500px p-10",children:Z("form",{className:"mt-4 pt-2",id:"account",method:"post",onSubmit:l,children:[Z("div",{className:"text-center mb-11",children:[x("h1",{className:"text-dark fw-bolder mb-3",children:"Masuk"}),x("div",{className:"text-gray-500 fw-semibold fs-6"})]}),Z("div",{className:"fv-row mb-8",children:[x("input",{value:r,onChange:()=>{},type:"text",placeholder:"Email",autoComplete:"off",className:"form-control bg-transparent","data-val":"true","data-val-email":"Isian Email e-mail salah.","data-val-required":"Isisn Email diperlukan.",id:"Input_Email",name:"Input.Email"}),x("span",{className:"text-danger field-validation-valid","data-valmsg-for":"Input.Email","data-valmsg-replace":"true"})]}),Z("div",{className:"fv-row mb-3",children:[x("input",{value:s,onChange:()=>{},type:"password",placeholder:"Password",autoComplete:"off",className:"form-control bg-transparent","data-val":"true","data-val-required":"Isian Password diperlukan.",id:"Input_Password",name:"Input.Password"}),x("span",{className:"text-danger field-validation-valid","data-valmsg-for":"Input.Password","data-valmsg-replace":"true"})]}),x("div",{className:"d-flex flex-stack flex-wrap gap-3 fs-base fw-semibold mb-8",children:x("div",{})}),x("div",{className:"d-grid mb-10",children:Z("button",{type:"submit",id:"kt_sign_in_submit",className:"btn btn-primary",children:[x("span",{className:"indicator-label",children:"Masuk"}),Z("span",{className:"indicator-progress",children:["Mohon menunggu...",x("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})}),x("div",{className:"text-danger validation-summary-valid","data-valmsg-summary":"true",children:x("ul",{children:x("li",{style:{display:"none"}})})}),x("input",{name:"__RequestVerificationToken",type:"hidden",value:"token"})]})})})})}function Cre(e){return x(Et,{children:x("div",{className:"d-flex flex-column flex-lg-row-fluid w-lg-50 p-10 order-2 order-lg-1",children:x(kre,{})})})}function Nre(e){return x(Et,{children:x("div",{className:"d-flex flex-lg-row-fluid w-lg-50 bgi-size-cover bgi-position-center order-1 order-lg-2",style:{backgroundColor:"#1e1e2d"},children:x("div",{className:"d-flex flex-column flex-center py-7 py-lg-15 px-5 px-md-15 w-100",children:Z("a",{href:"/",className:"mb-0 mb-lg-12",children:[x("img",{alt:"Logo",src:Qv,className:"h-100px logo theme-light-show"}),x("img",{alt:"Logo",src:Qv,className:"h-100px logo theme-dark-show"})]})})})})}function Are(){return document.title="Masuk",x(Et,{children:x("div",{className:"d-flex flex-column flex-root",children:Z("div",{className:"d-flex flex-column flex-lg-row flex-column-fluid",children:[x(Cre,{}),x(Nre,{})]})})})}const Rre=()=>ja(Jb);function xre(){const{isLogedIn:e,setIsLogedIn:t}=Rre();let n;return t(localStorage.isLogedIn),e=="true"?n=Sre:n=Are,x(n,{})}Yw.createRoot(document.getElementById("root")).render(x(Ph.StrictMode,{children:x(xre,{})}));
